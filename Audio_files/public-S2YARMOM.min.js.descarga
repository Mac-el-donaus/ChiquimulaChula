(function(){var ce=function(e){return typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:function(a,o){return(typeof require!="undefined"?require:a)[o]}}):e}(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var de=function(e,a){return function(){return a||e((a={exports:{}}).exports,a),a.exports}};var he=de(function(exports,module){window.config={fromGoogle:!1,basePath:"",staticPath:"/pc/",staticAddr:location.href.indexOf("https://www-isp.boomplay.com")?"https://source.boomplaymusic.com/":"https://source-isp.boomplaymusic.com/",BCoins:"https://live-center.boomplay.com/#/outsideRecharge",shareBaseUrl:{song:"https://www.boomplay.com/songs/",episode:"https://www.boomplay.com/episode/",bp:"https://www.boomplay.com/",embed:"https://www.boomplay.com/embed/"},constant:{bannerIntervalTime:5e3,columnMaxLeft:25,maxCommentContent:500,maxLine:12,maxCommentHeight:18*5},msg:{download:"Download any song or album for offline for FREE on the Boomplay App.",downloadVideo:"Download any video for offline for FREE on the Boomplay App.",noSong:"Please choose a song to play first.",deletePlaylists:"Do you want to delete this playlist?",deletePlaylistsSucc:"Success.",newPlaylistsSucc:"Success.",addToMyPlaylistsSucc:"Added",love:"Added to Favourites.",unlove:"Removed from Favourites.",favouritesNoSong:"No songs in your favorites. Go and find more music on Boomplay.",favouritesNoSongThisPage:"No songs in this page. Go and find more music on Boomplay.",discover:"Discover more music",searchEmpty:"Please input a search keyword.",commentContentTroppo:"The number of characters input must be less than 500.",loginLose:"Unsuccessful login attempts, please try again.",default_shareSong:"Looking for your favourite songs and videos? Get everything music from Boomplay.",default_shareCOl:"Looking for your favourite songs and videos? Get everything music from Boomplay.",default_shareBuzz:"Looking for your favourite buzz? Get everything music from Boomplay.",default_shareVideo:"Looking for your favourite video? Get everything video from Boomplay.",saveProfile:"Do you want to exit without saving?",notAvailable:"Sorry, the copyright owner has not made this available in this territory.",needSubscribe_song:"You need to subscribe to listen to this song.",needSubscribe_album:"You need to subscribe to listen to this album.",needSubscribe_playlist:"You need to subscribe to listen to this playlist.",needSubscribe_episode:"You need to subscribe to listen to this episode.",needSubscribe_show:"You need to subscribe to listen to this show.",playSong:{kickText:"Your account has been logged in via other devices, please log in to check if the account can be used.",autoLoginBtn:"Auto Login",autoLoginBtn_cancel:"I know",removeBtn:"Remove",removeBtn_cancel:"Cancel",removeText:". Do you want remove this song from playlist?"},revokedAccess:"Successfully revoked access.",banTips:'<div style="font-size: 14px; text-align: left; line-height: 20px; margin: -40px 0;"><div style="font-size: 24px; font-weight: 700;">Dear User,</div>\n            <div style="margin-top: 13px;">We regret to inform you that your account has been temporarily suspended due to a breach of our app policy. Our team has identified activities on your account that violate the terms and conditions outlined in our policy.</div>\n            <div style="margin-top: 25px;">To ensure a safe and positive user experience, we strictly enforce our app policies to maintain the integrity of our platform. We take any violation seriously and have temporarily suspended your account to investigate the matter further.</div>\n            <div style="margin-top: 25px;">We apologize for any inconvenience caused. If you believe this suspension is a mistake or wish to appeal the decision, please contact our support team at <span style="color: rgba(0, 255,255, 0.7)">usersupport@boomplay.com</span> with relevant details and supporting evidence. We will review your case promptly and take appropriate action.</div></div>'},error:{network:"Network Error",phoneEmpty:"Please input your phone number.",phoneCorrect:"Your phone number seems to be invalid. Please check and re-input.",emailEmpty:"Please input your email address.",emailCorrect:"Please input a correct email address.",pwEmpty:"Please input your password.",pwCorrect:"Your password must be between 6-16 letters or numbers.",pwReEmpty:"Please input your password.",pwReCorrect:"The password did not match. Please check and try again.",codeEmpty:"Please input your verification code.",codeCorrect:"The Verification Code is incorrect. Please check and try again.",usernameEmpty:"Please input your name.",usernameCorrect:"\u7528\u6237\u540D\u683C\u5F0F\u4E0D\u5BF9",genderEmpty:"Please select your gender.",acceptEmpty:"Please make sure you have agreed with the Terms and Conditions.",titleEmpty:"Please enter the title.",commentEmpty:"Please share your thoughts with others.",playlistEmpty:"You haven't added any music to playlist yet."},request:{domain:"https://android.boomplaymusic.com/BoomPlayer/",shareCount:"/shareCount",page_404:"/error/404",page_500:"/error/500",source:"/getResourceAddr",log:"/uploadLog",batchUploadLogs:"/batchUploadLogs",bpVideoJS:"/pc/js/bpVideo.min.js?v=1_5"},other:{facebookJS:"https://connect.facebook.net/en_US/sdk.js",googleJS:"https://accounts.google.com/gsi/client",snsLoginCallback:"https://www.boomplay.com/snsLoginCallback",snsLoginCallback_twitter:"https://www.boomplay.com/snsLoginCallback",facebookId:"1393952984244777",twitterId:"gfhg4f9uuvk97B2F7Cb26MYqh",googleId:"1013521840559-6mc0ouk685sp2gjj2rsb5n25d37c8enp.apps.googleusercontent.com"}};window.isInTestBp&&(config.request.domain="https://test.boomplaymusic.com/BoomPlayer/",config.staticAddr=location.href.indexOf("https://test-isp.boomplay.com")?"https://testsource.boomplaymusic.com/":"https://testsource-isp.boomplaymusic.com/",config.BCoins="https://test-live-center.boomplay.com/#/outsideRecharge",config.shareBaseUrl.song="https://test.boomplay.com/songs/",config.shareBaseUrl.bp="https://test.boomplay.com/",config.shareBaseUrl.embed="https://test.boomplay.com/embed/",config.other.snsLoginCallback="https://test.boomplay.com/snsLoginCallback",config.other.snsLoginCallback_twitter="https://test.boomplay.com/snsLoginCallback");window.recaptchaOnload=function(e){try{$("#recaptchaID").length&&(recaptchaOnload.recaptchaID=grecaptcha.render("recaptchaID",{sitekey:"6LcbWxAaAAAAAA0jPQq-VwrHd3PGOmm4LB6dCU0g",theme:"dark",callback:function(a){lhx.recaptchaCheck(a)},"expired-callback":function(){lhx.dialog.toast.show("Please try again!")},"error-callback":function(){lhx.dialog.toast.show("Network Error!")}}))}catch(a){}try{$("#recaptchaID_dialog").length&&(recaptchaOnload.recaptchaID_dialog=grecaptcha.render("recaptchaID_dialog",{sitekey:"6LcbWxAaAAAAAA0jPQq-VwrHd3PGOmm4LB6dCU0g",theme:"dark",callback:function(a){lhx.recaptchaCheck(a,e)},"expired-callback":function(){lhx.dialog.toast.show("Please try again!")},"error-callback":function(){lhx.dialog.toast.show("Network Error!")}}))}catch(a){}};window.recaptchaReset=function(){try{recaptchaOnload.recaptchaID!==void 0&&grecaptcha.reset(recaptchaOnload.recaptchaID)}catch(e){}try{recaptchaOnload.recaptchaID_dialog!==void 0&&grecaptcha.reset(recaptchaOnload.recaptchaID_dialog)}catch(e){}};top.window!==self.window&&(top.window.location.href=self.window.location.href);window.lhx=$$=null;(function(e){"use strict";String.prototype.lmx_addBodyParamBatch=function(t){var i=this;for(var n in t){var r=t[n];(r||n==="dataVersion"||n==="pageIndex")&&(i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(r))}return i.indexOf("&")===0?i.substring(1):i},String.prototype.lmx_addBodyParam=function(t,i){return this.lmx_addBodyParamBatch({name:i})},String.prototype.lmx_addURLParamBatch=function(t,i){var n=this;if(i){var r=n.lmx_parseToObjWithURL();for(var d in t)r[d]=t[d];return(n.split("?")[0]||"").lmx_addURLParamBatch(r)}n+=n.indexOf("?")===-1?"?":"&";for(var g in t)n+=encodeURIComponent(g)+"="+encodeURIComponent(t[g])+"&";return n.slice(0,-1)},String.prototype.lmx_addURLParam=function(t){return this.lmx_addURLParamBatch(t)},String.prototype.lmx_pathname=function(){return this.split("?")[0].replace(info.interfacePrefix,"")},String.prototype.lmx_parseToObjWithURL=function(){var t=this.split("?")[1],i={};if(t)for(var n=t.split("&"),r=0,d=n.length;r<d;r++){var g=n[r],_=g.indexOf("=");i[g.slice(0,_)]=decodeURIComponent(g.slice(_+1))}return i},String.prototype.lmx_clearHtml=function(){return this.replace(/<\/?(font|strong|span)([\s\S]*?)>/ig,"")},String.prototype.lmx_insert=function(t,i){return this.substring(0,t)+i+this.substring(t)},String.prototype.lmx_toString=function(){return this.replace(/&#((?:(x)([0-9a-f]{1,6}))|[0-9]{1,6});/gi,function(t,i,n,r){return n?String.fromCharCode(parseInt(r,16)):String.fromCharCode(parseInt(i))})};var a=a||function(t,i){var n;if(typeof e!="undefined"&&e.crypto&&(n=e.crypto),typeof self!="undefined"&&self.crypto&&(n=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof e!="undefined"&&e.msCrypto&&(n=e.msCrypto),!n&&typeof global!="undefined"&&global.crypto&&(n=global.crypto),!n&&typeof ce=="function")try{n=ce("crypto")}catch(c){}var r=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch(c){}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch(c){}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||function(){function c(){}return function(x){var O;return c.prototype=x,O=new c,c.prototype=null,O}}(),g={},_=g.lib={},T=_.Base=function(){return{extend:function(c){var x=d(this);return c&&x.mixIn(c),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var x in c)c.hasOwnProperty(x)&&(this[x]=c[x]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),U=_.WordArray=T.extend({init:function(c,x){c=this.words=c||[],x!=i?this.sigBytes=x:this.sigBytes=c.length*4},toString:function(c){return(c||L).stringify(this)},concat:function(c){var x=this.words,O=c.words,B=this.sigBytes,R=c.sigBytes;if(this.clamp(),B%4)for(var p=0;p<R;p++){var m=O[p>>>2]>>>24-p%4*8&255;x[B+p>>>2]|=m<<24-(B+p)%4*8}else for(var u=0;u<R;u+=4)x[B+u>>>2]=O[u>>>2];return this.sigBytes+=R,this},clamp:function(){var c=this.words,x=this.sigBytes;c[x>>>2]&=4294967295<<32-x%4*8,c.length=t.ceil(x/4)},clone:function(){var c=T.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var x=[],O=0;O<c;O+=4)x.push(r());return new U.init(x,c)}}),D=g.enc={},L=D.Hex={stringify:function(c){for(var x=c.words,O=c.sigBytes,B=[],R=0;R<O;R++){var p=x[R>>>2]>>>24-R%4*8&255;B.push((p>>>4).toString(16)),B.push((p&15).toString(16))}return B.join("")},parse:function(c){for(var x=c.length,O=[],B=0;B<x;B+=2)O[B>>>3]|=parseInt(c.substr(B,2),16)<<24-B%8*4;return new U.init(O,x/2)}},E=D.Latin1={stringify:function(c){for(var x=c.words,O=c.sigBytes,B=[],R=0;R<O;R++){var p=x[R>>>2]>>>24-R%4*8&255;B.push(String.fromCharCode(p))}return B.join("")},parse:function(c){for(var x=c.length,O=[],B=0;B<x;B++)O[B>>>2]|=(c.charCodeAt(B)&255)<<24-B%4*8;return new U.init(O,x)}},N=D.Utf8={stringify:function(c){try{return decodeURIComponent(escape(E.stringify(c)))}catch(x){throw new Error("Malformed UTF-8 data")}},parse:function(c){return E.parse(unescape(encodeURIComponent(c)))}},X=_.BufferedBlockAlgorithm=T.extend({reset:function(){this._data=new U.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=N.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var x,O=this._data,B=O.words,R=O.sigBytes,p=this.blockSize,m=p*4,u=R/m;c?u=t.ceil(u):u=t.max((u|0)-this._minBufferSize,0);var f=u*p,z=t.min(f*4,R);if(f){for(var C=0;C<f;C+=p)this._doProcessBlock(B,C);x=B.splice(0,f),O.sigBytes-=z}return new U.init(x,z)},clone:function(){var c=T.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0}),H=_.Hasher=X.extend({cfg:T.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){X.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var x=this._doFinalize();return x},blockSize:512/32,_createHelper:function(c){return function(x,O){return new c.init(O).finalize(x)}},_createHmacHelper:function(c){return function(x,O){return new w.HMAC.init(c,O).finalize(x)}}}),w=g.algo={};return g}(Math);(function(){var t=a,i=t.lib,n=i.WordArray,r=t.enc,d=r.Base64={stringify:function(_){var T=_.words,U=_.sigBytes,D=this._map;_.clamp();for(var L=[],E=0;E<U;E+=3)for(var N=T[E>>>2]>>>24-E%4*8&255,X=T[E+1>>>2]>>>24-(E+1)%4*8&255,H=T[E+2>>>2]>>>24-(E+2)%4*8&255,w=N<<16|X<<8|H,c=0;c<4&&E+c*.75<U;c++)L.push(D.charAt(w>>>6*(3-c)&63));var x=D.charAt(64);if(x)for(;L.length%4;)L.push(x);return L.join("")},parse:function(_){var T=_.length,U=this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var L=0;L<U.length;L++)D[U.charCodeAt(L)]=L}var E=U.charAt(64);if(E){var N=_.indexOf(E);N!==-1&&(T=N)}return g(_,T,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function g(_,T,U){for(var D=[],L=0,E=0;E<T;E++)if(E%4){var N=U[_.charCodeAt(E-1)]<<E%4*2,X=U[_.charCodeAt(E)]>>>6-E%4*2,H=N|X;D[L>>>2]|=H<<24-L%4*8,L++}return n.create(D,L)}})(),a.lib.Cipher||function(t){var i=a,n=i.lib,r=n.Base,d=n.WordArray,g=n.BufferedBlockAlgorithm,_=i.enc,T=_.Utf8,U=_.Base64,D=i.algo,L=D.EvpKDF,E=n.Cipher=g.extend({cfg:r.extend(),createEncryptor:function(C,P){return this.create(this._ENC_XFORM_MODE,C,P)},createDecryptor:function(C,P){return this.create(this._DEC_XFORM_MODE,C,P)},init:function(C,P,M){this.cfg=this.cfg.extend(M),this._xformMode=C,this._key=P,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){C&&this._append(C);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function C(P){return typeof P=="string"?z:m}return function(P){return{encrypt:function(M,b,W){return C(b).encrypt(P,M,b,W)},decrypt:function(M,b,W){return C(b).decrypt(P,M,b,W)}}}}()}),N=n.StreamCipher=E.extend({_doFinalize:function(){var C=this._process(!0);return C},blockSize:1}),X=i.mode={},H=n.BlockCipherMode=r.extend({createEncryptor:function(C,P){return this.Encryptor.create(C,P)},createDecryptor:function(C,P){return this.Decryptor.create(C,P)},init:function(C,P){this._cipher=C,this._iv=P}}),w=X.CBC=function(){var C=H.extend();C.Encryptor=C.extend({processBlock:function(M,b){var W=this._cipher,V=W.blockSize;P.call(this,M,b,V),W.encryptBlock(M,b),this._prevBlock=M.slice(b,b+V)}}),C.Decryptor=C.extend({processBlock:function(M,b){var W=this._cipher,V=W.blockSize,q=M.slice(b,b+V);W.decryptBlock(M,b),P.call(this,M,b,V),this._prevBlock=q}});function P(M,b,W){var V,q=this._iv;q?(V=q,this._iv=t):V=this._prevBlock;for(var Q=0;Q<W;Q++)M[b+Q]^=V[Q]}return C}(),c=i.pad={},x=c.Pkcs7={pad:function(C,P){for(var M=P*4,b=M-C.sigBytes%M,W=b<<24|b<<16|b<<8|b,V=[],q=0;q<b;q+=4)V.push(W);var Q=d.create(V,b);C.concat(Q)},unpad:function(C){var P=C.words[C.sigBytes-1>>>2]&255;C.sigBytes-=P}},O=n.BlockCipher=E.extend({cfg:E.cfg.extend({mode:w,padding:x}),reset:function(){var C;E.reset.call(this);var P=this.cfg,M=P.iv,b=P.mode;this._xformMode==this._ENC_XFORM_MODE?C=b.createEncryptor:(C=b.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==C?this._mode.init(this,M&&M.words):(this._mode=C.call(b,this,M&&M.words),this._mode.__creator=C)},_doProcessBlock:function(C,P){this._mode.processBlock(C,P)},_doFinalize:function(){var C,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),C=this._process(!0)):(C=this._process(!0),P.unpad(C)),C},blockSize:128/32}),B=n.CipherParams=r.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),R=i.format={},p=R.OpenSSL={stringify:function(C){var P,M=C.ciphertext,b=C.salt;return b?P=d.create([1398893684,1701076831]).concat(b).concat(M):P=M,P.toString(U)},parse:function(C){var P,M=U.parse(C),b=M.words;return b[0]==1398893684&&b[1]==1701076831&&(P=d.create(b.slice(2,4)),b.splice(0,4),M.sigBytes-=16),B.create({ciphertext:M,salt:P})}},m=n.SerializableCipher=r.extend({cfg:r.extend({format:p}),encrypt:function(C,P,M,b){b=this.cfg.extend(b);var W=C.createEncryptor(M,b),V=W.finalize(P),q=W.cfg;return B.create({ciphertext:V,key:M,iv:q.iv,algorithm:C,mode:q.mode,padding:q.padding,blockSize:C.blockSize,formatter:b.format})},decrypt:function(C,P,M,b){b=this.cfg.extend(b),P=this._parse(P,b.format);var W=C.createDecryptor(M,b).finalize(P.ciphertext);return W},_parse:function(C,P){return typeof C=="string"?P.parse(C,this):C}}),u=i.kdf={},f=u.OpenSSL={execute:function(C,P,M,b){b||(b=d.random(64/8));var W=L.create({keySize:P+M}).compute(C,b),V=d.create(W.words.slice(P),M*4);return W.sigBytes=P*4,B.create({key:W,iv:V,salt:b})}},z=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:f}),encrypt:function(C,P,M,b){b=this.cfg.extend(b);var W=b.kdf.execute(M,C.keySize,C.ivSize);b.iv=W.iv;var V=m.encrypt.call(this,C,P,W.key,b);return V.mixIn(W),V},decrypt:function(C,P,M,b){b=this.cfg.extend(b),P=this._parse(P,b.format);var W=b.kdf.execute(M,C.keySize,C.ivSize,P.salt);b.iv=W.iv;var V=m.decrypt.call(this,C,P,W.key,b);return V}})}(),function(){var t=a,i=t.lib,n=i.BlockCipher,r=t.algo,d=[],g=[],_=[],T=[],U=[],D=[],L=[],E=[],N=[],X=[];(function(){for(var c=[],x=0;x<256;x++)x<128?c[x]=x<<1:c[x]=x<<1^283;for(var O=0,B=0,x=0;x<256;x++){var R=B^B<<1^B<<2^B<<3^B<<4;R=R>>>8^R&255^99,d[O]=R,g[R]=O;var p=c[O],m=c[p],u=c[m],f=c[R]*257^R*16843008;_[O]=f<<24|f>>>8,T[O]=f<<16|f>>>16,U[O]=f<<8|f>>>24,D[O]=f;var f=u*16843009^m*65537^p*257^O*16843008;L[R]=f<<24|f>>>8,E[R]=f<<16|f>>>16,N[R]=f<<8|f>>>24,X[R]=f,O?(O=p^c[c[c[u^p]]],B^=c[c[B]]):O=B=1}})();var H=[0,1,2,4,8,16,32,64,128,27,54],w=r.AES=n.extend({_doReset:function(){var c;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,O=x.words,B=x.sigBytes/4,R=this._nRounds=B+6,p=(R+1)*4,m=this._keySchedule=[],u=0;u<p;u++)u<B?m[u]=O[u]:(c=m[u-1],u%B?B>6&&u%B==4&&(c=d[c>>>24]<<24|d[c>>>16&255]<<16|d[c>>>8&255]<<8|d[c&255]):(c=c<<8|c>>>24,c=d[c>>>24]<<24|d[c>>>16&255]<<16|d[c>>>8&255]<<8|d[c&255],c^=H[u/B|0]<<24),m[u]=m[u-B]^c);for(var f=this._invKeySchedule=[],z=0;z<p;z++){var u=p-z;if(z%4)var c=m[u];else var c=m[u-4];z<4||u<=4?f[z]=c:f[z]=L[d[c>>>24]]^E[d[c>>>16&255]]^N[d[c>>>8&255]]^X[d[c&255]]}}},encryptBlock:function(c,x){this._doCryptBlock(c,x,this._keySchedule,_,T,U,D,d)},decryptBlock:function(c,x){var O=c[x+1];c[x+1]=c[x+3],c[x+3]=O,this._doCryptBlock(c,x,this._invKeySchedule,L,E,N,X,g);var O=c[x+1];c[x+1]=c[x+3],c[x+3]=O},_doCryptBlock:function(c,x,O,B,R,p,m,u){for(var f=this._nRounds,z=c[x]^O[0],C=c[x+1]^O[1],P=c[x+2]^O[2],M=c[x+3]^O[3],b=4,W=1;W<f;W++){var V=B[z>>>24]^R[C>>>16&255]^p[P>>>8&255]^m[M&255]^O[b++],q=B[C>>>24]^R[P>>>16&255]^p[M>>>8&255]^m[z&255]^O[b++],Q=B[P>>>24]^R[M>>>16&255]^p[z>>>8&255]^m[C&255]^O[b++],te=B[M>>>24]^R[z>>>16&255]^p[C>>>8&255]^m[P&255]^O[b++];z=V,C=q,P=Q,M=te}var V=(u[z>>>24]<<24|u[C>>>16&255]<<16|u[P>>>8&255]<<8|u[M&255])^O[b++],q=(u[C>>>24]<<24|u[P>>>16&255]<<16|u[M>>>8&255]<<8|u[z&255])^O[b++],Q=(u[P>>>24]<<24|u[M>>>16&255]<<16|u[z>>>8&255]<<8|u[C&255])^O[b++],te=(u[M>>>24]<<24|u[z>>>16&255]<<16|u[C>>>8&255]<<8|u[P&255])^O[b++];c[x]=V,c[x+1]=q,c[x+2]=Q,c[x+3]=te},keySize:256/32});t.AES=n._createHelper(w)}();function o(){var t,i=lhx.info.author.substr(0,1)+"&#x41;p&#111;".lmx_toString()+lhx.info.author.substring(4,6)+lhx.AESUtils.key[1];return t=["acx","&#x62;&#x6F;&#x6F;&#x6D;p&#108;&#97;&#121;".lmx_toString(),"xfa"],(e.config.basePath?e.config.basePath:t[t.length-2])+i.split("").concat("Vr").reverse().join("").replace(/i/i,"")}function s(){var t,i=lhx.AESUtils.iv,n=i[12]+lhx.AESUtils.key.substr(-2,1)+lhx.info.author.substring(4,5)+i[8];return t=n.split(""),t.splice(2,0,"&#x49;s&#75;T".lmx_toString()),n=t.reverse().join(""),t=["acx","&#x62;&#x6F;&#x6F;&#x6D;p&#108;&#97;&#121;".lmx_toString(),"xfa"],(e.config.basePath?e.config.basePath:t[t.length-2]||"zDaGmX").concat(n)}lhx={version:"3.5.0",versionControl:function(){var t=lhx.storageUtils.version_get();t!==this.version&&lhx.storageUtils.clearAll().version_put()},platform:"isPC",supportServiceWorker:"serviceWorker"in navigator,supportKidnap:"serviceWorker"in navigator&&e.fetch,addZero:function(t){return t<10?"0"+t:t},formatMinuteSecond:function(t){return isNaN(t)?"00:00":t>=60*60?this.addZero(~~(t/60/60))+":"+this.addZero(~~(t/60%60))+":"+this.addZero(~~(t%60)):this.addZero(~~(t/60))+":"+this.addZero(~~(t%60))},monthList:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],formatDate:function(t){var i=new Date(t);return this.monthList[i.getMonth()]+" "+this.addZero(i.getDate())+","+i.getFullYear()},minuteSecondToTimestamp:function(t){if(!t)return 0;var i=t.split(":"),n=parseInt(i[0],10)*60+parseInt(i[1],10);return isNaN(n)?parseInt(t,10):n},rand:function(t,i){return~~(Math.random()*(i-t+1)+t)},hasCookie:function(){return navigator.cookieEnabled},openCenter:function(t,i){var n=(e.screen.availWidth-10-t)/2,r=(e.screen.availHeight-30-i)/2-15;return"height="+i+", width="+t+", top="+r+", left="+n},removeZero:function(t,i){var n=t/i*10;return n=Math.floor(n)/10,n},getDateTimeWithTimestamp:function(t){var i=new Date(t);return i.getFullYear()+"-"+this.addZero(i.getMonth()+1)+"-"+this.addZero(i.getDate())+" "+this.addZero(i.getHours())+":"+this.addZero(i.getMinutes())},getDateWithTimestamp:function(t){var i=new Date(parseInt(t,10));return i.getFullYear()+"-"+this.addZero(i.getMonth()+1)+"-"+this.addZero(i.getDate())},parseCount:function(t){return t?t<1e3?t:t<1e4?t.toString().lmx_insert(1,","):t<1e6?this.removeZero(t,1e3)+"k":t<1e9?this.removeZero(t,1e6)+"m":this.removeZero(t,1e9)+"b":0},faceObj:{"[0x1f601]":"emoji_1f601","[0x1f602]":"emoji_1f602","[0x1f604]":"emoji_1f604","[0x1f605]":"emoji_1f605","[0x1f606]":"emoji_1f606","[0x1f607]":"emoji_1f607","[0x1f609]":"emoji_1f609","[0x1f610]":"emoji_1f610","[0x1f611]":"emoji_1f611","[0x1f614]":"emoji_1f614","[0x1f615]":"emoji_1f615","[0x1f616]":"emoji_1f616","[0x1f618]":"emoji_1f618","[0x1f620]":"emoji_1f620","[0x1f624]":"emoji_1f624","[0x1f625]":"emoji_1f625","[0x1f626]":"emoji_1f626","[0x1f629]":"emoji_1f629","[0x1f631]":"emoji_1f631","[0x1f632]":"emoji_1f632","[0x1f633]":"emoji_1f633","[0x1f634]":"emoji_1f634","[0x1f637]":"emoji_1f637","[0x1f638]":"emoji_1f638","[0x1f640]":"emoji_1f640","[0x1f641]":"emoji_1f641","[0x1f642]":"emoji_1f642","[0x1f647]":"emoji_1f647","[0x1f654]":"emoji_1f654","[0x1f653]":"emoji_1f653","[0x1f652]":"emoji_1f652","[0x1f600]":"emoji_1f600","[0x1f603]":"emoji_1f603","[0x1f608]":"emoji_1f608","[0x1f612]":"emoji_1f612","[0x1f613]":"emoji_1f613","[0x1f617]":"emoji_1f617","[0x1f619]":"emoji_1f619","[0x1f621]":"emoji_1f621","[0x1f622]":"emoji_1f622","[0x1f623]":"emoji_1f623","[0x1f627]":"emoji_1f627","[0x1f628]":"emoji_1f628","[0x1f630]":"emoji_1f630","[0x1f635]":"emoji_1f635","[0x1f636]":"emoji_1f636","[0x1f60b]":"emoji_1f60b","[0x1f60c]":"emoji_1f60c","[0x1f60d]":"emoji_1f60d","[0x1f60e]":"emoji_1f60e","[0x1f60f]":"emoji_1f60f","[0x1f61a]":"emoji_1f61a","[0x1f61b]":"emoji_1f61b","[0x1f61c]":"emoji_1f61c","[0x1f61d]":"emoji_1f61d","[0x1f61e]":"emoji_1f61e","[0x1f61f]":"emoji_1f61f","[0x1f62a]":"emoji_1f62a","[0x1f62b]":"emoji_1f62b","[0x1f62c]":"emoji_1f62c","[0x1f62d]":"emoji_1f62d","[0x1f62e]":"emoji_1f62e","[0xdelete2]":"emoji_delete","[0x1f62f]":"emoji_1f62f","[0x1f63a]":"emoji_1f63a","[0x1f63b]":"emoji_1f63b","[0x1f63c]":"emoji_1f63c","[0x1f63d]":"emoji_1f63d","[0x1f63e]":"emoji_1f63e","[0x1f63f]":"emoji_1f63f","[0x1f60a]":"emoji_1f60a","[0x1f695]":"emoji_1f695","[0x26a1]":"emoji_26a1","[0x26bd]":"emoji_26bd","[Ox1f41c]":"emoji_1f41c","[0x1f47b]":"emoji_1f47b","[0x2600]":"emoji_2600","[0x2728]":"emoji_2728","[0x1f31b]":"emoji_1f31b"},parseFace:function(t){var i=this.faceObj;return t.replace(/(\[[a-zA-Z_0-9]{6,20}\])/gi,function(n,r){return i[r]?'<img class="emoji" src="'+config.staticPath+"img/face/"+i[r]+'.png" alt="emoji - Boomplay">':r})},parseComment:function(t){return t=$.trim(t),this.parseFace(t.replace(/\r\n|[\r\n]/g,"<br>").replace(/  /g," &nbsp;"))},userAgent:navigator.userAgent.toLowerCase(),isIE10_:function(){return this.userAgent.indexOf("compatible")>-1&&this.userAgent.indexOf("msie")>-1},isIE11:function(){return this.userAgent.indexOf("trident")>-1&&this.userAgent.indexOf("rv:11.0")>-1},isChrome:function(){return navigator.vendor==="Google Inc."},isAndroid:function(){return this.userAgent.match(/android/i)},isiOS:function(){return this.userAgent.match(/(iPhone|iPod|iPad);?/i)},createXHR:function(){return new XMLHttpRequest},blobTimeStart:0,blobTimeOut:null,blobRun:function(){this.blobStop(),this.blobTimeOut=setTimeout(function(){lhx.audioUtils.playInNet()},3*30*1e3)},blobStop:function(){this.blobTimeOut&&clearTimeout(this.blobTimeOut)},getBlob:function(t){var i=this,n=lhx.createXHR();return"onprogress"in n&&this.blobRun(),n.onprogress=function(r){if(!r.loaded||!r.total){i.blobStop();return}r.loaded===r.total?i.blobStop():i.blobRun()},n.onload=function(r){n.status>=200&&n.status<300||n.status===304?t.success&&t.success(n.response):t.error(n)},n.onerror=function(r){t.error(r)},n.onabort=function(r){t.abort&&t.abort(r)},n.ontimeout=function(r){t.timeout&&t.timeout(r)},n.open("GET",t.url,!0),n.timeout=3*60*1e3,n.responseType="blob",n.setRequestHeader("X-Boomplay-Ref","Boomplay_WEBV1"),n.send(null),n},getLastToken:function(){var t=this.MD5(lhx.getUUID(16)),i="Web1.0";return this.MD5(i+t+this.token)},getParamByLog:function(t,i){var n=this.MD5(lhx.getUUID(16));return{check:this.MD5(n+t+i+"d3rjfj230dkdkd3rfffwe455d2wswef",32),id:n}},changeCount:function(t,i){t.hasClass("audioOperation_favorite")&&(t=$(".favorite_event:not(.audioOperation_favorite)"));var n=t.attr("data-count");n!==void 0&&(i?n++:n--,n=n<0?0:n,t.attr("data-count",n),t.text(this.parseCount(n)))},getWebP:function(t,i,n,r){if(!t||t==="null"||(t=t.trim(),!t))return i;var d;r?d="_"+n+"_"+r+".webp":d="_"+n+"_"+n+".webp";try{var g=t.lastIndexOf(".");if(t.indexOf("http")===0&&g<33)return i;t=t.substring(0,g)+d}catch(_){return i}return t},getUUID:function(t){var i="0123456789ABCDEFGJKMNOPQRSTUVWYZIsLuoHengXabcdfhijklmpqrtvwxyz".split(""),n=[];t=t||i.length;var r;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var d=0;d<t;d++)n[d]||(r=0|Math.random()*16,n[d]=i[d===19?r&3|8:r]);return n.join("")},MD5:function(t,i){var n=t+"";function r(F,j){return F<<j|F>>>32-j}function d(F,j){var G,K,Y,Z,J;return Y=F&2147483648,Z=j&2147483648,G=F&1073741824,K=j&1073741824,J=(F&1073741823)+(j&1073741823),G&K?J^2147483648^Y^Z:G|K?J&1073741824?J^3221225472^Y^Z:J^1073741824^Y^Z:J^Y^Z}function g(F,j,G){return F&j|~F&G}function _(F,j,G){return F&G|j&~G}function T(F,j,G){return F^j^G}function U(F,j,G){return j^(F|~G)}function D(F,j,G,K,Y,Z,J){return F=d(F,d(d(g(j,G,K),Y),J)),d(r(F,Z),j)}function L(F,j,G,K,Y,Z,J){return F=d(F,d(d(_(j,G,K),Y),J)),d(r(F,Z),j)}function E(F,j,G,K,Y,Z,J){return F=d(F,d(d(T(j,G,K),Y),J)),d(r(F,Z),j)}function N(F,j,G,K,Y,Z,J){return F=d(F,d(d(U(j,G,K),Y),J)),d(r(F,Z),j)}function X(F){for(var j,G=F.length,K=G+8,Y=(K-K%64)/64,Z=(Y+1)*16,J=Array(Z-1),le=0,ee=0;ee<G;)j=(ee-ee%4)/4,le=ee%4*8,J[j]=J[j]|F.charCodeAt(ee)<<le,ee++;return j=(ee-ee%4)/4,le=ee%4*8,J[j]=J[j]|128<<le,J[Z-2]=G<<3,J[Z-1]=G>>>29,J}function H(F){var j="",G="",K,Y;for(Y=0;Y<=3;Y++)K=F>>>Y*8&255,G="0"+K.toString(16),j=j+G.substr(G.length-2,2);return j}var w=[],c,x,O,B,R,p,m,u,f,z=7,C=12,P=17,M=22,b=5,W=9,V=14,q=20,Q=4,te=11,ae=16,ie=23,oe=6,ne=10,se=15,re=21;for(w=X(n),p=1732584193,m=4023233417,u=2562383102,f=271733878,c=0;c<w.length;c+=16)x=p,O=m,B=u,R=f,p=D(p,m,u,f,w[c+0],z,3614090360),f=D(f,p,m,u,w[c+1],C,3905402710),u=D(u,f,p,m,w[c+2],P,606105819),m=D(m,u,f,p,w[c+3],M,3250441966),p=D(p,m,u,f,w[c+4],z,4118548399),f=D(f,p,m,u,w[c+5],C,1200080426),u=D(u,f,p,m,w[c+6],P,2821735955),m=D(m,u,f,p,w[c+7],M,4249261313),p=D(p,m,u,f,w[c+8],z,1770035416),f=D(f,p,m,u,w[c+9],C,2336552879),u=D(u,f,p,m,w[c+10],P,4294925233),m=D(m,u,f,p,w[c+11],M,2304563134),p=D(p,m,u,f,w[c+12],z,1804603682),f=D(f,p,m,u,w[c+13],C,4254626195),u=D(u,f,p,m,w[c+14],P,2792965006),m=D(m,u,f,p,w[c+15],M,1236535329),p=L(p,m,u,f,w[c+1],b,4129170786),f=L(f,p,m,u,w[c+6],W,3225465664),u=L(u,f,p,m,w[c+11],V,643717713),m=L(m,u,f,p,w[c+0],q,3921069994),p=L(p,m,u,f,w[c+5],b,3593408605),f=L(f,p,m,u,w[c+10],W,38016083),u=L(u,f,p,m,w[c+15],V,3634488961),m=L(m,u,f,p,w[c+4],q,3889429448),p=L(p,m,u,f,w[c+9],b,568446438),f=L(f,p,m,u,w[c+14],W,3275163606),u=L(u,f,p,m,w[c+3],V,4107603335),m=L(m,u,f,p,w[c+8],q,1163531501),p=L(p,m,u,f,w[c+13],b,2850285829),f=L(f,p,m,u,w[c+2],W,4243563512),u=L(u,f,p,m,w[c+7],V,1735328473),m=L(m,u,f,p,w[c+12],q,2368359562),p=E(p,m,u,f,w[c+5],Q,4294588738),f=E(f,p,m,u,w[c+8],te,2272392833),u=E(u,f,p,m,w[c+11],ae,1839030562),m=E(m,u,f,p,w[c+14],ie,4259657740),p=E(p,m,u,f,w[c+1],Q,2763975236),f=E(f,p,m,u,w[c+4],te,1272893353),u=E(u,f,p,m,w[c+7],ae,4139469664),m=E(m,u,f,p,w[c+10],ie,3200236656),p=E(p,m,u,f,w[c+13],Q,681279174),f=E(f,p,m,u,w[c+0],te,3936430074),u=E(u,f,p,m,w[c+3],ae,3572445317),m=E(m,u,f,p,w[c+6],ie,76029189),p=E(p,m,u,f,w[c+9],Q,3654602809),f=E(f,p,m,u,w[c+12],te,3873151461),u=E(u,f,p,m,w[c+15],ae,530742520),m=E(m,u,f,p,w[c+2],ie,3299628645),p=N(p,m,u,f,w[c+0],oe,4096336452),f=N(f,p,m,u,w[c+7],ne,1126891415),u=N(u,f,p,m,w[c+14],se,2878612391),m=N(m,u,f,p,w[c+5],re,4237533241),p=N(p,m,u,f,w[c+12],oe,1700485571),f=N(f,p,m,u,w[c+3],ne,2399980690),u=N(u,f,p,m,w[c+10],se,4293915773),m=N(m,u,f,p,w[c+1],re,2240044497),p=N(p,m,u,f,w[c+8],oe,1873313359),f=N(f,p,m,u,w[c+15],ne,4264355552),u=N(u,f,p,m,w[c+6],se,2734768916),m=N(m,u,f,p,w[c+13],re,1309151649),p=N(p,m,u,f,w[c+4],oe,4149444226),f=N(f,p,m,u,w[c+11],ne,3174756917),u=N(u,f,p,m,w[c+2],se,718787259),m=N(m,u,f,p,w[c+9],re,3951481745),p=d(p,x),m=d(m,O),u=d(u,B),f=d(f,R);return i==32?H(p)+H(m)+H(u)+H(f):H(m)+H(u)},recaptchaCheck:function(t,i){var n={response:t,canLogin:"T"};lhx.dialog.loading.show("loading..."),$.ajax({type:"POST",url:"/recaptcha",dataType:"json",data:JSON.stringify(n),contentType:"application/json;charset=utf-8",success:function(r){r.code==="success"?(lhx.dialog.loading.close(),i&&i(),$("#recaptchaID").length&&lhx.pajax.getData(location.href),recaptchaReset()):(lhx.dialog.toast.show(r.desc||""),lhx.dialog.loading.close())},error:function(r){lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},setFBJs:function(){lhx.loadScript(config.other.facebookJS,function(){e.fbAsyncInit=function(){FB.init({appId:config.other.facebookId,autoLogAppEvents:!0,xfbml:!0,version:"v16.0"})}})},setGoogleJs:function(){lhx.loadScript(config.other.googleJS,function(){lhx.login.google_init()})},info:{project:"Base utils",version:"2.0",author:"MingxingLuo",email:"13823111497@qq.com"},getCookie:function(t){var i=document.cookie,n=i.indexOf(t+"=");if(n!==-1){n=n+t.length+1;var r=i.indexOf(";",n);return r===-1&&(r=i.length),i.substring(n,r)}return""},delCookieWithName:function(t){var i=this.getCookie(t);i&&(document.cookie=t+"="+i+";expires="+new Date(0).toGMTString())},AESUtils:{key:"m3A0dEzwUxyUXing",iv:"iAiMingf8U0c9KyOU",encrypt:function(t){var i=a.enc.Utf8.parse(s());t=a.enc.Utf8.parse(t);var n=a.AES.encrypt(t,a.enc.Utf8.parse(o()),{iv:i,mode:a.mode.CBC,padding:a.pad.Pkcs7});return a.enc.Base64.stringify(n.ciphertext)},decrypt:function(t){var i=a.enc.Utf8.parse(s());t=a.enc.Base64.parse(t),t=a.enc.Base64.stringify(t);var n=a.AES.decrypt(t,a.enc.Utf8.parse(o()),{iv:i,mode:a.mode.CBC,padding:a.pad.Pkcs7});return n.toString(a.enc.Utf8)}},getIdBySeparator:function(t){try{var i=location.pathname;return i.split(t)[1]}catch(n){return null}},lazyImg:{init:function(){var t=this,i=this.$scrollEvent=$("main");i.scroll(t.scroll),this.scroll()},scroll:function(){var t=$(e).height();$(".lazyImg").each(function(){var i=$(this);if(i.offset().top<=t){var n=i.attr("data-src");n?i.attr("src",n):i.css("background-image","url('"+i.attr("data-bgUrl")+"')"),i.removeClass("lazyImg")}})},destroy:function(){this.$scrollEvent&&this.$scrollEvent.off("scroll",this.scroll)}},xss:{escapeXml:function(t){return t&&t.replace(/([<>&])/gi,function(i,n){switch(n){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;"}})},escapePath:function(t){return t&&t.replace(/[\/\\]/gi,"").replace(/\.\./gi,"")}},loadBpVideoJSIsSuccess:!1,loadBpVideoJS_needLoading:!0,loadBpVideoJS:function(t,i){var n=this,r="videoUtilsID1";if(this.loadBpVideoJS_successCb=t||function(){},!this.loadBpVideoJS_needLoading){n.loadBpVideoJSIsSuccess&&n.loadBpVideoJS_successCb();return}n.loadBpVideoJS_needLoading=!1;var d=document.createElement("script");d.type="text/javascript",d.id=r,d.src=config.request.bpVideoJS,d.onload=function(){n.loadBpVideoJSIsSuccess=!0,n.loadBpVideoJS_successCb()},d.onerror=function(){document.getElementById(r).remove(),n.loadBpVideoJS_needLoading=!0,i&&i()},document.body.appendChild(d)}},lhx.loadScript=function(t,i){if(!lhx.loadScript.cache||!lhx.loadScript.cache[t]){lhx.loadScript.cache={},lhx.loadScript.cache[t]="T";var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){(n.readyState==="loaded"||n.readyState==="complete")&&(n.onreadystatechange=null,i())}:n.onload=function(){i()},n.src=t,document.body.appendChild(n)}},lhx.comment={initTime:function(){for(var t=$("time[data-timestamp]"),i=0,n=t.length;i<n;i++){var r=t.eq(i),d=Number(r.attr("data-timestamp"));r.text(lhx.getDateTimeWithTimestamp(d)).removeAttr("data-timestamp")}},initCommentContent:function(){for(var t=$(".comment_content .comment_content_text[data-parse]"),i=0,n=t.length;i<n;i++){var r=t.eq(i);r.removeAttr("data-parse");var d=r.find(".comment_span"),g=lhx.parseComment(d.html());d.html(g),this.contentCollapse(r)}},initCollapse:function(){for(var t=$(".comment_content .comment_content_text[data-parse]"),i=0,n=t.length;i<n;i++){var r=t.eq(i);r.removeAttr("data-parse"),this.contentCollapse(r)}},contentCollapse:function(t){var i=t[0].scrollHeight;i>config.constant.maxCommentHeight&&(t.css({height:config.constant.maxCommentHeight+"px"}),t.after('<button class="showMore"  data-showMore="Show more >>" data-collapse="Collapse">Show more >></button>'))},more:function(t){for(var i="",n=0,r=t.length;n<r;n++)i+=this.getCommentItemHtml(t[n]);return i},getCommentItemHtml:function(t){var i="";i+='<article class="comment">    <a href="javascript:;" class="default default_user_icon '+(t.sex==="F"?"female_icon":"")+'">',t.avatar&&(i+='<div class="img" style="background-image: url('+config.staticAddr+lhx.getWebP(t.iconMagicUrl,t.avatar,80)+')"></div>'),i+='</a>    <div class="right">        <p class="name">'+lhx.xss.escapeXml(t.userName)+'</p>        <div class="comment_content"><div class="comment_content_text" data-parse="">',t.beComment&&(i+='<a class="at_name" href="javascript:;"                   data-afid="'+t.beComment.afid+'"        >@'+lhx.xss.escapeXml(t.beComment.userName)+": </a>"),i+=lhx.parseComment(t.comment)+"</div>";var n=t.sources;if(n){var r=n[0];r&&(r.indexOf("https")!==0&&(r=config.staticAddr+r),i+='<img class="commentImg" src="'+lhx.xss.escapeXml(r)+'" alt="Boomplay Music">')}if(i+="</div>",t.beComment){i+='<div class="comment_content replay_content"><div class="comment_content_text" data-parse="">   <a class="at_name" href="javascript:;"   data-afid="'+t.beComment.afid+'"   >'+lhx.xss.escapeXml(t.beComment.userName)+": </a>"+lhx.parseComment(t.beComment.comment)+"</div>";var d=t.beComment.sources;if(d){var g=d[0];g&&(g.indexOf("https")!==0&&(g=config.staticAddr+g),i+='<img class="commentImg" src="'+lhx.xss.escapeXml(g)+'" alt="Boomplay Music">')}i+="</div>"}return i+='<footer class="foot">        <button class="openReply"                 data-formSrc="'+config.basePath+'/replyComment"                data-targetID="'+t.targetID+'"                data-commentID="'+t.commentID+'"></button>        <button class="agreeBtn agree_event '+(t.isLike==="T"?"isAgree":"")+'"                data-targetID="'+t.targetID+'"                data-commentID="'+t.commentID+'"                data-count="'+t.likeCount+'"        >'+lhx.parseCount(t.likeCount)+"</button>        <address>"+t.country+"</address>        <time>"+lhx.getDateTimeWithTimestamp(t.addDate)+"</time>    </footer></div></article>",i},face:{createFacePop:function(t){var i=t.find("ul");if(!i.html()){var n="",r=lhx.faceObj,d=config.staticPath;for(var g in r){var _=r[g],T=d+"img/face/"+_+".png";n+='<li><button data-value="'+g+'" data-imgSrc="'+T+'" style="background-image: url('+T+')"></button></li>'}i.html(n)}},isOpen:!1,open:function(t){if(!!lhx.login.isLogin()){this.close(),this.createFacePop(t),t.addClass("show"),this.isOpen=!0;var i=t.offset().top+220-$(e).height();if(i>0){var n=$(".main");n.animate({scrollTop:n.scrollTop()+i+"px"},300)}}},close:function(t){$(".pop_face").removeClass("show"),this.isOpen=!1},toggle:function(t){var i=t.parents(".createReplayWrap");lhx.comment.createComment.focus(i);var n=i.find(".pop_face");n.hasClass("show")?this.close():this.open(n)}},createComment:{tip:function(){lhx.dialog.toast.show(config.msg.commentContentTroppo)},calcNum:function(t,i){$("iframe[name="+i+"]").parents(".createReplayWrap").find(".createReplay_num").text(t)},getContent:function(t){return t.find("iframe")[0].contentWindow.myEdit.content().replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},focus:function(t){t.find("iframe")[0].contentWindow.myEdit.toFocus()},isLogin:function(){return lhx.login.isLogin()?!0:(lhx.login.open(),!1)},insert:function(t,i){t.find("iframe")[0].contentWindow.myEdit.insert(i)},clear:function(t){t.find("iframe")[0].contentWindow.myEdit.clearContent()}},createReplay_dynamic:function(t){var i='<div class="createReplayWrap createReplay_dynamic">    <div class="createReplay_inner">        <div class="createReplay edit">            <iframe name="richEdit_dynamic" src="'+config.staticPath+'html/edit.html?version=2" frameborder="0"></iframe>        </div>        <div class="createReplay_numWrap">            <span class="createReplay_num">0</span>/<span class="createReplay_total">'+config.constant.maxCommentContent+'</span>        </div>    </div>    <div class="createReplay_foot">        <button class="openFace"></button>        <button class="submitComment"                data-formSrc="'+t.attr("data-formSrc")+'"               data-targetID="'+t.attr("data-targetID")+'"               data-commentID="'+t.attr("data-commentID")+'"               >Comment</button>        <div class="pop_face">            <button class="close"></button>            <ul></ul>        </div>    </div></div>';t.parents(".foot").append(i)},submitComment:function(t){if(!lhx.login.isLogin()){lhx.login.open();return}var i=t.parents(".createReplayWrap"),n=lhx.comment.createComment.getContent(i);if(!$.trim(n).replace(/\r\n/g,"")){lhx.dialog.toast.show(config.error.commentEmpty);return}var r={comment:n,targetID:t.attr("data-targetID")},d=t.attr("data-commentID");d&&(r.commentID=d);var g=t.attr("data-targetType");g&&(r.targetType=g),lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:t.attr("data-formSrc"),dataType:"json",data:JSON.stringify(r),contentType:"application/json;charset=utf-8",success:function(_){if(_.code==="success"){lhx.comment.createComment.clear(i);var T=lhx.comment.getCommentItemHtml(_.resultData),U=$(".newComments");U.children("h4").after(T);var D=$(".commentNoData");D.length&&D.remove(),lhx.changeCount($(".commentCount"),!0);var L=$(".main");L.animate({scrollTop:L.scrollTop()+U.offset().top-300+"px"},300),d&&$(".createReplay_dynamic").addClass("hidden").slideUp(300),lhx.comment.initCollapse()}else(_.code==="2005"||_.code==="2000")&&lhx.login.autoLoginCan();lhx.dialog.toast.show(_.desc||""),lhx.dialog.loading.close()},error:function(_){console.log(_),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},agreeOrDisagree:function(t){if(!lhx.login.isLogin()){lhx.login.open();return}var i=!t.hasClass("isAgree"),n=t.attr("data-commentID"),r={targetID:t.attr("data-targetID"),commentID:n};lhx.dialog.loading.show("Loading...");var d=config.basePath+"/disagreeComment";i&&(d=config.basePath+"/agreeComment");var g=$(".agree_event[data-commentID="+n+"]");$.ajax({type:"POST",url:d,dataType:"json",data:JSON.stringify(r),contentType:"application/json;charset=utf-8",success:function(_){_.code==="success"&&(lhx.dialog.toast.show(_.desc),i?(g.addClass("isAgree"),lhx.changeCount(g,!0)):(g.removeClass("isAgree"),lhx.changeCount(g))),lhx.dialog.toast.show(_.desc||""),lhx.dialog.loading.close()},error:function(_){console.log(_),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},positionToComment:function(){var t=$(".main");t.animate({scrollTop:t.scrollTop()+$(".commentsWrap").offset().top-60+"px"},300)},positionTo:function(){var t=location.href,i=t.lmx_parseToObjWithURL();if(i&&i.goto==="comment"){this.positionToComment();var n="";i.length===1?n=t.replace("goto=comment&","").replace("&goto=comment",""):n=t.replace("?goto=comment",""),history.replaceState(n,"",n),location.href.replace()}}},$(document).on({click:function(){var t=$(this);if(t.hasClass("collapse"))t.removeClass("collapse"),t.text(t.attr("data-showMore")),t.siblings(".comment_content_text").animate({height:config.constant.maxCommentHeight+"px"},300);else{t.addClass("collapse"),t.text(t.attr("data-collapse"));var i=t.siblings(".comment_content_text");i.animate({height:i[0].scrollHeight},300,"swing",function(){$(this).css({height:"auto"})})}}},".showMore"),lhx.buzz={agreeOrDisagree:function(t){if(!lhx.login.isLogin()){lhx.login.open();return}var i=!t.hasClass("isAgree"),n={buzzID:t.attr("data-buzzID")};lhx.dialog.loading.show("Loading...");var r=config.basePath+"/disagreeBuzz";i&&(r=config.basePath+"/agreeBuzz"),$.ajax({type:"POST",url:r,dataType:"json",data:JSON.stringify(n),contentType:"application/json;charset=utf-8",success:function(d){d.code==="success"&&(lhx.dialog.toast.show(d.desc),i?(t.addClass("isAgree"),lhx.changeCount(t,!0)):(t.removeClass("isAgree"),lhx.changeCount(t))),lhx.dialog.toast.show(d.desc||""),lhx.dialog.loading.close()},error:function(d){console.log(d),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},sliderTo:function(){var t=location.href,i=t.lmx_parseToObjWithURL();i&&i.type==="buzz"&&lhx.sliderNav.change($(".sliderNav button").eq(1))},initBuzzContent:function(){var t=$(".initBuzzContentPart"),i=$.trim(t.html());t.html(lhx.parseFace(i)),this.initCard()},initCard:function(t){for(var i=$(".initBuzzContentPart a"),n=0;n<i.length;n++){var r=i.eq(n),d=r.attr("data-type"),g=r.attr("l-onclick");if(g==="gotoBp_fun(this);"||g==="gotoBp_stream_fun(this);"&&(d==="MUSIC"||d==="PLAYLIST")){var _=r.attr("data-msg");if(!_)continue;try{var T=$.parseJSON(_)}catch(N){r.remove();continue}var U="",D=T.title.replace(/#/g,""),L=r.attr("data-itemid");switch(d){case"WEB":r.replaceWith(this.item.createWeb(T.url,T.imgUrl,D));break;case"HREF":r.replaceWith(this.item.createHREF(T.url,D));break;case"MUSIC":r.replaceWith(this.item.createMusic(L,T.imgUrl,D,T.descr));break;case"PLAYLIST":r.replaceWith(this.item.createPlaylist(L,T.imgUrl,T.descr,T.ownerName||""));break;case"ALBUM":r.replaceWith(this.item.createAlbum(L,T.imgUrl,T.descr,T.ownerName||""));break;case"ARTIST":r.replaceWith(this.item.createArtist(L,T.imgUrl,T.descr,"",T.sex));break}}else{var E=r.attr("href");E&&/^http/.test(E)&&r.attr("data-link","normal").attr("target","_new")}}},setRealImgSrc:function(t){return!t||/^https?:\/\/(test)?source.boomplaymusic.com\/$/.test(t)?"":(t=t.replace(/^(http)(:\/\/(test)?source.boomplaymusic.com\/)/,function(i,n,r){return n+"s"+r}),/^http/.test(t)||(t="https://"+(e.isInTestBp?"test":"")+"source.boomplaymusic.com/"+t),/^https:\/\/(www|test)-isp.boomplay.com/.test(location.href)&&(t=t.replace(/^(https:\/\/(?:test)?source)(.boomplaymusic.com\/)/,function(i,n,r){return n+"-isp"+r})),t)},getRelNofollow:function(t){return/http[s]?:\/\/[\d\w]{2,15}.boomplay.com/.test(t)?"":'rel="nofollow"'},item:{setRealBg:function(t){var i=lhx.buzz.setRealImgSrc(t);return i?"background-image: url("+i+");":""},createWeb:function(t,i,n){var r=lhx.buzz.getRelNofollow(t);return'<a target="_boomplay" data-link="normal" '+r+' href="'+t+'">   <cite class="card card_web">       <span class="img white_default_img" style="'+this.setRealBg(i)+'"></span>       <span class="text">           <span  class="title">'+n+"</span>       </span>   </cite></a>"},createHREF:function(t,i){var n=lhx.buzz.getRelNofollow(t);return'<br /><a target="_boomplay" data-link="normal" '+n+' href="'+t+'">'+i+"</a>"},createMusic:function(t,i,n,r){return'<a target="_boomplay" data-link="normal" href="/songs/'+t+'">   <cite class="card card_music">       <span class="img white_default_song" style="'+this.setRealBg(i)+'">       </span>       <span class="text">           <span class="title">'+n+'</span>           <span class="name"><span class="mark">Song</span>'+r+'</span>       </span>       <button class="card_download download_event" data-data="'+t+'@+#MUSIC@+#@+#"></button>   </cite></a>'},createPlaylist:function(t,i,n,r){return'<a target="_boomplay" data-link="normal" href="/playlists/'+t+'">   <cite class="card">       <span class="img white_default_playlist" style="'+this.setRealBg(i)+'">       </span>       <span class="text">           <span class="title">'+lhx.xss.escapeXml(n)+'</span>           <span class="name"><span class="mark">Playlist</span>'+r+"</span>       </span>   </cite></a>"},createAlbum:function(t,i,n,r){return'<a target="_boomplay" data-link="normal" href="/albums/'+t+'">   <cite class="card">       <span class="img white_default_album" style="'+this.setRealBg(i)+'">       </span>       <span class="text">           <span class="title">'+n+'</span>           <span class="name"><span class="mark">Album</span>'+r+"</span>       </span>   </cite></a>"},createArtist:function(t,i,n,r,d){return'<a target="_boomplay" data-link="normal" href="/artists/'+t+'">   <cite class="card">       <span class="img white_default_singer_M white_default_singer_'+d+'" style="'+this.setRealBg(i)+'"></span>       <span class="text">           <span class="title">'+n+'</span>           <span class="name"><span class="mark">Artist</span>'+r+"</span>       </span>   </cite></a>"},createUser_noCard:function(t,i){return'<a class="getApp" href="javascript:;"   data-data="'+t+'@+#USER@+#@+#">'+i+"</a>"}}},lhx.readMore={maxLine:2,init:function(){var t=$(".summary .description"),i=t.find(".readMoreBtnWrap");if(!(t.length<1||i.length<1)){var n=t.find(".description_content"),r=n.attr("data-text");r&&n.html(r);var d=t[0].scrollHeight,g=parseInt(t.css("line-height")),_=g*this.maxLine+Math.floor(g/2);if(d<=_){i.removeClass("show");return}i.addClass("show");var T=n.html()||"";T=T.trim().replace(/(<br>)+/ig,"<br>"),r||n.attr("data-text",T);for(var U=3+4;d>_;){var D=T.substring(0,T.length-U++);n.html(D),T=D,d=t[0].scrollHeight}D=T.substring(0,T.length-10),n.html(D)}},open:function(){$(".pop_descriptionReadMore_mask,.pop_descriptionReadMore").addClass("show")},close:function(){$(".pop_descriptionReadMore_mask,.pop_descriptionReadMore").removeClass("show")}};var l=lhx.EventUtil={addHandler:function(t,i,n){t.addEventListener?t.addEventListener(i,n,!1):t.attachEvent&&t.attachEvent("on"+i,n)},removeHandler:function(t,i,n){t.removeEventListener?t.removeEventListener(i,n,!1):t.detachEvent&&t.detachEvent("on"+i,n)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getWheelDelta:function(t){return t.wheelDelta?t.wheelDelta:-t.detail*40}},h=lhx.dialog={pageLoading:{show:function(){var t=$(".dialog_pageLoading");if(t.length)return t.removeClass("hidden"),!0;var i='<article class="dialog_pageLoading noneEvent">    <div class="contentWrap">        <div class="iconWrap">            <cite class="icon icon4"></cite>            <cite class="icon icon3"></cite>            <cite class="icon icon2"></cite>            <cite class="icon icon1"></cite>        </div>        <p>Loading...</p>    </div></article>';$("body").append(i)},close:function(){$(".dialog_pageLoading").addClass("hidden")}},loading:{show:function(t,i){var n=$(".dialog_loading");if(n.length>0)return!0;var r="";t&&(r='<span class="text">'+t+"</span>"),i=i?"isInfinite":"";var d='<article class="dialog_loading '+i+'">    <div class="dialog_loading_inner">        <div class="content">            <cite class="icon"></cite>'+r+"        </div>    </div></article>";$("body").append(d)},close:function(){$(".dialog_loading").remove()}},toast:{id:0,show:function(t,i,n,r){t=t==="Sorry, this item is unavailable in your country due to copyright issues"?config.msg.notAvailable:t;var d=i?"hasIcon":"",g=n?"isError":"",_=++this.id;r=r||3e3;var T='<article class="dialog_toast id_'+_+" noneEvent "+d+" "+g+'" style="animation: toast_hidden '+r+'ms forwards;">    <div class="center">        <div class="text">'+t+"</div>    </div></article>",U=$("body").append(T);setTimeout(function(){$("body").find(".dialog_toast.id_"+_).remove()},r)}},inputTip:{id:0,show:function(t,i,n){var r=++this.id;t=t||"Please enter valid information.",n=n||5e3;var d='<div class="inputTip id_'+r+'"    style="animation: inputTip_hidden '+n+'ms forwards;">'+t+"</div>";i.append(d),setTimeout(function(){$("body").find(".dialog_inputTip.id_"+r).remove()},n)}},confirm:{fn1:null,fn2:null,closeCallback:null,show:function(t,i,n,r,d,g,_){var T=this,U=$(".dialog_confirm");if(this.fn1=i,this.fn2=n,this.closeCallback=g,U.length){U.addClass("show"),_?U.addClass("isOneBtn"):U.removeClass("isOneBtn"),$(".dialog_confirm_mask").addClass("show"),U.find(".text").html(t),U.find(".cancel").html(r||"NO").focus(),U.find(".sure").html(d||"Yes");return}var D='<div class="dialog_confirm_mask"></div><article class="dialog_confirm '+(_?"isOneBtn":"")+'">    <h2><button class="close"></button></h2>    <div class="text">'+t+'</div>    <button class="cancel">'+(r||"NO")+'</button>    <button class="sure">'+(d||"Yes")+"</button></article>";$("body").append(D),setTimeout(function(){$(".dialog_confirm,.dialog_confirm_mask").addClass("show"),$(".dialog_confirm .cancel").focus()}),$(document).on({click:function(){T.close();var L=$(".dialog_confirm");T.closeCallback&&T.closeCallback(T,L)}},".dialog_confirm .close"),$(document).on({click:function(){var L=$(".dialog_confirm");T.fn1&&T.fn1(T,L),T.close()}},".dialog_confirm .cancel"),$(document).on({click:function(){var L=$(".dialog_confirm");T.fn2&&T.fn2(T,L),T.close()}},".dialog_confirm .sure")},close:function(){$(".dialog_confirm,.dialog_confirm_mask").removeClass("show"),this.fn1=null,this.fn2=null}},download:{fn1:null,fn2:null,show:function(t,i,n){var r=this,d=$(".dialog_download");if(this.fn1=i,this.fn2=n,d.length){d.addClass("show"),$(".dialog_download_mask").addClass("show"),d.find(".text").html(t);return}var g='<div class="dialog_download_mask"></div><article class="dialog_download">    <h2><strong>GET THE APP</strong><button class="close"></button></h2>    <div class="text">'+t+'</div>    <a class="downloadFromGooglePlay"       href="https://play.app.goo.gl/?link=https://play.google.com/store/apps/details?id=com.afmobi.boomplayer&amp;ddl=1&amp;pcampaignid=web_ddl_1"       target="_googlePlay" data-link="normal" rel="nofollow"></a>    <a class="downloadFromAppStore"       href="https://itunes.apple.com/cn/app/id1437251983"       target="_appStore" data-link="normal" rel="nofollow"></a></article>';$("body").append(g),setTimeout(function(){$(".dialog_download,.dialog_download_mask").addClass("show"),$(".dialog_download .downloadFromGooglePlay").focus()},200),$(document).on({click:function(){r.close()}},".dialog_download .close"),$(document).on({click:function(){var _=$(".dialog_download");r.fn1&&r.fn1(r,_),r.close(),lhx.logUtils.logACT("TO_GOOGLEPLAY")}},".dialog_download .downloadFromGooglePlay"),$(document).on({click:function(){var _=$(".dialog_download");r.fn2&&r.fn2(r,_),r.close(),lhx.logUtils.logACT("TO_APPSTORE")}},".dialog_download .downloadFromAppStore")},close:function(){$(".dialog_download,.dialog_download_mask").removeClass("show"),this.fn1=null,this.fn2=null}},recaptcha:{show:function(t){var i=this,n=$(".dialog_recaptcha");if(n.length)n.addClass("show"),$(".dialog_recaptcha_mask").addClass("show");else{var r='<div class="dialog_recaptcha_mask"></div><article class="dialog_recaptcha noneSelect">   <div id="recaptchaID_dialog"></div></article>';$("body").append(r),setTimeout(function(){$(".dialog_recaptcha,.dialog_recaptcha_mask").addClass("show")},200)}recaptchaOnload(t)},close:function(){$(".dialog_recaptcha,.dialog_recaptcha_mask").removeClass("show")}}};$(document).on({click:function(){lhx.logUtils.logACT("TO_GOOGLEPLAY")}},".toGooglePlay_event"),$(document).on({click:function(){lhx.logUtils.logACT("TO_APPSTORE")}},".toAppStore_event");var y=lhx.pajax={support:{pushSate:"pushState"in history,onhashchange:"onhashchange"in e&&(document.documentMode===void 0||document.documentMode>7)},currentAjax:null,pajaxAbort:function(){this.currentAjax&&this.currentAjax.abort()},getNoDataWithNetError:function(){return'<div class="noData">    <div class="imgBg"></div>    <div class="text">Network Error!</div>    <a class="button" href="/">Go back to home</a></div>'},get404Error:function(){return'<div class="noData">    <div class="imgBg"></div>    <div class="text">404 - Page not found!</div>    <a class="button" href="/">Go back to home</a></div>'},getData:function(t,i){var n=this;this.pajaxAbort();var r=$(".pageContent");e.pageJS&&e.pageJS.destroy(r.attr("id")),r.html(""),lhx.dialog.pageLoading.show(),this.currentAjax=$.ajax({type:"GET",url:t,success:function(d){n.changePageContent(d)},error:function(d){d.status===404?r.html(n.get404Error()):r.html(n.getNoDataWithNetError()),lhx.dialog.pageLoading.close()}})},getData_fromPart:function(t,i,n){var r=this;this.pajaxAbort();var d=$(i);lhx.dialog.pageLoading.show();var g=config.fromGoogle?t.lmx_addURLParamBatch({from:"google"},/[?&]from=/.test(t)):t;history.replaceState({href:g},"",g),this.currentAjax=$.ajax({type:"GET",url:t,success:function(_){r.changePAjaxPart(i,_),lhx.comment.initTime(),lhx.column.initAll(),lhx.favouritesPage.initLoveStatus(),i===".partToPremium"&&(lhx.aside.destroy(),lhx.aside.addScroll(),t==="/premium"?($(".premium-content").removeClass("premium-content-bg2"),lhx.logUtils.newLog("ACT","VISIT","WEB_PLANS_PAGE_VISIT")):($(".premium-content").addClass("premium-content-bg2"),lhx.logUtils.newLog("ACT","VISIT","WEB_BENEFITS_PAGE_VISIT"))),i===".partTo_classification"?lhx.logUtils.newLog("ACT","VISIT","MUSIC_VIDEO_VISIT",{category:lhx.getIdBySeparator("/video/")}):i===".partTo_classification_search"&&lhx.audioUtils.episodesStateList_find()},error:function(_){_.status===404?d.html(r.get404Error()):d.html(r.getNoDataWithNetError()),lhx.dialog.pageLoading.close()}})},changePAjaxPart:function(t,i){var n=$(t),r=$(document.createElement("div"));r.html(i);var d=r.find(t);n.html(d.html());var g=r.find("title").html();if(g&&$("title").html(g),t===".partTo_playlists"){var _=r.find("link[rel=canonical]").attr("href");_&&$("link[rel=canonical]").attr("href",_);var T=r.find("meta[name=description]").attr("content");T&&$("meta[name=description]").attr("content",T)}lhx.login.isLoginUI()&&(r.find(".userInfo .logout_info").length?lhx.login.loginOut():r.find(".userInfo .autoLogin_info").length&&lhx.login.autoLoginCan()),lhx.dialog.pageLoading.close(),lhx.lazyImg.scroll()},isInit:!1,init:function(){var t=this;if(!this.isInit){if(this.isInit=!0,$(document).on({click:function(T){T.stopPropagation();var U=$(this),D=U.attr("href");if(!(U.attr("data-link")==="normal"||D.indexOf("javascript")!==-1)){T.preventDefault();var L=U.attr("data-partTo");if(L){t.getData_fromPart(D,L);return}t.pajaxTo(D)}}},"a"),e.pageJS&&e.pageJS.init($(".pageContent").attr("id")),this.support.pushSate){l.addHandler(e,"popstate",function(T){var U=T.state;U&&t.getData(U.href)}),history.replaceState({href:location.href,first:!0},"");return}if(this.support.onhashchange){var i=function(){var T=location.hash.substring(1);T||(T=t.getLastUrl(location.href)),t.getData(T)};i(),l.addHandler("hashchange",i);return}var n=document.getElementById("iframe");if(n||(n=document.createElement("iframe"),n.id="iframe",n.style.display="none",document.body.appendChild(n)),e==top){var r=location.href.split("#")[1];location.hash.substring(1)||(r=this.getLastUrl(location.href)),n.src=r+(r.indexOf("?")===-1?"?":"&")+"v=1"}else{var d=top.document.getElementsByTagName("main")[0],g=document.getElementsByTagName("main")[0],_=document.title;_&&(top.document.title=_),top.pageJS&&top.pageJS.destroy(d.id),d.id=g.id,d.innerHTML=g.innerHTML,top.location.hash=this.getLastUrl(location.href).replace(/[\?&]v=1/,""),top.pageJS&&top.pageJS.init(d.id)}}},changePageContent:function(t){var i=$(".pageContent"),n=$(document.createElement("div"));n.html(t);var r=n.find(".pageContent"),d=r.attr("id"),g=n.find("title").html();g&&$("title").html(g);var _=n.find("link[rel=canonical]").attr("href");_&&$("link[rel=canonical]").attr("href",_);var T=n.find("meta[name=description]").attr("content");T&&$("meta[name=description]").attr("content",T),sideBarNav.pajax_initNav(r.attr("data-nav")),i.attr("id",d),i.html(r.html()||this.get404Error()),lhx.login.isLoginUI()&&(n.find(".userInfo .logout_info").length?lhx.login.loginOut():n.find(".userInfo .autoLogin_info").length&&lhx.login.autoLoginCan()),lhx.dialog.pageLoading.close(),e.pageJS&&e.pageJS.init(d)},pajaxTo:function(t){if(this.support.pushSate){if(t!==location.pathname&&t!==location.href){var i=config.fromGoogle?t.lmx_addURLParamBatch({from:"google"},/[?&]from=/.test(t)):t;history.pushState({href:i},"",i)}this.getData(t);return}if(this.support.onhashchange){location.hash=this.getLastUrl(t),this.getData(t);return}var n=document.getElementById("iframe");n.src=t+(t.indexOf("?")===-1?"?":"&")+"ver=1"},getLastUrl:function(t){var i=t.split("/");return i[i.length-1]}},I=lhx.logUtils={upload:function(t){$.ajax({type:"post",url:config.request.log,data:t,beforeSend:function(i){i.setRequestHeader("refererWeb",lhx.getLastToken())},success:function(i){},error:function(i){}})},logACT:function(t){var i={evtCat:"ACT",evtID:"USER_RET",logSource:t},n=lhx.getParamByLog("","");i.check=n.check,i.id=n.id,this.upload(i)},logPlayStart:function(){if(!this.playStart_isLog){this.playStart_isLog=!0;var t=location.href.lmx_parseToObjWithURL(),i=t.srModel||t.from||"Web",n=t.ffm||"",r=new Date().getTime()-lhx.audioUtils.clickAndNextSongTime;if((!r||r<0)&&(r=1),S.currentColType==="podcast"){I.logITEM(S.currentId,i,"EPISODE","PLAYSTART","PODCAST_PLAYSTART",void 0,n,!0,r);return}I.logITEM(S.currentId,i,"MUSIC","PLAYSTART","SONG_PLAYSTART",void 0,n,!1,r)}},logPlay30:function(){var t=location.href.lmx_parseToObjWithURL(),i=t.srModel||t.from||"Web",n=t.ffm||"";S.currentColType==="podcast"?I.logITEM(S.currentId,i,"EPISODE","PLAY","PODCAST_PLAY",void 0,n,!0):I.logITEM(S.currentId,i,"MUSIC","PLAY","SONG_PLAY",void 0,n),lhx.hearMore.check()},logPlayStop:function(){var t=location.href.lmx_parseToObjWithURL(),i=t.srModel||t.from||"Web",n=t.ffm||"",r=Math.round(this.playTime);!r||(this.playTime=0,S.currentColType==="podcast"?I.logITEM(S.currentId,i,"EPISODE","PLAYSTOP","PODCAST_PLAYSTOP",r,n,!0):I.logITEM(S.currentId,i,"MUSIC","PLAYSTOP","SONG_PLAYSTOP",r,n))},playTime:0,playTime_temp:0,playTime_start:0,playTime_end:0,playTime_isLog:!1,playStart_isLog:!1,playTime_reset:function(){this.playTime=0,this.playTime_temp=0,this.playTime_isLog=!1,this.playStart_isLog=!1,this.playTime_start=this.playTime_end=new Date().getTime()},isEnd_playTime:!0,setPlayTime_start:function(){!this.isEnd_playTime||(this.playTime_start=new Date().getTime(),this.isEnd_playTime=!1)},setPlayTime_end:function(){this.isEnd_playTime||(this.isEnd_playTime=!0,this.playTime_end=new Date().getTime(),this.playTime_temp+=this.playTime_end-this.playTime_start,this.playTime_start=this.playTime_end)},askIsMore30:function(){k.paused||S.isPaused||this.isEnd_playTime||(this.playTime=(this.playTime_temp+new Date().getTime()-this.playTime_start)/1e3,!this.playTime_isLog&&(this.playTime<30||(this.playTime_isLog=!0,I.logPlay30())))},logVideo:{playTime:0,playTime_temp:0,playTime_start:0,playTime_end:0,playTime_isLog:!1,playStart_isLog:!1,playTime_reset:function(){console.log("reset"),this.playTime=0,this.playTime_temp=0,this.playTime_isLog=!1,this.playStart_isLog=!1,this.playTime_start=this.playTime_end=new Date().getTime()},isEnd_playTime:!0,setPlayTime_start:function(){!this.isEnd_playTime||(this.playTime_start=new Date().getTime(),this.isEnd_playTime=!1)},setPlayTime_end:function(){this.isEnd_playTime||(this.isEnd_playTime=!0,this.playTime_end=new Date().getTime(),this.playTime_temp+=this.playTime_end-this.playTime_start,this.playTime_start=this.playTime_end)},clickAndNextVideoTime:new Date().getTime(),playStart:function(t){if(!this.playStart_isLog){this.playStart_isLog=!0,console.log("\u5F00\u59CB\u64AD\u653E\u6253\u70B9\uFF01");var i=location.href.lmx_parseToObjWithURL(),n=i.srModel||i.from||"Web",r=i.ffm||"",d=new Date().getTime()-this.clickAndNextVideoTime;(!d||d<0)&&(d=1),console.log(d),I.logITEM(t,n,"VIDEO","PLAYSTART","VIDEO_PLAYSTART",void 0,r,!1,d,!0)}},playStop:function(t){var i=location.href.lmx_parseToObjWithURL(),n=i.srModel||i.from||"Web",r=i.ffm||"";this.clickAndNextVideoTime=new Date().getTime();var d=Math.round(this.playTime);!d||!t||(this.playTime=0,I.logITEM(t,n,"VIDEO","PLAYSTOP","VIDEO_PLAYSTOP",d,r,!1,void 0,!0),this.playTime_reset())},askIsMore30:function(t){if(!this.isEnd_playTime&&(this.playTime=(this.playTime_temp+new Date().getTime()-this.playTime_start)/1e3,console.log(this.playTime),!this.playTime_isLog&&(console.log(this.playTime),!(this.playTime<30)))){this.playTime_isLog=!0;var i=location.href.lmx_parseToObjWithURL(),n=i.srModel||i.from||"Web",r=i.ffm||"";I.logITEM(t,n,"VIDEO","PLAY","VIDEO_PLAY",void 0,r,!1,void 0,!0)}}},logITEM:function(t,i,n,r,d,g,_,T,U,D){var L={evtCat:"ITEM",itemID:t,itemType:n,evtTrigger:r,evtID:d,rcmdEngine:D?void 0:S.rcmdEngine||"",rcmdEngineVersion:D?void 0:S.rcmdEngineVersion||0};if(g!==void 0&&(L.playTime=g),U!==void 0&&(L.loadTime=U),i&&(L.logSource=i),_&&(L.ffm=_),!D){var E=S.colID;E&&(T?L.showID=E:L.colID=E)}var N=lhx.getParamByLog(t,n);L.check=N.check,L.id=N.id,this.upload(L)},clickLog:function(t,i,n){var r={itemID:t.itemID,itemType:t.itemType,sns:i};if(n){var d=lhx.share.$this;lhx.changeCount(d,!0)}$.ajax({url:config.request.shareCount,type:"post",data:r,dataType:"json",success:function(g){},error:function(g){}})},newLog:function(t,i,n,r,d){var g={id:lhx.getUUID(36),evtCat:t,evtTrigger:i,evtID:n,evtData:r};g.evtData||(g.evtData={}),d&&(g.usageType="p");var _=lhx.getCookie("afid");_&&(g.afid=_),g.evtData.actSource=this.getSourceWeb();var T={event:JSON.stringify([g])};this.uploadBatch(T)},getSourceWeb:function(){return $("#sourceWeb").val()},uploadBatch:function(t){$.ajax({url:config.request.batchUploadLogs,type:"post",dataType:"json",data:JSON.stringify(t),contentType:"application/json;charset=utf-8",beforeSend:function(i){i.setRequestHeader("refererWeb",lhx.getLastToken())},success:function(i){},error:function(i){}})}};lhx.openBp={bp:"bpmain://main/",bpIOs:"https://www.boomplaymusic.com/share/music/",googlePlay:"https://play.app.goo.gl/?link=https://play.google.com/store/apps/details?id=com.afmobi.boomplayer&amp;ddl=1&amp;pcampaignid=web_ddl_1",appStore:"https://apps.apple.com/cn/app/id1437251983",isAndroid:lhx.isAndroid(),isiOS:lhx.isiOS(),isChrome:lhx.isChrome(),toAppStoreAndGooglePlay:function(){e.open(this.googlePlay,"_googlePlay"),e.open(this.appStore,"_appStore"),lhx.logUtils.logACT("TO_GOOGLEPLAY"),lhx.logUtils.logACT("TO_APPSTORE")},toAppStore_inThisPage:function(t){lhx.logUtils.logACT("TO_APPSTORE",t),location.href=this.appStore},toGooglePlay_inThisPage:function(t){lhx.logUtils.logACT("TO_GOOGLEPLAY",t),location.href=this.googlePlay},tryToIosBp:function(t,i){var n=this;lhx.dialog.loading.show("Loading..."),location.href=t,lhx.logUtils.logACT("TO_BP",i);var r=new Date().getTime();setTimeout(function(){lhx.dialog.loading.close(),!(n.isHidden()||new Date().getTime()-r>6100)&&n.toAppStore_inThisPage(i)},6e3)},tryToAndroidBp:function(t,i){var n=this;lhx.dialog.loading.show("Loading..."),location.href=t,lhx.logUtils.logACT("TO_BP",i);var r=new Date().getTime();setTimeout(function(){lhx.dialog.loading.close(),!(n.isHidden()||new Date().getTime()-r>6100)&&n.toGooglePlay_inThisPage(i)},6e3)}},e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(t){var i=this,n,r,d=e.setTimeout(function(){n=+new Date,t(n),r=+new Date,i.timeout=1e3/60-(r-n)},i.timeout);return d},e.cancelAnimationFrame=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.msCancelAnimationFrame||e.msCancelRequestAnimationFrame||function(t){clearTimeout(t)};function A(){try{if(typeof localStorage=="object")return localStorage;if(typeof globalStorage=="object")return globalStorage[location.host]}catch(t){console.log("CalmLuo: \u8BE5\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u672C\u5730\u5B58\u50A8\u6280\u672F\uFF0C\u6216\u88AB\u7981\u7528Cookie!")}}var v=lhx.storageUtils={storage:A(),storageTime:new Date().getTime(),version:"version",version_put:function(){v.setString(this.version,lhx.version)},version_get:function(){var t=this.getString(this.version);return t||null},presetSongList:"presetSongList",songList:"songList",playItemIndex:"playItemIndex",playMode:"playMode",isPlaying:"isPlaying",favorite:"favorite",myPlaylists:"myPlaylists",countryModelSelected:"countryModelSelected",episodesStateList:"episodesStateList",timestamp_signUp:"timestamp_signUp",timestamp_signUp_put:function(){v.setString(v.timestamp_signUp,new Date().getTime())},timestamp_signUp_get:function(){var t=v.getString(v.timestamp_signUp);return t?parseInt(t,10):0},timestamp_findPassword:"timestamp_findPassword",timestamp_findPassword_put:function(){v.setString(v.timestamp_findPassword,new Date().getTime())},timestamp_findPassword_get:function(){var t=v.getString(v.timestamp_findPassword);return t?parseInt(t,10):0},getToday:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()},timestamp_hearMore:"timestamp_hearMore",timestamp_hearMore_put:function(){var t=this.getToday();return v.setString(v.timestamp_hearMore,t),t},timestamp_hearMore_get:function(){var t=v.getString(v.timestamp_hearMore);return t?parseInt(t,10):0},timestamp_comingSoon:"timestamp_comingSoon",timestamp_comingSoon_put:function(){var t=this.getToday();return v.setString(v.timestamp_comingSoon,t),t},timestamp_comingSoon_get:function(){var t=v.getString(v.timestamp_comingSoon);return t?parseInt(t,10):0},setObject:function(t,i){try{return this.storage[t]=JSON.stringify(i),!0}catch(n){return console.log("CalmLuo: \u5B58\u50A8\u7684\u6570\u636E\u4E0D\u662Fjson\u5BF9\u8C61, \u5B58\u50A8\u5931\u8D25!"),!1}},getObject:function(t){try{return JSON.parse(this.storage[t])}catch(i){return!1}},setString:function(t,i){try{return this.storage[t]=i,!0}catch(n){return console.log("CalmLuo: \u5B58\u50A8\u5931\u8D25!"),!1}},getString:function(t){try{return this.storage[t]}catch(i){return!1}},clearValue:function(t){delete this.storage[t]},clearAll:function(){var t=this;try{return t.storage.clear(),t}catch(i){return t}},cookieTip:"cookieTip",cookieTip_put:function(){v.setString(v.cookieTip,"T")},cookieTip_get:function(){var t=v.getString(v.cookieTip);return t||0},initCookie:function(){var t=this;lhx.hasCookie()&&this.cookieTip_get()!=="T"&&($(".cookieTipWrap").removeClass("hidden"),$(".cookieTip_close").one("click",function(){$(".cookieTipWrap").addClass("hidden"),t.cookieTip_put()}))},sessionIdValid:"sessionIdValid",sessionIdValid_put:function(t){v.setString(this.sessionIdValid,t)},sessionIdValid_get:function(){var t=this.getString(this.sessionIdValid);return t||null}},k=new Audio;k.loop=!1;var S=lhx.audioUtils={currentId:0,rcmdEngine:"",rcmdEngineVersion:0,colID:0,canPlayingId:0,isPaused:!0,isInPlaying:!1,isEnded:!0,$audioRail:null,$audioRail_buffered:null,$audioRail_current:null,$audioRail_dot:null,$audio_currentTime:null,$audio_duration:null,$audioInfo:null,init:function(){this.$audioRail=$(".audioRail"),this.$audioRail_buffered=$(".audioRail_buffered"),this.$audioRail_current=$(".audioRail_current"),this.$audioRail_dot=$(".audioRail_dot"),this.$audio_currentTime=$(".audio_currentTime"),this.$audio_duration=$(".audio_duration"),this.$audioInfo=$(".audioInfo"),this.playMode_init(),this.songList_init(),this.playItemIndex_init(),this.playModeUI_change(!0),this.update_UIMsg(),this.createSongListUI()},stopSongAndNet:function(){this.pause(),this.abortNet(),this.currentTime===0&&this.init_rail()},tryPlay:function(t,i){if(this.clickAndNextSongTime=new Date().getTime(),this.isEnded||!i||this.currentId!==this.currentMsg.id){this.isEnded=!1,this.stopSongAndNet(),this.status_loading(),this.playInNet();return}if(k.readyState&&this.canPlayingId&&this.canPlayingId===this.currentId){lhx.openBp.isChrome&&!/^(src_|srcServiceWorker_)/.test(this.currentSongData)?(t||(this.currentTime=k.currentTime),this.encryptToPlay_can(!0)):this.play();return}this.currentId=0,this.rcmdEngine="",this.rcmdEngineVersion=0,this.colID=0,this.tryPlay()},play:function(){k.play(),this.run(),this.isPlaying_put()},pause:function(){lhx.blobStop(),k.pause(),this.status_pause(),this.stop()},status_loading:function(){this.isPaused=!1,this.isInPlaying=!1,$(".audioUtils_btn_play").removeClass("status_playing").addClass("status_loading"),this.playOneStatus_clear(),this.playOneStatus_change(),I.setPlayTime_end()},status_playing:function(){I.setPlayTime_start(),this.isPaused=!1,this.isInPlaying=!0,$(".audioUtils_btn_play").removeClass("status_loading").addClass("status_playing"),this.playOneStatus_change()},status_pause:function(){this.isPaused=!0,this.isInPlaying=!1,$(".audioUtils_btn_play").removeClass("status_playing status_loading"),this.playOneStatus_change(),I.setPlayTime_end()},isRunning:!1,animationId:null,run:function(){var t=this;if(this.isRunning)return;this.isRunning=!0,this.animationId=requestAnimationFrame(n);var i=new Date().getTime();function n(){var r=new Date().getTime();r-i>100&&(i=r,t.update_rail()),t.animationId=requestAnimationFrame(n)}},stop:function(){this.isRunning=!1,cancelAnimationFrame(this.animationId)},duration:0,currentTime:0,init_rail:function(){this.$audioRail_current.css({width:0}),this.$audioRail_dot.css({left:0}),this.$audio_currentTime.text("00:00")},update_rail:function(){var t=this.duration;if(!(this.isDragging||!t)){var i=k.currentTime;if(!!i){if(config.fromGoogle&&i>29&&!(lhx.login.isVip()||lhx.login.isLiteVip())){this.jump(0)&&this.encryptToPlay();return}this.currentTime=i;var n=i/t*100+"%";this.$audioRail_current.css({width:n}),this.$audioRail_dot.css({left:n}),this.update_time(t,i);var r=k.buffered.length>0&&k.buffered.end(0),d=r/t*100+"%";this.$audioRail_buffered.css({width:d}),lhx.audioUtils.currentColType==="podcast"&&lhx.audioUtils.updateEpisodesState({id:lhx.audioUtils.currentId,duration:t,currentTime:i})}}},update_time:function(t,i){this.$audio_duration&&this.$audio_duration.text(lhx.formatMinuteSecond(t)),this.$audio_currentTime&&this.$audio_currentTime.text(lhx.formatMinuteSecond(i))},isDragging:!1,scale:-1,timer:null,mouseDown:function(t){this.isDragging=!0,this.jump(t)&&this.encryptToPlay()},dragstart:function(){this.isDragging=!0},dragging:function(t){this.isDragging&&this.jump(t)},dragend:function(t){this.isDragging&&(this.jump(t)&&this.encryptToPlay(),this.isDragging=!1)},jump:function(t){if(!!this.$audioRail){var i=this.$audioRail.width(),n=t-this.$audioRail.offset().left;n<0?n=0:n>i&&(n=i),this.scale=n/i;var r=Math.floor(this.scale*1e4)/100+"%";this.$audioRail_current.css({width:r}),this.$audioRail_dot.css({left:r}),this.currentTime=this.scale*this.duration,this.update_time(this.duration,this.currentTime);var d=this;return config.fromGoogle&&this.currentTime>29&&!(lhx.login.isVip()||lhx.login.isLiteVip())?(clearTimeout(this.timer),this.timer=setTimeout(function(){d.update_rail(),lhx.dialog.confirm.show("Please open Boomplay app to enjoy the whole song streaming.",null,function(){lhx.pajax.pajaxTo("/download")},null,"Enjoy Now",null,!0)},300),!1):!0}},setCurrentTime:function(){try{this.canPlayingId===this.currentId&&this.currentId&&(k.currentTime=this.currentTime)}catch(t){}},isPlaying_put:function(){v.storageTime=new Date().getTime(),v.setString(v.isPlaying,v.storageTime)},isPlaying_get:function(){var t=v.getString(v.isPlaying);return t||v.storageTime},songList:[],songList_set:function(t){this.songList=t,this.songList_put()},songList_put:function(){v.setObject(v.songList,this.songList)},songList_init:function(){var t=v.getObject(v.songList);return t?this.songList=t:this.songList=[],this.songList},presetSongList_put:function(){v.setString(v.presetSongList,"T")},presetSongList_get:function(){var t=v.getString(v.presetSongList);return t||""},initPresetSongList:function(){this.presetSongList_get()!=="T"&&(this.songList=["106788542%40%2B%23%40%2B%2357677264%40%2B%23https%3A%2F%2Fsource.boomplaymusic.com%2Fgroup10%2FM00%2F10%2F31%2F9aa717ddd1894500a8990efd273e797b_80_80.webp%40%2B%23Chance%20%28Na%20Ham%29%40%2B%23Seyi%20Vibez%40%2B%233493459%40%2B%2302%3A57@+#@+#@+#T","10120356%40%2B%23%40%2B%235176225%40%2B%23https%3A%2F%2Fsource.boomplaymusic.com%2Fhotgroup1%2FM00%2F00%2F7A%2FrBEenF6qdj-ALJ_sAABb7oHG7w0166.jpg%40%2B%23Solace%20%28Original%20Mix%29%40%2B%23Fangs%40%2B%232825939%40%2B%2304%3A40@+#@+#@+#T","23553114%40%2B%23%40%2B%239187003%40%2B%23https%3A%2F%2Fsource.boomplaymusic.com%2Fhotgroup1%2FM00%2F02%2FDA%2FrBEenF6q6YyAchRRAADugdk-GiA962.jpg%40%2B%23Marsh%20Mellow%20%28Original%20Mix%29%40%2B%23Terry%20G%40%2B%231124%40%2B%2307%3A12@+#@+#@+#T"],this.songList_put(),this.presetSongList_put())},playItemIndex:0,playItemIndex_set:function(t){this.playItemIndex=t,this.playItemIndex_put()},playItemIndex_put:function(){return v.setString(v.playItemIndex,this.playItemIndex),this},playItemIndex_init:function(){var t=parseInt(v.getString(v.playItemIndex));return isNaN(t)||t<0?this.playItemIndex=0:this.playItemIndex=t},playModeArr:["loop","shuffle","order","single"],playModeArr_text:["Loop Mode","Shuffle Mode","Order Mode","Single Mode"],playMode:0,playMode_set:function(t){this.playMode=t,this.playMode_put()},playMode_put:function(){v.setString(v.playMode,this.playMode)},playMode_init:function(){var t=v.getString(v.playMode);return t?this.playMode=parseInt(t,10):this.playMode=0,this.playMode},playModeUI_clear:function(t){t.removeClass("loop shuffle order single")},playModeUI_change:function(t){var i=$(".audioOperation_playMode");this.playModeUI_clear(i),i.addClass(this.playModeArr[this.playMode]),!t&&lhx.dialog.toast.show(this.playModeArr_text[this.playMode])},createSongListUI:function(){var t="",i=this.songList,n=i.length;n?this.footer_show():this.footer_hidden(),$(".songList .count").text("("+n+")");for(var r=0;r<n;r++){var d=this.parseMsg(i[r]),g=d.colType==="podcast";t+='<li class="clearfix" data-id="'+d.id+'">    <div class="serialNum">'+(r+1)+'</div>    <i></i>    <div class="songNameWrap">        <a class="songName" href="'+(g?"/episode/":"/songs/")+d.id+'">'+d.name+'</a>    </div>    <a class="artistName" '+(g?'style="opacity: .6; pointer-events: none;"':"")+'               href="'+(g?"javascript:;":"/artists/")+d.artistId+'">'+d.artist+'</a>    <div class="songAction">        <button class="play_icon"></button>',g||(t+='<button class="addPlaylist addPlaylist_event" data-id="'+d.id+'"></button>'),t+='   <button class="deleteSong"></button>    </div></li>'}$(".songList ol").html(t)},footer_hidden:function(){$(".footer").removeClass("show"),$(".main,.sidebar").removeClass("songListIsShow"),$(".songList").removeClass("show")},footer_show:function(){$(".footer").addClass("show"),$(".main,.sidebar").addClass("songListIsShow"),$(".main").addClass("songListIsShow"),$(".footer").hasClass("min")&&($(".footer").removeClass("show").addClass("min"),$(".main,.sidebar").removeClass("songListIsShow"),$(".songList").removeClass("show"))},footer_min:function(){$(".footer").hasClass("min")?($(".footer").addClass("show").removeClass("min"),$(".main,.sidebar").addClass("songListIsShow"),$(".main").addClass("songListIsShow")):($(".footer").removeClass("show").addClass("min"),$(".main,.sidebar").removeClass("songListIsShow"),$(".songList").removeClass("show"))},permission_vip_cannot:function(t){return(t&4)===0},permission_lite_cannot:function(t){return(t&16)===0},permission_lite_cannot_upCan:function(t){return(t&16)===0&&(t&4)>0},permission_noVip_cannot:function(t){return(t&1)===0},permission_noVip_cannot_upCan:function(t){return(t&1)===0&&(t&4)>0},permissionPreControl:function(t,i,n){var r=lhx.login.isVip(),d=lhx.login.isLiteVip(),g=i?config.msg.needSubscribe_album:config.msg.needSubscribe_song;if(n==="episode"&&(g=config.msg.needSubscribe_episode),r){if(S.permission_vip_cannot(t))return lhx.dialog.toast.show(config.msg.notAvailable,!1,!1),!0}else if(d){if(S.permission_lite_cannot(t))return S.permission_lite_cannot_upCan(t)?(lhx.dialog.confirm.show(g,function(){},function(){lhx.openBp.toAppStoreAndGooglePlay()}),!0):(lhx.dialog.toast.show(config.msg.notAvailable,!1,!1),!0)}else if(S.permission_noVip_cannot(t))return S.permission_noVip_cannot_upCan(t)?(lhx.dialog.confirm.show(g,function(){},function(){lhx.openBp.toAppStoreAndGooglePlay()}),!0):(lhx.dialog.toast.show(config.msg.notAvailable,!1,!1),!0)},playOne:function(t){var i=parseInt(t.attr("data-permission")),n=t.attr("data-sourceType");this.permissionPreControl(i,!1,n)||(this.addSongList(t,!1),this.playWithIndex())},playAll:function(t){var i=this.addSongList(t,!0);i!=="F"&&this.playWithIndex()},addSongList:function(t,i){var n=t.parents(".playAllSons").find(".play_one");n.removeClass("current");var r=t.hasClass("isAlbum"),d=t.attr("data-sourceType"),g=[],_=0,T=lhx.login.isVip(),U=lhx.login.isLiteVip(),D=0,L=!0,E=0,N=0;if(i){if(r){var X=parseInt(t.attr("data-permission"));if(this.permissionPreControl(X,!0,d==="show"?"episode":""))return"F"}}else N=n.index(t);for(var H=0,w=n.length;H<w;H++){var c=n.eq(H),x=parseInt(c.attr("data-permission"));if(T){if(S.permission_vip_cannot(x)){N>H&&E++;continue}}else if(U){if(S.permission_lite_cannot(x)){if(N>H&&E++,S.permission_lite_cannot_upCan(x)){_++;continue}continue}}else if(S.permission_noVip_cannot(x)){if(N>H&&E++,S.permission_noVip_cannot_upCan(x)){_++;continue}continue}var O=c.attr("data-data");g.push(O),L&&(L=!1,D=H)}if(i){if(!g.length)return _?(lhx.dialog.confirm.show(r?config.msg.needSubscribe_album:d==="show"?config.msg.needSubscribe_show:config.msg.needSubscribe_playlist,function(){},function(){lhx.openBp.toAppStoreAndGooglePlay()}),"F"):(lhx.dialog.toast.show(config.msg.notAvailable,!1,!1),"F");n.eq(D).addClass("current"),this.playItemIndex_set(0)}else t.addClass("current"),this.playItemIndex_set(N-E);this.songList_set(g),this.createSongListUI()},playWithIndex:function(t,i){this.update_UIMsg(),this.tryPlay(t,i)},playNext:function(){this.playItemIndex_set(this.limitIndex(++this.playItemIndex)),this.playWithIndex()},playPrev:function(){this.playItemIndex_set(this.limitIndex(--this.playItemIndex)),this.playWithIndex()},errorMaxNext:0,nextSongInMode:function(){var t=this.songList.length;switch(this.clickAndNextSongTime=new Date().getTime(),this.playMode){case 1:this.playItemIndex=lhx.rand(0,t-1);break;case 2:if(++this.playItemIndex>=t)return this.playItemIndex_set(t-1),this.init_rail(),this.pause(),S.currentTime=0,S.setCurrentTime(),!0;break;case 3:S.currentTime=0,I.logPlayStop(),I.playTime_reset();break;case 0:default:this.playItemIndex_set(this.limitIndex(++this.playItemIndex));break}this.playWithIndex(!0)},nextSongInMode_nextBtn:function(){var t=this.songList.length;this.playMode===1?this.playItemIndex=lhx.rand(0,t-1):this.playItemIndex_set(this.limitIndex(++this.playItemIndex)),this.playWithIndex()},prevSongInMode_prevBtn:function(){var t=this.songList.length;this.playMode===1?this.playItemIndex=lhx.rand(0,t-1):this.playItemIndex_set(this.limitIndex(--this.playItemIndex)),this.playWithIndex()},limitIndex:function(t){return t<0?this.songList.length-1:Math.abs(t)%this.songList.length},currentMsg:[],parseMsg:function(t){if(!t)return{};t=decodeURIComponent(t);var i=t.split("@+#");return{id:i[0],colType:i[1],colID:i[2],cover:i[3],name:i[4],artist:i[5],artistId:i[6],duration:lhx.minuteSecondToTimestamp(i[7]),rcmdEngine:i[8],rcmdEngineVersion:i[9],lyric:i[10]}},currentSongData:null,encryptToPlay:function(t){if(/^srcServiceWorker_/.test(this.currentSongData)){this.srcServiceWorker_to(t);return}if(/^src_/.test(this.currentSongData)){this.src_to(t);return}lhx.openBp.isChrome?this.encryptToPlay_can(t):this.encryptToPlay_cannot(t)},encryptToPlay_can:function(t){var i=this;if(!this.currentSongData){this.setCurrentTime();return}var n=e.URL.createObjectURL(this.currentSongData);k.src=n,setTimeout(function(){i.setCurrentTime(),(t||!i.isPaused)&&i.play()},1),setTimeout(function(){e.URL.revokeObjectURL(n)},800)},encryptToPlay_cannotTimeID:null,encryptToPlay_cannot:function(t){if(t){k.src=e.URL.createObjectURL(this.currentSongData);var i=this;clearTimeout(this.encryptToPlay_cannotTimeID),this.encryptToPlay_cannotTimeID=setTimeout(function(){i.setCurrentTime(),i.play()},200)}else this.setCurrentTime()},src_to:function(t){if(t){var i=this.currentSongData.replace(/^src_/,"");i!==k.src&&(k.src=i),this.play(),this.setCurrentTime()}else this.setCurrentTime()},srcServiceWorker_to:function(t){if(t){var i=this.currentSongData.replace(/^srcServiceWorker_/,"");i!==k.src&&(k.src=i),this.play(),this.setCurrentTime()}else this.setCurrentTime()},update_UIMsg:function(){this.currentMsg=this.parseMsg(this.songList[this.playItemIndex]),this.currentTime=0;var t=this.currentMsg,i=this.$audioInfo.find(".img"),n=this.$audioInfo.find(".default"),r=this.$audioInfo.find(".songName"),d=this.$audioInfo.find(".lyricTo"),g=this.$audioInfo.find(".singerName"),_=this.$audioInfo.find(".audioText"),T=$(".audioOperation_favorite"),U=$(".audioOperation_addPlaylist"),D=r.attr("data-srcPrefix"),L=D+(t.id||0);if(this.duration=t.duration,this.$audio_duration&&this.$audio_duration.text(lhx.formatMinuteSecond(t.duration)),t.cover?i.css("background-image","url('"+t.cover+"')"):i.css("background-image","none"),t.colType==="1"?n.removeClass("default_album").addClass("default_playlist"):n.removeClass("default_playlist").addClass("default_album"),t.colType==="podcast"){r.html(t.name||"").attr("href",L.replace("/songs/","/episode/")),g.html(t.artist||"").attr("href","/podcasts/"+(t.colID||0)),T.addClass("disabled").removeClass("isLove"),U.addClass("disabled");return}_.removeClass("hasLyric"),r.html(t.name||"").attr("href",L),d.attr("href",L.replace("/songs/","/lyrics/")),g.html(t.artist||"").attr("href",D.replace("/songs/","/artists/")+(t.artistId||0)),t.lyric==="T"&&_.addClass("hasLyric"),T.removeClass("disabled").attr("data-itemID",t.id),lhx.favouritesPage.isInFavourite(T,"musics",t.id),U.removeClass("disabled").attr("data-id",t.id)},currentAjax:null,xhr:null,abortNet:function(){this.currentAjax&&(this.currentAjax.abort(),this.currentAjax=null),this.xhr&&(this.xhr.abort(),this.xhr=null),this.clearErrorTimeId()},errorTimeId:null,clearErrorTimeId:function(){this.errorTimeId&&clearTimeout(this.errorTimeId),this.errorTimeId=null},playInNet:function(){var t=this;if(I.logPlayStop(),t.currentId=t.currentMsg.id,t.rcmdEngine=t.currentMsg.rcmdEngine,t.rcmdEngineVersion=t.currentMsg.rcmdEngineVersion,t.colID=t.currentMsg.colID,t.currentColType=t.currentMsg.colType,t.canPlayingId&&t.canPlayingId===t.currentId){I.playTime_reset(),t.encryptToPlay(!0);return}var i={itemID:t.currentId,itemType:"MUSIC"};t.currentMsg.colType==="podcast"&&(i.itemType="EPISODE");var n={param:lhx.AESUtils.encrypt(JSON.stringify(i))};this.currentSongData=null,this.canPlayingId=0,this.currentAjax=$.ajax({type:"post",url:config.request.source,data:n,dataType:"json",beforeSend:function(r){r.setRequestHeader("X-Boomplay-Ref",lhx.getLastToken())},success:function(r){var d=r.resources,g=r.source,_="";if(!g){r.code==="2005"||r.code==="2000"?lhx.dialog.confirm.show(config.msg.playSong.kickText,function(){lhx.login.autoLoginCan()},function(){lhx.login.autoLogin($(".autoLogin_event"))},config.msg.playSong.autoLoginBtn_cancel,config.msg.playSong.autoLoginBtn,function(){lhx.login.autoLoginCan()}):r.code==="2030"&&lhx.dialog.recaptcha.show(function(){I.playTime_reset(),S.status_loading(),S.playInNet(),lhx.dialog.recaptcha.close()}),lhx.dialog.toast.show(r.desc||config.error.network),I.playTime_reset(),S.pause();return}if(g){if(_=lhx.AESUtils.decrypt(g),lhx.audioUtils.currentColType==="podcast"&&lhx.audioUtils.episodesStateListTo({id:t.currentId}),/^https:\/\/(music|testsource)-20\d.boomplaymusic.com/.test(_)){if(t.srcStartTime=new Date().getTime(),d=JSON.parse(lhx.AESUtils.decrypt(d)),t.resourcesSrc=d,t.setOptimalCDN(_),lhx.supportKidnap){t.multicenterForKid();return}t.multicenterForBlob();return}I.playTime_reset(),t.currentSongData="src_"+_,t.canPlayingId=t.currentId,t.encryptToPlay(!0)}},error:function(r){r.statusText!=="abort"&&(r.readyState!==4?t.errorTimeId=setTimeout(function(){I.playTime_reset(),S.playInNet()},3e3):(lhx.dialog.toast.show(config.error.network),I.playTime_reset(),S.pause()))}})},cdn:["cf","akamai","aws","google"],cdnMaxLen:4,cdnIndex:0,resetCdnIndex:function(){this.cdnIndex=0},setOptimalCDN:function(t){if(this.resetCdnIndex(),this.optimalCDN){this.currentCDN=this.optimalCDN;return}for(var i in this.resourcesSrc)if(t===this.resourcesSrc[i]){this.optimalCDN=this.currentCDN=i;return}this.optimalCDN=this.currentCDN="cf"},getBlobWithSrc:function(t){var i=this;i.xhr=lhx.getBlob({url:t,success:function(n){i.optimalCDN=i.currentCDN,I.playTime_reset(),i.currentSongData=n,i.canPlayingId=i.currentId,i.encryptToPlay(!0)},abort:function(n){console.log("blob\u88AB\u53D6\u6D88",n.type),I.playTime_reset()},error:function(n){i.openMulticenterWithBlob()},timeout:function(n){i.openMulticenterWithBlob()}})},changeMulticenter:function(){var t=this,i=t.cdn[t.cdnIndex];if(t.optimalCDN===i&&(i=t.cdn[++t.cdnIndex]),++t.cdnIndex>t.cdnMaxLen)return"end";t.currentCDN=i},multicenterForBlob:function(){var t=this.resourcesSrc[this.currentCDN];this.getBlobWithSrc(t)},openMulticenterWithBlob:function(){if(this.changeMulticenter()==="end"){this.canPlayingId=0,I.playTime_reset(),lhx.dialog.toast.show(config.error.network),S.pause();return}this.multicenterForBlob()},multicenterForKid:function(){var t=new Date().getTime()-this.srcStartTime;if(t>12*60*1e3||t<0){this.canPlayingId=0,this.resetCdnIndex(),this.currentCDN=this.optimalCDN,lhx.audioUtils.playInNet();return}var i=this.resourcesSrc[this.currentCDN];I.playTime_reset(),this.currentSongData="srcServiceWorker_"+i,this.canPlayingId=this.currentId,this.encryptToPlay(!0)},openMulticenterWithKid:function(){if(this.changeMulticenter()==="end"){this.canPlayingId=0,this.status_loading(),this.resetCdnIndex(),this.currentCDN=this.optimalCDN,this.multicenterForBlob();return}this.multicenterForKid()},status_change_withClass:function(t){var i=$(t+"[data-id="+this.currentMsg.id+"]");i.addClass("current"),this.isPaused?$(t+".loadingOrPlaying").removeClass("loadingOrPlaying"):i.addClass("loadingOrPlaying")},positionToWithId:function(){var t=$(".songList ol"),i=t.find("li[data-id="+this.currentMsg.id+"]");if(i.length){var n=t.scrollTop()+i.position().top-t.height()/2+40;t.stop().animate({scrollTop:n+"px"},600)}},episodesStateList:[],episodesStateList_set:function(t){this.episodesStateList=t,this.episodesStateList_put()},episodesStateList_put:function(){v.setObject(v.episodesStateList,this.episodesStateList)},episodesStateList_init:function(){var t=v.getObject(v.episodesStateList);return t?this.episodesStateList=t:this.episodesStateList=[],this.episodesStateList_find(),this.episodesStateList},episodesStateList_find:function(){if(!!$(".episodesMenu").length)for(var t=this.episodesStateList,i=0,n=t.length;i<n;i++)this.episodesStateShow(t[i])},episodesStateShow:function(t){var i=$('.episodesMenu li[data-id="'+t.id+'"] .duration');if(!!i.length){var n=t.isFinished;if(n){i.addClass("finishedDuration").text("Played");return}var r=t.duration||i.attr("data-duration");r=parseFloat(r);var d=parseFloat(t.currentTime)||0,g='<span class="leftTime">'+lhx.formatMinuteSecond(r-d)+'</span> left <span class="leftTimeTrack"><i class="currentTrack" style="width: '+d/r*100+'%"></i></span>';i.removeClass("finishedDuration").html(g)}},updateEpisodesState:function(t){this.episodesStateListSave(t);var i=$('.episodesMenu li[data-id="'+t.id+'"] .duration');if(!!i.length){var n=t.isFinished;if(n){i.addClass("finishedDuration").text("Played");return}var r=t.duration,d=t.currentTime;i.find(".leftTime").text(lhx.formatMinuteSecond(r-d)),i.find(".currentTrack").css({width:d/r*100+"%"})}},episodesStateListSave:function(t){for(var i=this.episodesStateList,n=0,r=i.length;n<r;n++){var d=i[n];if(d.id==t.id){d.currentTime=t.currentTime||d.currentTime,d.duration=t.duration||d.duration,d.isFinished=t.isFinished||d.isFinished,this.episodesStateList_set(this.episodesStateList);return}}this.episodesStateList.unshift({id:t.id||0,currentTime:t.currentTime||0,duration:t.duration||0,isFinished:t.isFinished||!1}),this.episodesStateList.length>5&&(this.episodesStateList.length=5),this.episodesStateList_set(this.episodesStateList)},episodesStateListTo:function(t){this.episodesStateShow(t),this.episodesStateListSave(t)},playOneStatus_change:function(){this.playOneStatus_clear(),this.status_change_withClass(".play_one"),this.status_change_withClass(".songList ol li"),this.positionToWithId()},playOneStatus_clear:function(){$(".play_one").removeClass("current loadingOrPlaying"),$(".songList li").removeClass("current loadingOrPlaying")},deleteSong:function(t){var i=$(".songList li").index(t);if(this.songList.splice(i,1),this.songList_put(),this.createSongListUI(),this.playItemIndex===i){t.attr("data-id")===this.currentMsg.id&&(this.isPaused?(this.update_UIMsg(),this.playOneStatus_change()):(this.playItemIndex===i&&this.playItemIndex_set(this.limitIndex(--this.playItemIndex)),this.songList.length?this.playNext():(this.stopSongAndNet(),this.update_UIMsg())));return}this.playItemIndex>i&&this.playItemIndex_set(this.limitIndex(--this.playItemIndex)),this.playOneStatus_change()},checkFetchStatus:function(t){if(t.status>=200&&t.status<300)return t;var i=new Error(t.statusText);throw i.response=t,i}};l.addHandler(k,"loadedmetadata",function(){S.resetCdnIndex(),S.optimalCDN=S.currentCDN}),l.addHandler(k,"playing",function(){S.status_playing(),lhx.logUtils.logPlayStart(),e.videoUtils&&e.videoUtils.pauseVideo()}),l.addHandler(k,"waiting",function(){S.status_loading()}),l.addHandler(k,"ended",function(){lhx.audioUtils.currentColType==="podcast"&&lhx.audioUtils.updateEpisodesState({id:lhx.audioUtils.currentId,isFinished:!0}),S.isEnded=!0,S.nextSongInMode()}),l.addHandler(k,"timeupdate",function(){I.askIsMore30()}),l.addHandler(k,"pause",function(){S.isInPlaying&&S.pause()}),l.addHandler(k,"durationchange",function(){if(S.currentId===S.canPlayingId){var t=k.duration;isFinite(t)&&!isNaN(t)&&t>10&&(S.duration=k.duration)}}),l.addHandler(k,"error",function(){if(lhx.supportKidnap)return lhx.audioUtils.openMulticenterWithKid();I.playTime_reset(),S.pause(),lhx.dialog.toast.show(config.error.network)}),$(document).on({click:function(){var t=$(this);$(this).hasClass("status_loading")||t.hasClass("status_playing")?(S.abortNet(),S.isPaused=!0,S.pause()):S.tryPlay(!1,!0)}},".audioUtils_btn_play"),$(document).on({click:function(){var t=$(this);if(t.parents(".episodesMenu").length&&t.hasClass("loadingOrPlaying")){S.abortNet(),S.isPaused=!0,S.pause();return}lhx.audioUtils.playOne(t)}},".play_one"),$(document).on({click:function(){S.playAll($(this))}},".play_all"),$(document).on({click:function(){S.playItemIndex_set($(".songList li").index($(this))),S.playWithIndex()}},".songList li"),$(document).on({click:function(){S.nextSongInMode_nextBtn()}},".audio_nextBtn"),$(document).on({click:function(){S.prevSongInMode_prevBtn()}},".audio_prevBtn"),$(document).on({mousedown:function(t){t.stopPropagation(),t.preventDefault(),S.mouseDown(t.clientX)}},".audioRail"),$(document).on({mousedown:function(t){t.stopPropagation(),t.preventDefault(),S.dragstart()}},".audioRail_dot"),$(document).on({mousemove:function(t){S.dragging(t.clientX)},mouseup:function(t){S.dragend(t.clientX)}}),$(document).on({mouseover:function(t){S.dragend()}},"iframe"),$(document).on({click:function(){S.playMode_set(++S.playMode%4),S.playModeUI_change()}},".audioOperation_playMode"),$(document).on({click:function(){$(".songList").toggleClass("show"),S.positionToWithId(),$(".songList").hasClass("show")&&lhx.logUtils.newLog("ACT","VISIT","DET_PLAYER_PLAYLIST_VISIT")}},".audioOperation_songList"),$(document).on({click:function(){$(".songList").removeClass("show")}},".songList .close,.songList ol a"),$(document).on({click:function(t){var i=$(t.target);if(!i.closest(".audioOperation_songList").length){if(!i.closest(".episodesSortSelect_wrap").length){$(".episodesSortSelect_wrap").removeClass("show");return}i.closest(".songList").length||$(".songList").removeClass("show")}}}),$(document).on({click:function(t){t.stopPropagation(),S.deleteSong($(this).parents("li"))}},".songList .deleteSong"),l.addHandler(e,"storage",function(t){t.key===v.isPlaying&&parseInt(S.isPlaying_get())!==v.storageTime&&(S.pause(),e.videoUtils&&e.videoUtils.pauseVideo())}),$(document).on({click:function(){S.footer_min()}},".audio_retract"),lhx.searchSongsMenu={showAll:function(){$(".searchSongsMenuParent li").removeClass("hidden"),this.hasResults()},hasResults:function(){$(".noResultsForSearchSongsMenu").addClass("hidden"),$(".hasResultsForSearchSongsMenu").removeClass("hidden")},noResults:function(t){$(".noResultsForSearchSongsMenu").removeClass("hidden").find("strong").text(t),$(".hasResultsForSearchSongsMenu").addClass("hidden")},input:function(t){var i=$(".searchSongsMenuParent");if(t=(t+"").trim(),!t){this.showAll();return}i.find("li").addClass("hidden");for(var n=i.find("li .songName"),r=!1,d=0,g=n.length;d<g;d++){var _=n.eq(d),T=_.text(),U=new RegExp("[\\s\\S]*"+t+"[\\s\\S]*","ig");U.test(T)&&(_.parents("li").removeClass("hidden"),r=!0)}lhx.tabWrap.scrollToTop();var D=$(".searchSongsMenu_moreBtn");if(D.length){if(!D.hasClass("end")){$(".hasResultsForSearchSongsMenu").addClass("hidden"),D.click();return}D.fadeOut(0)}r?this.hasResults():this.noResults(t)}},$(document).on({input:function(){var t=$(this),i=t.val(),n=t.parents(".searchSongsMenuWrap"),r=n.find(".searchSongsMenu_close");i.length>0?r.removeClass("hidden"):r.addClass("hidden"),lhx.searchSongsMenu.input(i)}},".searchSongsMenu"),$(document).on({click:function(){var t=$(this),i=t.parents(".searchSongsMenuWrap").find(".searchSongsMenu");i.val(""),t.addClass("hidden"),lhx.searchSongsMenu.input("")}},".searchSongsMenu_close"),$(document).on({click:function(t){if(t.stopPropagation(),t.preventDefault(),$(this).attr("data-type")==="VIDEO"){lhx.dialog.download.show(config.msg.downloadVideo);return}lhx.dialog.download.show(config.msg.download)}},".download_event"),$(document).on({click:function(t){t.stopPropagation(),lhx.comment.positionToComment()}},".comment_event"),lhx.episodesDetailDesc={init:function(){var t=$(".episodesDetailDesc .episodesDesc");if(!!t.length){var i=$(".episodesDetailDesc_more"),n=t[0].scrollHeight;n>config.constant.maxLine*18?i.removeClass("hidden"):i.addClass("hidden")}},more:function(t,i){var n=$("main"),r=n.scrollTop();t.removeClass("hidden"),i.removeClass("isMore").text(i.attr("data-collapse")),n.animate({scrollTop:r+"px"},0)},collapse:function(t,i){t.addClass("hidden"),i.addClass("isMore").text(i.attr("data-more"))}},$(e).on({resize:function(){lhx.episodesDetailDesc.init()}}),$(document).on({click:function(){var t=$(".episodesDetailDesc .episodesDesc"),i=$(this);i.hasClass("isMore")?lhx.episodesDetailDesc.more(t,i):lhx.episodesDetailDesc.collapse(t,i)}},".episodesDetailDesc_more"),lhx.userBindApp={getData:function(){var t=this,i={};$.ajax({type:"POST",url:"/json/userBindApp",dataType:"json",data:JSON.stringify(i),contentType:"application/json;charset=utf-8",success:function(n){if(n.code===0){var r=n.data;return r.length<1?t.noData():t.createList(r)}t.noData()},error:function(){lhx.dialog.toast.show(config.error.network,!0,!0)}})},remove:function(t){var i=this,n={appManageId:t.attr("data-id")};lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:"/json/deleteAppUserRel",dataType:"json",data:JSON.stringify(n),contentType:"application/json;charset=utf-8",success:function(r){lhx.dialog.loading.close(),r.code===0?(t.parents("ul").find("li").length<2?i.noData():t.parents("li").remove(),lhx.dialog.toast.show(config.msg.revokedAccess)):lhx.dialog.toast.show(r.desc||config.error.network,!0,!0)},error:function(){lhx.dialog.loading.close(),lhx.dialog.toast.show(config.error.network,!0,!0)}})},noData:function(){$(".thirdPartyApps").remove()},createList:function(t){for(var i="<h2><strong>Third-party apps</strong></h2><ul>",n=0,r=t.length;n<r;n++){var d=t[n];i+="<li>   <strong>"+d.appName+'</strong>   <button class="btn" data-id="'+d.appManageId+'">Remove Access</button></li>'}i+="</ul>",$(".thirdPartyApps").html(i)}},$(document).on({click:function(){lhx.userBindApp.remove($(this))}},".thirdPartyApps .btn"),lhx.serviceWorker={init:function(){!lhx.supportServiceWorker||navigator.serviceWorker.register("/sw.min.js?v=4.0").then(function(t){})}},lhx.hearMore={check:function(){if(!lhx.login.isLogin()){this.timestamp_hearMore||(this.timestamp_hearMore=v.timestamp_hearMore_get());var t=v.getToday();this.timestamp_hearMore!==t&&(this.open(),this.timestamp_hearMore=v.timestamp_hearMore_put())}},init:function(){var t=this,i=lhx.getCookie("songLibraryNumStr");i=parseInt(i)||90,$("body").append('<div class="popHearMore_mask"></div><article class="popHearMore">    <button class="close"></button>    <h1>Want to hear more?</h1>    <div class="content">Sign up for free and listen to over '+i+'   million tracks, playlists and podcast.</div>    <button class="btn signUp_event">SIGN UP FREE</button>    <button class="btn second logIn_event">LOG IN</button></article>'),$(document).on({click:function(){var n=$(this);t.close(),n.hasClass("signUp_event")?lhx.logUtils.newLog("ACT","CLICK","POPUPMORESIGEUP_CLICK"):n.hasClass("logIn_event")?lhx.logUtils.newLog("ACT","CLICK","POPUPMORELOHIN_CLICK"):n.hasClass("close")&&lhx.logUtils.newLog("ACT","CLICK","POPUPMORECLOSE_CLICK")}},".popHearMore .close, .popHearMore .signUp_event, .popHearMore .logIn_event")},open:function(){$(".popHearMore_mask, .popHearMore").addClass("show"),lhx.logUtils.newLog("ACT","IMPRESS","POPUPMORE_IMPRESS")},close:function(){$(".popHearMore_mask, .popHearMore").removeClass("show")}},lhx.comingSoon={check:function(){this.timestamp_comingSoon||(this.timestamp_comingSoon=v.timestamp_comingSoon_get());var t=v.getToday();this.timestamp_comingSoon!==t&&(this.open(),this.timestamp_comingSoon=v.timestamp_comingSoon_put())},init:function(){var t=this;$("body").append('<div class="popComingSoon_mask"></div><img class="popComingSoon" src="/pc/img/comingSoon/recap_img.jpg?v=20221223" alt="" />'),$(document).on({click:function(){t.close()}},".popComingSoon")},open:function(){$(".popComingSoon_mask, .popComingSoon").addClass("show")},close:function(){$(".popComingSoon_mask, .popComingSoon").removeClass("show")}},lhx.artistFaq={isInitEvent:!1,init:function(){var t=$(".artistFaq");if(t.length){var i=t.find("section"),n=i.length;if(!n){$(".artistFaq").fadeOut(0);return}for(var r=1;r<n;r++){var d=i.eq(r);d.addClass("hidden"),d.find("p").slideUp(0)}}this.isInitEvent||(this.isInitEvent=!0,$(document).on({click:function(){var g=$(this),_=g.parents("section");_.hasClass("hidden")?(_.removeClass("hidden"),_.find("p").slideDown(300)):(_.addClass("hidden"),_.find("p").slideUp(300))}},".artistFaq section h3"))}}})(window);var banner={curIndex:0,liLen:0,$li:null,$banner_pointer:null,$banner_left:null,$banner_right:null,init:function(){this.$banner_left=$(".banner_left"),this.$banner_right=$(".banner_right"),this.$li=$(".banner li"),this.liLen=this.$li.length,this.createPointer(),this.change(this.curIndex),this.run()},createPointer:function(){for(var e="",a=0,o=this.liLen;a<o;a++)a===this.curIndex?e+="<span class='current'></span>":e+="<span></span>";this.$banner_pointer=$(".banner_pointer").html(e)},run:function(){var e=this;this.stop(),this.interId=setInterval(function(){e.change(++e.curIndex)},config.constant.bannerIntervalTime)},stop:function(){this.interId&&clearInterval(this.interId)},showControl:function(){!this.$banner_left||(this.stop(),this.$banner_left.addClass("current"),this.$banner_right.addClass("current"))},hiddenControl:function(){!this.$banner_left||(this.run(),this.$banner_left.removeClass("current"),this.$banner_right.removeClass("current"))},limit:function(e){return e%this.liLen},change:function(e){var a=this.$li,o=this.curIndex=this.limit(e)||0;this.clearAll(a),a.eq(o).addClass("current"),this.liLen>3?(a.eq(this.limit(o+1)).addClass("second"),a.eq(this.limit(o+2)).addClass("third")):a.eq(this.limit(o+1)).addClass("third"),this.$banner_pointer.find("span").eq(o).addClass("current")},clearAll:function(){var e=this.$li;e.removeClass("current"),e.removeClass("second"),e.removeClass("third"),this.$banner_pointer.find("span").removeClass("current")}};$(document).on({click:function(){banner.change(++banner.curIndex)}},".banner_right");$(document).on({click:function(){banner.change(--banner.curIndex)}},".banner_left");$(document).on({mouseenter:function(){banner.showControl()},mouseleave:function(){banner.hiddenControl()}},".banner");var column=lhx.column={width:0,totalWidth:0,left:config.constant.columnMaxLeft,$column_slide:null,$column_left:null,$column_right:null,$ul:null,initAll:function(){for(var e=this,a=$(".column_right"),o=0,s=a.length;o<s;o++)(function(l){column.init(a.eq(l)),column.change(800),e.isLess()})(o)},init:function(e){this.$column_slide=e.parents(".column_slide"),this.$ul=this.$column_slide.find("ul");var a=this.$ul.find("li");this.width=this.$column_slide.width(),this.totalWidth=a.length*a.outerWidth(),this.$column_left=this.$column_slide.find(".column_left"),this.$column_right=this.$column_slide.find(".column_right"),this.revise(e)},change:function(e){var a=parseFloat(this.$ul.css("left")),o=a+e;this.isLess()||(this.showArrow(),o>=this.reviseLeft?(o=this.reviseLeft,this.$column_left.removeClass("current")):o<=this.width-this.totalWidth-this.reviseRight&&(o=this.width-this.totalWidth-this.reviseRight,this.$column_right.removeClass("current")),this.$ul.css({left:o+"px"}))},isLess:function(){if(this.totalWidth<=this.width-10)return this.removeArrow(),this.$ul.css({left:(this.$ul.attr("data-columnMaxLeft")||config.constant.columnMaxLeft)+"px"}),!0},showArrow:function(){this.$column_left.addClass("current"),this.$column_right.addClass("current")},removeArrow:function(){this.$column_left.removeClass("current"),this.$column_right.removeClass("current")},revise:function(e){var a=e.attr("data-revise");if(this.reviseLeft=this.$ul.attr("data-columnMaxLeft")||config.constant.columnMaxLeft,this.reviseRight=0,a==="revise_premiumSupport"){var o=$(".revise_premiumSupport"),s=parseInt(o.css("marginLeft"));this.reviseLeft=s,this.reviseRight=s-o.attr("data-space")||12}}};$(document).on({click:function(){var e=$(this);column.init(e),column.change(-column.width)}},".column_right");$(document).on({click:function(){var e=$(this);column.init(e),column.change(column.width)}},".column_left");$(window).on({resize:function(){column.initAll()}});$(document).on({click:function(){var e=$(this);e.parents("li").find("span").removeClass("current"),e.addClass("current");for(var a={},o=$(".artistsCriteria li"),s=0,l=o.length;s<l;s++){var h=o.eq(s);a[h.attr("data-field")]=h.find("span.current").attr("data-value")}var y=e.parents(".artistsCriteria");lhx.pajax.getData_fromPart(y.attr("data-src").lmx_addURLParamBatch(a),y.attr("data-partTo"))}},".artistsCriteria span");$(document).on({click:function(){var e=$(this);e.parents(".playlistCriteria").find("a").removeClass("current"),e.addClass("current"),e.attr("data-type")==="VIDEO"&&(lhx.logUtils.newLog("ACT","CLICK","MUSIC_VIDEO_CLICK",{category:e.attr("data-value")}),window.videoUtils&&window.videoUtils.logPlayStop())}},".playlistCriteria a");var sideBarNav={clear:function(){return $(".nav a").removeClass("current"),this},addCurrent:function(e){return this.clear(),e.addClass("current"),this},pajax_initNav:function(e){this.addCurrent($(".nav ."+e))},initNav:function(){this.addCurrent($(".nav ."+$(".pageContent").attr("data-nav")))}};sideBarNav.initNav();lhx.scrollChange=function(){$("main.scrollView").on({scroll:function(){var e=$(".header.opacity");if(!!e.length){var a=$(this).scrollTop();if(a<30){e.removeClass("scrollBlack"),$(".headTab").addClass("opacity");return}e.addClass("scrollBlack"),$(".headTab").removeClass("opacity")}}})};lhx.mainGotoTop={init:function(){$("main.scrollView").on({scroll:function(){var e=$(".mainGotoTop");if(!!e.length){var a=$(this).scrollTop();if(a<100){e.removeClass("show");return}e.addClass("show")}}}),$(document).on({click:function(){$("main.scrollView").animate({scrollTop:0},300)}},".mainGotoTop")}};$(document).on({click:function(){sideBarNav.addCurrent($(this))}},".nav a");$(document).on({click:function(){if(history.state&&history.state.first){var e=config.fromGoogle?"/?from=google":"/";history.pushState({href:e},"",e),lhx.pajax.getData("/")}else history.back()}},".back_btn");$(document).on({click:function(){history.forward()}},".forward_btn");var pageNav={curPage:0,total:0,initAll:function(){for(var e=$(".pageNav"),a=0,o=e.length;a<o;a++){var s=e.eq(a);this.curPage=parseInt(s.attr("data-curPage")),this.init(s),this.create(),this.change(this.curPage)}},init:function(e){this.$pageNav=e,this.$pageNav_content=e.find(".pageNav_content"),this.$pageNav_total=this.$pageNav.find(".pageNav_total strong"),this.total=parseInt(this.$pageNav_total.text()),this.$pageNav_pre=e.find(".pageNav_pre"),this.$pageNav_next=e.find(".pageNav_next")},create:function(){this.total<8?this.createLess():this.createMore()},change:function(e){this.curPage=e,this.$pageNav.attr("data-curPage",e),this.$pageNav_pre.addClass("noneClick"),this.$pageNav_next.addClass("noneClick"),this.curPage>1&&this.$pageNav_pre.removeClass("noneClick"),this.curPage<this.total&&this.$pageNav_next.removeClass("noneClick"),this.total<8?this.$pageNav_content.find("a").removeClass("current").eq(this.curPage-1).addClass("current"):this.createMore()},createLess:function(){for(var e="",a=this.$pageNav.attr("data-href"),o=1,s=this.total;o<=s;o++){var l="";this.curPage===o&&(l='class="current"'),e+="<a "+l+' href="'+this.getLastHref(a,o)+'">'+o+"</a>"}this.$pageNav_content.html(e)},setCurrentClass:function(e){return this.curPage!==e?"":' class="current"'},getCenterHtml:function(e,a,o){for(var s="",l=e;l<=a;l++)s+="<a "+this.setCurrentClass(l)+' href="'+this.getLastHref(o,l)+'">'+l+"</a>";return s},getLastHref:function(e,a){return e?e.lmx_addURLParamBatch({page:a}):"javascript:;"},createMore:function(){var e="",a=this.$pageNav.attr("data-href");this.curPage<5?(e+=this.getCenterHtml(1,5,a),e+='<span class="ellipsis">...</span><a href="'+this.getLastHref(a,this.total)+'">'+this.total+"</a>"):this.curPage>=5&&this.curPage<=this.total-5?(e+='<a href="'+this.getLastHref(a,1)+'">1</a><span class="ellipsis">...</span>',e+=this.getCenterHtml(this.curPage-2,this.curPage+2,a),e+='<span class="ellipsis">...</span><a href="'+a+'">'+this.total+"</a>"):(e+='<a href="'+this.getLastHref(a,1)+'">1</a><span class="ellipsis">...</span>',e+=this.getCenterHtml(this.total-5,this.total,a)),this.$pageNav_content.html(e)}};$(document).on({click:function(){pageNav.init($(this).parents(".pageNav")),pageNav.change(parseInt($(this).text()))}},".pageNav_content a");$(document).on({click:function(){var e=$(this).parents(".pageNav");pageNav.init(e),pageNav.change(parseInt(e.attr("data-curPage"))-1),pageNav.$pageNav_content.find("a.current").click()}},".pageNav_pre:not(.noneClick)");$(document).on({click:function(){var e=$(this).parents(".pageNav");pageNav.init(e),pageNav.change(parseInt(e.attr("data-curPage"))+1),pageNav.$pageNav_content.find("a.current").click()}},".pageNav_next:not(.noneClick)");typeof document.msHidden!="undefined"&&($bg=$(".gaussianWrap"),src=$bg.find(".gaussian").attr("data-image"),svg='<svg xmlns="http://www.w3.org/2000/svg"         xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%">        <filter id="blur">            <feGaussianBlur in="SourceGraphic" stdDeviation="30" />        </filter>        <image filter="url(#blur)" x="0" y="0" width="100%" height="100%" xlink:href="'+src+'" alt=""               preserveAspectRatio="none"/>    </svg><i></i>',$bg.html(svg));var $bg,src,svg,headerOpacity={opacity:function(e){var a=$(".header"),o=$(".main");a.addClass("opacity"),o.addClass("headerIsOpacity"),e&&$(".headTab").length?(a.addClass("hasHeadTab"),o.addClass("hasHeadTab")):(a.removeClass("hasHeadTab"),o.removeClass("hasHeadTab"))},nonOpacity:function(e){var a=$(".header"),o=$(".main");a.removeClass("opacity"),o.removeClass("headerIsOpacity"),e&&$(".headTab").length?(a.addClass("hasHeadTab"),o.addClass("hasHeadTab")):(a.removeClass("hasHeadTab"),o.removeClass("hasHeadTab"))}};window.pageJS={init:function(e){switch(column.initAll(),pageNav.initAll(),lhx.audioUtils.playOneStatus_change(),lhx.lazyImg.init(),$("#recaptchaID").length&&recaptchaOnload(),more.init(),e){case"home":banner.init(),headerOpacity.nonOpacity(),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_VISIT"),lhx.checkUserInfo.openLogin();return;case"trendingSongs":headerOpacity.nonOpacity();return;case"charts":headerOpacity.nonOpacity(),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_ICON_CHARTS_VISIT");return;case"playlists":headerOpacity.nonOpacity(),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_ICON_PLAYLISTS_VISIT");return;case"artists":headerOpacity.nonOpacity(),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_ICON_ARTISTS_VISIT");return;case"genres":headerOpacity.nonOpacity(),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_ICON_GENRES_VISIT");return;case"genresDetails":headerOpacity.opacity();var s=$(".genresTitle").text();s&&(s=s.toUpperCase().replace(/\s/ig,""));var a=lhx.pajax.getLastUrl(location.pathname),o;a&&(o={categoryID:a}),lhx.logUtils.newLog("GENRE","VISIT","MH_MUSIC_ICON_GENRES_GENRE_"+s+"_VISIT",o);return;case"genresDetailsMore":var s=$(".categoryName").val();s&&(s=s.toUpperCase().replace(/\s/ig,""));var l=$(".categoryName_title").text();l&&(l=l.toUpperCase()),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_ICON_GENRES_GENRE_"+s+"_CAT_"+l+"_MORE_VISIT");return;case"playlistsDetails":headerOpacity.opacity(),lhx.favouritesPage.initLoveStatus(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.readMore.init(),lhx.logUtils.newLog("ITEM","VISIT","PLAYLISTDETAIL_VISIT",{itemID:lhx.getIdBySeparator("/playlists/"),itemType:"COL"});return;case"albumsDetails":headerOpacity.opacity(),lhx.favouritesPage.initLoveStatus(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.readMore.init(),lhx.logUtils.newLog("ITEM","VISIT","ALBUMDETAIL_VISIT",{itemID:lhx.getIdBySeparator("/albums/"),itemType:"COL"});return;case"artistsDetails":headerOpacity.opacity(),lhx.favouritesPage.initLoveStatus(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.readMore.init(),lhx.tabWrap.changeFormUrl(),lhx.tabWrap.addScroll(),lhx.artistFaq.init(),lhx.logUtils.newLog("ITEM","VISIT","ARTISTDETAIL_VISIT",{itemID:lhx.getIdBySeparator("/artists/"),itemType:"COL"});return;case"usersDetails":headerOpacity.opacity(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.tabWrap.addScroll();return;case"artistsDetailsMore":headerOpacity.nonOpacity();return;case"searchDetails":headerOpacity.opacity(),lhx.search.init(),lhx.audioUtils.episodesStateList_find(),lhx.logUtils.newLog("ACT","VISIT","SEARCH_VISIT");return;case"searchDetailsMore":lhx.audioUtils.episodesStateList_find();return;case"noLogIn":headerOpacity.opacity();return;case"myPlaylists":headerOpacity.nonOpacity(),lhx.myPlaylists.update(),lhx.myPlaylists.addToPlaylist.isCreate=!1,lhx.logUtils.newLog("ACT","VISIT","LIB_ICON_PLAYLISTS_VISIT");return;case"favourites":headerOpacity.nonOpacity(),lhx.favouritesPage.update(),this.logVisit_favourites();return;case"songsDetails":headerOpacity.opacity(),lhx.favouritesPage.initLoveStatus(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.logUtils.newLog("ITEM","VISIT","SONGDETAIL_VISIT",{itemID:lhx.getIdBySeparator("/songs/"),itemType:"MUSIC"});return;case"songsDetails_lyric":headerOpacity.opacity(),lhx.favouritesPage.initLoveStatus(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.logUtils.newLog("ITEM","VISIT","SONGDETAIL_LYRICS_VISIT",{itemID:lhx.getIdBySeparator("/lyrics/"),itemType:"MUSIC"});return;case"podcasts":headerOpacity.nonOpacity(),lhx.logUtils.newLog("ACT","VISIT","POD_TAB_RECOMMENDED_VISIT");return;case"podcastsDetails":headerOpacity.opacity(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.readMore.init(),lhx.logUtils.newLog("ITEM","VISIT","SHOWDETAIL_VISIT",{itemID:lhx.getIdBySeparator("/podcasts/"),itemType:"SHOW"}),lhx.audioUtils.episodesStateList_find();return;case"episodeDetails":lhx.episodesDetailDesc.init(),headerOpacity.opacity(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.logUtils.newLog("ITEM","VISIT","EPISODEDETAIL_VISIT",{itemID:lhx.getIdBySeparator("/episode/"),itemType:"EPISODE"});return;case"buzzRecommended":headerOpacity.nonOpacity(),lhx.comment.initTime(),lhx.logUtils.newLog("ACT","VISIT","BZ_TAB_RECOMMENDED_VISIT");return;case"buzzClass":headerOpacity.nonOpacity(),lhx.comment.initTime();return;case"buzzDetails":headerOpacity.opacity(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.comment.positionTo(),lhx.buzz.initBuzzContent();return;case"profileEdit":headerOpacity.nonOpacity(),lhx.profileEdit.birthday.init(),lhx.checkUserInfo.openLogin();return;case"homeMore":headerOpacity.nonOpacity(!0),this.logVisit_more();return;case"embedInstrution":headerOpacity.nonOpacity();return;case"profile":headerOpacity.nonOpacity(),lhx.userBindApp.getData(),lhx.checkUserInfo.openLogin(),lhx.checkUserInfo.initTime(),lhx.logUtils.newLog("ACT","VISIT","WEB_USERCENTER_PAGE_VISIT");return;case"premium":headerOpacity.opacity(!0),lhx.logUtils.newLog("ACT","VISIT","WEB_PLANS_PAGE_VISIT");return;case"benefits":headerOpacity.opacity(!0),lhx.logUtils.newLog("ACT","VISIT","WEB_BENEFITS_PAGE_VISIT"),lhx.aside.addScroll();return;case"video":headerOpacity.nonOpacity(),lhx.favouritesPage.initLoveStatus(),lhx.loadBpVideoJS(function(){window.videoUtils&&window.videoUtils.listVideoForPC.init()}),lhx.logUtils.newLog("ACT","VISIT","MH_MUSIC_ICON_VIDEOS_VISIT");return;case"videoDetails":lhx.favouritesPage.initLoveStatus(),lhx.comment.initTime(),lhx.comment.initCommentContent(),lhx.readMore.init(),lhx.loadBpVideoJS(function(){window.videoUtils&&window.videoUtils.mainVideo.init()}),lhx.logUtils.newLog("ITEM","VISIT","MUSIC_VIDEO_DETAIL_VISIT",{itemID:lhx.getIdBySeparator("/video/"),itemType:"VIDEO"});return;case"storiesHome":headerOpacity.opacity();return;case"storiesCategory":headerOpacity.opacity();return;case"storiesAuthorDetails":console.log("aaaaaaa"),headerOpacity.opacity();return;case"storiesArticleDetails":headerOpacity.opacity(),lhx.buzz.initBuzzContent();return;default:headerOpacity.nonOpacity();return}},logVisit_more:function(){var e=location.href.lmx_parseToObjWithURL(),a=$("#colGrpID").val(),o=e.name;o&&(o=o.toUpperCase().replace(/\s|\+/ig,""));var s;a&&(s={colGrpID:a});var l=lhx.pajax.getLastUrl(location.pathname);l==="home"?lhx.logUtils.newLog("GROUP","VISIT","MH_MUSIC_CAT_"+o+"_MORE_VISIT",s):l==="charts"&&lhx.logUtils.newLog("GROUP","VISIT","MH_MUSIC_ICON_CHARTS_CAT_"+o+"_MORE_VISIT",s)},logVisit_favourites:function(){var e=location.href.lmx_parseToObjWithURL(),a=e.type;a==="albums"?lhx.logUtils.newLog("ACT","VISIT","LIB_ICON_FAVOURITES_TAB_ALBUMS_VISIT"):a==="artists"?lhx.logUtils.newLog("ACT","VISIT","LIB_ICON_FAVOURITES_TAB_ARTISTS_VISIT"):a==="playlists"?lhx.logUtils.newLog("ACT","VISIT","LIB_ICON_FAVOURITES_TAB_PLAYLISTS_VISIT"):lhx.logUtils.newLog("ACT","VISIT","LIB_ICON_FAVOURITES_TAB_SONGS_VISIT")},destroy:function(e){switch(lhx.lazyImg.destroy(),lhx.share.isOpen&&lhx.share.close(),e){case"home":banner.stop();return;case"artistsDetails":lhx.tabWrap.destroy();return;case"usersDetails":lhx.tabWrap.destroy();return;case"benefits":lhx.aside.destroy();return;case"video":window.videoUtils&&window.videoUtils.listVideoForPC.destroy();return;case"videoDetails":window.videoUtils&&window.videoUtils.mainVideo.destroy();return;default:return}}};$(document).on({click:function(){var e=$(this),a,o=e.attr("data-colGrpID");o&&(a={colGrpID:o});var s=e.attr("data-categoryID");s&&(a={categoryID:s}),lhx.logUtils.newLog(e.attr("data-evtCat"),"CLICK",e.attr("data-evtID").toUpperCase().replace(/\s/ig,""),a)}},".log_clickEvent");$(document).on({click:function(){var e=$(this);lhx.logUtils.newLog(e.attr("data-evtCat")||"ACT","CLICK",e.attr("data-evtID"))}},".log_clickEvent_subscribe");var more={init:function(){this.initIsInit||(this.initIsInit=!0,$(".main").scroll(this.mainScroll))},mainScroll:function(){var e=$(".main"),a=$(".scrollMoreEvent");if(!!a.length){var o=a.attr("data-name");if(o){var s=a.parents(".tab_pane.show");if(!s.length)return;var l=s.find(".scrollMoreEvent");l.offset().top<$(window).height()*2&&l.click();return}a.offset().top<$(window).height()*2&&a.click()}},loading:function(e){if(e.hasClass("loading")||e.hasClass("end"))return!0;e.html("").addClass("loading");var a=e.attr("data-isJSON");return a?this[a](e):this.getData(e),!1},loaded:function(e){e.removeClass("loading").html(e.attr("data-value"))},end:function(e){e.removeClass("loading").addClass("end").html(e.attr("data-end"))},setContentAndPositionTo:function(e,a,o){var s=$(".main"),l=s.scrollTop();o&&$(".comment.hidden").removeClass("hidden"),$(e).append(a),s.animate({scrollTop:l+"px"},0)},getData:function(e){var a=this,o={},s=e.attr("data-key"),l=e.attr("data-partTo");if(s){s=s.split("|||");for(var h=e.attr("data-keyVal").split("|||"),y=0,I=s.length;y<I;y++)o[s[y]]=h[y]}lhx.pajax.currentAjax=$.ajax({type:"GET",url:e.attr("data-formSrc"),data:o,success:function(A){var v=$(document.createElement("div"));v.html(A);var k=v.find(l),S="";e.attr("data-search")==="T"&&(S=$.trim($(".searchSongsMenu").val()),S!==""&&k.find("li").addClass("hidden"));var t=k.html();lhx.login.isLoginUI()&&(v.find(".userInfo .logout_info").length?lhx.login.loginOut():v.find(".userInfo .autoLogin_info").length&&lhx.login.autoLoginCan());var i="li",n=e.attr("data-realPageSizeEle");n&&(i=n),$.trim(t)===""||k.find(i).length<parseInt(e.attr("data-pageSize"))||k.attr("data-noMore")==="T"?more.end(e):more.loaded(e),a.setContentAndPositionTo(l,t),e.attr("data-needParseTime")&&lhx.comment.initTime(),e.attr("data-needInitLoveStatus")&&lhx.favouritesPage.initLoveStatus(),e.attr("data-need_episodesStateList_find")&&lhx.audioUtils.episodesStateList_find(),"page"in o?e.attr("data-keyVal",parseInt(o.page)+1):e.attr("data-keyVal",parseInt(o[e.attr("data-pageCountName")])+1),S&&lhx.searchSongsMenu.input(S),lhx.lazyImg.scroll()},error:function(A){A.statusText!=="abort"&&(more.loaded(e),lhx.dialog.toast.show(config.error.network,!0,!0))}})},getComments:function(e){var a=this,o={},s=e.attr("data-key"),l=e.attr("data-partTo");if(s){s=s.split("|||");for(var h=e.attr("data-keyVal").split("|||"),y=0,I=s.length;y<I;y++)o[s[y]]=h[y]}$.ajax({type:"POST",url:e.attr("data-formSrc"),dataType:"json",data:JSON.stringify(o),contentType:"application/json;charset=utf-8",success:function(A){if(A.code==="success"){var v=null,k=e.hasClass("isHot");k?v=A.resultData.hotComments||[]:v=A.resultData.comments||[];var S=lhx.comment.more(v);a.setContentAndPositionTo(l,S,k),h[0]=parseInt(h[0])+1,e.attr("data-keyVal",h.join("|||")),v.length<parseInt(e.attr("data-pageSize"))?more.end(e):more.loaded(e),lhx.comment.initCollapse()}else A.code==="2030"&&lhx.dialog.recaptcha.show(function(){e.click(),lhx.dialog.recaptcha.close()}),more.loaded(e),lhx.dialog.toast.show(A.desc,!0,!0)},error:function(){more.loaded(e),lhx.dialog.toast.show(config.error.network,!0,!0)}})}};$(document).on({click:function(){var e=$(this);more.loading(e)}},".moreBtn");(function(){var countryModel=lhx.contryModel={hotCountryJson:[{cn:"Nigeria",pcc:"234",cc:"NG"},{cn:"Kenya",pcc:"254",cc:"KE"},{cn:"Tanzania",pcc:"255",cc:"TZ"},{cn:"Ghana",pcc:"233",cc:"GH"},{cn:"Zambia",pcc:"260",cc:"ZM"},{cn:"Uganda",pcc:"256",cc:"UG"},{cn:"Rwanda",pcc:"250",cc:"RW"},{cn:"Senegal",pcc:"221",cc:"SN"},{cn:"Cameroon",pcc:"237",cc:"CM"},{cn:"Cote d'Ivoire",pcc:"225",cc:"CI"}],countryJSON:[{cn:"Afghanistan",pcc:"93",cc:"AF"},{cn:"Albania",pcc:"355",cc:"AL"},{cn:"Algeria",pcc:"213",cc:"DZ"},{cn:"Andorra",pcc:"376",cc:"AD"},{cn:"Angola",pcc:"244",cc:"AO"},{cn:"Anguilla",pcc:"1264",cc:"AI"},{cn:"Antigua and Barbuda",pcc:"1268",cc:"AG"},{cn:"Argentina",pcc:"54",cc:"AR"},{cn:"Armenia",pcc:"374",cc:"AM"},{cn:"Australia",pcc:"61",cc:"AU"},{cn:"Austria",pcc:"43",cc:"AT"},{cn:"Azerbaijan",pcc:"994",cc:"AZ"},{cn:"Bahamas",pcc:"1242",cc:"BS"},{cn:"Bahrain",pcc:"973",cc:"BH"},{cn:"Bangladesh",pcc:"880",cc:"BD"},{cn:"Barbados",pcc:"1246",cc:"BB"},{cn:"Belarus",pcc:"375",cc:"BY"},{cn:"Belgium",pcc:"32",cc:"BE"},{cn:"Belize",pcc:"501",cc:"BZ"},{cn:"Benin",pcc:"229",cc:"BJ"},{cn:"Bermuda Is.",pcc:"1441",cc:"BM"},{cn:"Bhutan",pcc:"975",cc:"BT"},{cn:"Bolivia",pcc:"591",cc:"BO"},{cn:"Bosnia and Herzegovina",pcc:"387",cc:"BA"},{cn:"Botswana",pcc:"267",cc:"BW"},{cn:"Brazil",pcc:"55",cc:"BR"},{cn:"Brunei",pcc:"673",cc:"BN"},{cn:"Bulgaria",pcc:"359",cc:"BG"},{cn:"Burkina-faso",pcc:"226",cc:"BF"},{cn:"Burundi",pcc:"257",cc:"BI"},{cn:"Cabo Verde",pcc:"238",cc:"CV"},{cn:"Cambodia",pcc:"855",cc:"KH"},{cn:"Cameroon",pcc:"237",cc:"CM"},{cn:"Canada",pcc:"1",cc:"CA"},{cn:"Central African Republic",pcc:"236",cc:"CF"},{cn:"Chad",pcc:"235",cc:"TD"},{cn:"Chile",pcc:"56",cc:"CL"},{cn:"China",pcc:"86",cc:"CN"},{cn:"Colombia",pcc:"57",cc:"CO"},{cn:"Commonwealth of Dominica",pcc:"1767",cc:"DM"},{cn:"Congo Brazzaville",pcc:"242",cc:"CG"},{cn:"Cook Is.",pcc:"682",cc:"CK"},{cn:"Comoros",pcc:"269",cc:"KM"},{cn:"Costa Rica",pcc:"506",cc:"CR"},{cn:"Cote d'Ivoire",pcc:"225",cc:"CI"},{cn:"Croatia",pcc:"385",cc:"HR"},{cn:"Cuba",pcc:"53",cc:"CU"},{cn:"Cyprus",pcc:"357",cc:"CY"},{cn:"Czech Republic",pcc:"420",cc:"CZ"},{cn:"Denmark",pcc:"45",cc:"DK"},{cn:"Djibouti",pcc:"253",cc:"DJ"},{cn:"Dominica Republic",pcc:"1809",cc:"DO"},{cn:"DR Congo",pcc:"243",cc:"CD"},{cn:"EI Salvador",pcc:"503",cc:"SV"},{cn:"Ecuador",pcc:"593",cc:"EC"},{cn:"Egypt",pcc:"20",cc:"EG"},{cn:"Estonia",pcc:"372",cc:"EE"},{cn:"Ethiopia",pcc:"251",cc:"ET"},{cn:"Eritrea",pcc:"291",cc:"ER"},{cn:"Fiji",pcc:"679",cc:"FJ"},{cn:"Finland",pcc:"358",cc:"FI"},{cn:"France",pcc:"33",cc:"FR"},{cn:"French Guiana",pcc:"594",cc:"GF"},{cn:"French Polynesia",pcc:"689",cc:"PF"},{cn:"Gabon",pcc:"241",cc:"GA"},{cn:"Gambia",pcc:"220",cc:"GM"},{cn:"Georgia",pcc:"995",cc:"GE"},{cn:"Germany",pcc:"49",cc:"DE"},{cn:"Ghana",pcc:"233",cc:"GH"},{cn:"Gibraltar",pcc:"350",cc:"GI"},{cn:"Greece",pcc:"30",cc:"GR"},{cn:"Grenada",pcc:"1473",cc:"GD"},{cn:"Guam",pcc:"1671",cc:"GU"},{cn:"Guadeloupe",pcc:"590",cc:"GP"},{cn:"Guatemala",pcc:"502",cc:"GT"},{cn:"Guinea",pcc:"224",cc:"GN"},{cn:"Guyana",pcc:"592",cc:"GY"},{cn:"Guinea bissau",pcc:"245",cc:"GW"},{cn:"Haiti",pcc:"509",cc:"HT"},{cn:"Honduras",pcc:"504",cc:"HN"},{cn:"Hong Kong (SAR China)",pcc:"852",cc:"HK"},{cn:"Hungary",pcc:"36",cc:"HU"},{cn:"Iceland",pcc:"354",cc:"IS"},{cn:"India",pcc:"91",cc:"IN"},{cn:"Indonesia",pcc:"62",cc:"ID"},{cn:"Iran",pcc:"98",cc:"IR"},{cn:"Iraq",pcc:"964",cc:"IQ"},{cn:"Ireland",pcc:"353",cc:"IE"},{cn:"Israel",pcc:"972",cc:"IL"},{cn:"Italy",pcc:"39",cc:"IT"},{cn:"Jamaica",pcc:"1876",cc:"JM"},{cn:"Japan",pcc:"81",cc:"JP"},{cn:"Jordan",pcc:"962",cc:"JO"},{cn:"Kazakstan",pcc:"7",cc:"KZ"},{cn:"Kenya",pcc:"254",cc:"KE"},{cn:"Kiribati",pcc:"686",cc:"KI"},{cn:"Korea",pcc:"82",cc:"KR"},{cn:"Kuwait",pcc:"965",cc:"KW"},{cn:"Kyrgyzstan",pcc:"996",cc:"KG"},{cn:"Laos",pcc:"856",cc:"LA"},{cn:"Latvia",pcc:"371",cc:"LV"},{cn:"Lebanon",pcc:"961",cc:"LB"},{cn:"Lesotho",pcc:"266",cc:"LS"},{cn:"Liberia",pcc:"231",cc:"LR"},{cn:"Libya",pcc:"218",cc:"LY"},{cn:"Liechtenstein",pcc:"423",cc:"LI"},{cn:"Lithuania",pcc:"370",cc:"LT"},{cn:"Luxembourg",pcc:"352",cc:"LU"},{cn:"Madagascar",pcc:"261",cc:"MG"},{cn:"Macau (SAR China)",pcc:"853",cc:"MO"},{cn:"Malawi",pcc:"265",cc:"MW"},{cn:"Malaysia",pcc:"60",cc:"MY"},{cn:"Maldives",pcc:"960",cc:"MV"},{cn:"Mali",pcc:"223",cc:"ML"},{cn:"Malta",pcc:"356",cc:"MT"},{cn:"Mauritania",pcc:"222",cc:"MR"},{cn:"Mauritius",pcc:"230",cc:"MU"},{cn:"Mexico",pcc:"52",cc:"MX"},{cn:"Moldova",pcc:"373",cc:"MD"},{cn:"Monaco",pcc:"377",cc:"MC"},{cn:"Mongolia",pcc:"976",cc:"MN"},{cn:"Montserrat Is",pcc:"1664",cc:"MS"},{cn:"Morocco",pcc:"212",cc:"MA"},{cn:"Mozambique",pcc:"258",cc:"MZ"},{cn:"Myanmar",pcc:"95",cc:"MM"},{cn:"Namibia",pcc:"264",cc:"NA"},{cn:"Nauru",pcc:"674",cc:"NR"},{cn:"Nepal",pcc:"977",cc:"NP"},{cn:"Netherlands",pcc:"31",cc:"NL"},{cn:"New Zealand",pcc:"64",cc:"NZ"},{cn:"Nicaragua",pcc:"505",cc:"NI"},{cn:"Niger",pcc:"227",cc:"NE"},{cn:"Nigeria",pcc:"234",cc:"NG"},{cn:"North Korea",pcc:"850",cc:"KP"},{cn:"Norway",pcc:"47",cc:"NO"},{cn:"Oman",pcc:"968",cc:"OM"},{cn:"Pakistan",pcc:"92",cc:"PK"},{cn:"Palestine",pcc:"970",cc:"PS"},{cn:"Panama",pcc:"507",cc:"PA"},{cn:"Papua New Guinea",pcc:"675",cc:"PG"},{cn:"Paraguay",pcc:"595",cc:"PY"},{cn:"Peru",pcc:"51",cc:"PE"},{cn:"Philippines",pcc:"63",cc:"PH"},{cn:"Poland",pcc:"48",cc:"PL"},{cn:"Portugal",pcc:"351",cc:"PT"},{cn:"Puerto Rico",pcc:"1787",cc:"PR"},{cn:"Qatar",pcc:"974",cc:"QA"},{cn:"Romania",pcc:"40",cc:"RO"},{cn:"Russia",pcc:"7",cc:"RU"},{cn:"Rwanda",pcc:"250",cc:"RW"},{cn:"Saint Vincent",pcc:"1784",cc:"VC"},{cn:"Samoa",pcc:"685",cc:"WS"},{cn:"San Marino",pcc:"378",cc:"SM"},{cn:"Sao Tome and Principe",pcc:"239",cc:"ST"},{cn:"Saudi Arabia",pcc:"966",cc:"SA"},{cn:"Senegal",pcc:"221",cc:"SN"},{cn:"Seychelles",pcc:"248",cc:"SC"},{cn:"Sierra Leone",pcc:"232",cc:"SL"},{cn:"Singapore",pcc:"65",cc:"SG"},{cn:"Slovakia",pcc:"421",cc:"SK"},{cn:"Slovenia",pcc:"386",cc:"SI"},{cn:"Solomon Is",pcc:"677",cc:"SB"},{cn:"Somali",pcc:"252",cc:"SO"},{cn:"South Africa",pcc:"27",cc:"ZA"},{cn:"South Sudan",pcc:"211",cc:"SS"},{cn:"Spain",pcc:"34",cc:"ES"},{cn:"Sri Lanka",pcc:"94",cc:"LK"},{cn:"St.Lucia",pcc:"1758",cc:"LC"},{cn:"Sudan",pcc:"249",cc:"SD"},{cn:"Suriname",pcc:"597",cc:"SR"},{cn:"Swaziland",pcc:"268",cc:"SZ"},{cn:"Sweden",pcc:"46",cc:"SE"},{cn:"Switzerland",pcc:"41",cc:"CH"},{cn:"Syria",pcc:"963",cc:"SY"},{cn:"Taiwan (China)",pcc:"886",cc:"TW"},{cn:"Tajikistan",pcc:"992",cc:"TJ"},{cn:"Tanzania",pcc:"255",cc:"TZ"},{cn:"Thailand",pcc:"66",cc:"TH"},{cn:"Togo",pcc:"228",cc:"TG"},{cn:"Tonga",pcc:"676",cc:"TO"},{cn:"Trinidad and Tobago",pcc:"1868",cc:"TT"},{cn:"Tunisia",pcc:"216",cc:"TN"},{cn:"Turkey",pcc:"90",cc:"TR"},{cn:"Turkmenistan",pcc:"993",cc:"TM"},{cn:"Tuvalu",pcc:"688",cc:"TV"},{cn:"Uganda",pcc:"256",cc:"UG"},{cn:"Ukraine",pcc:"380",cc:"UA"},{cn:"United Arab Emirates",pcc:"971",cc:"AE"},{cn:"United Kingdom",pcc:"44",cc:"GB"},{cn:"United States",pcc:"1",cc:"US"},{cn:"Uruguay",pcc:"598",cc:"UY"},{cn:"Uzbekistan",pcc:"998",cc:"UZ"},{cn:"Vanuatu",pcc:"678",cc:"VU"},{cn:"Venezuela",pcc:"58",cc:"VE"},{cn:"Vietnam",pcc:"84",cc:"VN"},{cn:"Yemen",pcc:"967",cc:"YE"},{cn:"Yugoslavia",pcc:"381",cc:"YU"},{cn:"Zambia",pcc:"260",cc:"ZM"},{cn:"Zimbabwe",pcc:"263",cc:"ZW"}],countryModelSelected:{pcc:"234",cc:"NG"},countryModelSelected_set:function(e){this.countryModelSelected=e,this.countryModelSelected_put()},countryModelSelected_put:function(){lhx.storageUtils.setObject(lhx.storageUtils.countryModelSelected,this.countryModelSelected)},countryModelSelected_init:function(){var e=lhx.storageUtils.getObject(lhx.storageUtils.countryModelSelected);return e?this.countryModelSelected=e:this.countryModelSelected={pcc:"234",cc:"NG"},this.initSelected(),this.countryModelSelected},findItemWithPcc:function(){for(var e=this.countryJSON,a=0,o;o=e[a++];){var s=o.pcc;if(s===this.countryModelSelected)return o}return{pcc:"234",cc:"NG"}},initSelected:function(){var e=$(".countryModel"),a=this.countryModelSelected,o=e.find(".countryModel_open");if(e.attr("data-type")!=="1"&&e.attr("data-hasPlus")==="T"){var s="+"+a.pcc;e.attr("data-join")==="T"&&(s=a.cc+" "+s,o.html(s).removeClass("placeholder"),e.find(".countryModel_val").val(a.pcc))}},isOpen:!1,init:function(e){var a=e.parents(".countryModel");if(a.hasClass("current")){this.close(a);return}if(this.isOpen=!0,a.addClass("current"),a.attr("data-isInit")!=="T"){if(a.attr("data-isInit","T"),a.attr("data-type")==="1"){this.createPopIsName(a);return}this.createPop(a)}},close:function($countryModel){this.isOpen=!1,$countryModel.removeClass("current");var callback=$countryModel.attr("data-callback");try{eval(callback)($countryModel)}catch(e){}},createHot:function(){for(var e='<li class="head" data-value="Hot">Hot</li>',a=this.hotCountryJson,o=0,s;s=a[o++];){var l=s.pcc,h=s.cc,y=s.cn;e+='<li data-cc="'+h+'"  data-value="'+l+'"><strong>'+y+"</strong><span>+"+l+"</span></li>"}return e},createHotIsName:function(){for(var e='<li class="head" data-value="Hot">Hot</li>',a=this.hotCountryJson,o=0,s;s=a[o++];){var l=s.cc,h=s.cn;e+='<li data-value="'+l+'"><strong>'+h+"</strong></li>"}return e},createPop:function(e){var a=e.find(".countryPop_content"),o=this.createHot(),s="<li>Hot</li>",l=this.countryJSON,h="Hot",y=e.attr("data-filter");if(y)var I=e.attr("data-filter").split(",");e:for(var A=0,v;v=l[A++];){var k=v.pcc,S=v.cc,t=v.cn;if(y){for(var i=0,n=I.length;i<n;i++)if(t===I[i])continue e}h!==t.charAt(0)&&(h=t.charAt(0),o+='<li class="head" data-value="'+h+'">'+h+"</li>",s+="<li>"+h+"</li>"),o+='<li data-cc="'+S+'" data-value="'+k+'"><strong>'+t+"</strong><span>+"+k+"</span></li>"}a.html(o),e.find(".countryPop_nav").html(s)},createPopIsName:function(e){for(var a=e.find(".countryPop_content"),o=this.createHotIsName(),s="<li>Hot</li>",l=this.countryJSON,h="Hot",y=0,I;I=l[y++];){var A=I.cc,v=I.cn;h!==v.charAt(0)&&(h=v.charAt(0),o+='<li class="head" data-value="'+h+'">'+h+"</li>",s+="<li>"+h+"</li>"),o+='<li data-value="'+A+'"><strong>'+v+"</strong></li>"}a.html(o),e.find(".countryPop_nav").html(s)},navTo:function(e){for(var a=e.text(),o=e.parents(".countryModel"),s=o.find(".countryPop"),l=o.find(".countryPop_content li.head"),h=0,y=l.length;h<y;h++){var I=l.eq(h);if(a===I.attr("data-value")){s.animate({scrollTop:s.scrollTop()+I.position().top+"px"},300);break}}},select:function(e){var a=e.parents(".countryModel"),o=a.find(".countryModel_open"),s=a.find(".countryModel_val"),l="",h=e.attr("data-value");if(a.attr("data-type")==="1")l=e.find("strong").text(),o.text(l).removeClass("placeholder"),a.attr("data-fullName")==="T"&&(h=l);else if(a.attr("data-hasPlus")==="T"){if(l="+"+h,a.attr("data-join")==="T"){var y=e.attr("data-cc");l=y+" "+l,this.countryModelSelected_set({pcc:h,cc:y})}o.html(l).removeClass("placeholder")}else o.html(h).removeClass("placeholder");s.val(h),this.close(a)}};$(document).on({click:function(){var e=$(this);countryModel.init(e)}},".countryModel_open"),$(document).on({click:function(){countryModel.navTo($(this))}},".countryPop_nav li"),$(document).on({click:function(){countryModel.select($(this))}},".countryPop_content li:not(.head)")})();lhx.eyes={initAll:function(){$(".eyes").addClass("eyesClosed"),$(".password").attr("type","password")},toggle:function(e){var a=e.siblings(".password");e.hasClass("eyesClosed")?(e.removeClass("eyesClosed"),a.attr("type","text")):(e.addClass("eyesClosed"),a.attr("type","password"))}};$(document).on({click:function(){lhx.eyes.toggle($(this))}},".eyes");lhx.analog={radio:{init:function(){var e=$("input[type=radio]"),a=$("input[type=radio]:checked");e.parents(".radio").removeClass("checked"),a.parents(".radio").addClass("checked")},change:function(e){var a=e.attr("data-name"),o=$("input[name="+a+"]"),s=$("input[name="+a+"]:checked");o.parents(".radio").removeClass("checked"),s.parents(".radio").addClass("checked")}},checkbox:{init:function(){var e=$("input[type=checkbox]"),a=$("input[type=checkbox]:checked");e.parents(".checkbox").removeClass("checked"),a.parents(".checkbox").addClass("checked")},change:function(e){var a=e.find("input[type=checkbox]");a.prop("checked")?a.parents(".checkbox").addClass("checked"):a.parents(".checkbox").removeClass("checked")}}};$(document).on({click:function(){var e=$(this);lhx.analog.radio.change(e)}},".radio");$(document).on({click:function(){var e=$(this);lhx.analog.checkbox.change(e)}},".checkbox");$(document).on({input:function(e){var a=$(e.target);if(a.attr("data-is-password")==="T"){a.val(a.val().replace(/[^0-9a-zA-Z\-\/:;()$&@".,?!\[\]{}#%^*+=_\\~|<>·€¥£']/g,""));return}var o=a.attr("data-pattern");if(o){var s=a.attr("data-flags")||"";a.val(a.val().replace(new RegExp(o,s),""))}}});lhx.pop_switch={change:function(e){$(".pop_logInSignUp .pop_switch").fadeIn(0),$(".pop_logInSignUp .findPassword_title").fadeOut(0);var a=$(".pop_logInSignUp .pop_switch button").index(e);e.addClass("current").siblings("button").removeClass("current"),$(".pop_logInSignUp form").eq(a).addClass("current").siblings("form").removeClass("current"),lhx.login.google_initIcon($(".pop_logInSignUp .google")[a])}};$(document).on({click:function(){lhx.pop_switch.change($(this))}},".pop_logInSignUp .pop_switch button");lhx.login={getBcoins:function(e){e=e||lhx.getCookie("afid");var a="";e&&(a="?boomid="+encodeURIComponent(lhx.AESUtils.encrypt(JSON.stringify({channel:"WebPlayer",boomid:e})))),window.open(config.BCoins+a,"_getBcoins")},isLogin:function(){return lhx.getCookie("sessionID")},isVip:function(){return lhx.getCookie("isVip")==="T"&&this.isLogin()},isLiteVip:function(){return lhx.getCookie("isVip")==="PL"&&this.isLogin()},isLoginUI:function(){return!!$(".userInfo .login_info").length},isAutoLogin:function(){return lhx.getCookie("tmpPw")},loginOut:function(e){$(".sidebar .userInfo").html('<div class="logout_info clearfix">    <button class="img default_user_icon logIn_event"></button>    <div class="text">        <strong>            <button class="logIn_event">Log in /</button>            <button class="signUp_event">&nbsp;Sign up</button>        </strong>    </div></div>'),lhx.favouritesPage.clearFavorite(),lhx.myPlaylists.clearMyPlaylists(),e||lhx.dialog.toast.show(config.msg.loginLose)},autoLoginCan:function(){var e=lhx.getCookie("avatar"),a=lhx.getCookie("iconMagicUrl"),o=lhx.getCookie("vipType"),s=lhx.getCookie("sex"),l="";e&&(l='style="background-image: url('+config.staticAddr+lhx.getWebP(a,e,320)+');"');var h=decodeURIComponent((lhx.getCookie("userName")||"").replace(/\+/ig,"%20"));h||(h=decodeURIComponent((lhx.getCookie("name")||"").replace(/\+/ig,"%20")));var y='<div class="autoLogin_info clearfix">    <div class="img default_user_icon '+(s==="F"?"female_icon":"")+'" >       <div class="imgReal" '+l+'>           <cite class="default_authentic_icon '+(o==="P"?"icon_personal":o==="O"?"icon_organization":"")+'       "></cite>       </div>    </div>    <div class="text">        <strong class="icon_vip '+(lhx.getCookie("isVip")==="T"?"isVip":"")+'        ">'+h+'</strong>    </div>    <div class="autoLoginWrap">        <button class="autoLogin_event" data-src="'+config.basePath+'/autoLogin">Auto Login</button>        <button class="login_bg logIn_event">Switch Account</button>    </div></div>';$(".sidebar .userInfo").html(y),lhx.favouritesPage.clearFavorite(),lhx.myPlaylists.clearMyPlaylists()},open:function(){lhx.pop_switch.change($(".pop_logInSignUp .pop_switch button").eq(0)),$(".pop_logInSignUp_mask,.pop_logInSignUp").addClass("show")},close:function(){$(".pop_logInSignUp_mask,.pop_logInSignUp").removeClass("show")},phoneLogin:function(e){var a=e.find("[name=phoneEmailType]:checked").val(),o={};if(a==="phone"){var s=e.find("[name=phoneCountryCode]").val(),l=$.trim(e.find("[name=phone]").val());if(l.length<6||l.length>20)return l.length===0?(lhx.dialog.toast.show(config.error.phoneEmpty),!1):(lhx.dialog.toast.show(config.error.phoneCorrect),!1);o.phoneCountryCode=s,o.phone=l}else{var h=$.trim(e.find("[name=email]").val());if(h.length<6||h.length>100||!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(h))return h.length===0?(lhx.dialog.toast.show(config.error.emailEmpty),!1):(lhx.dialog.toast.show(config.error.emailCorrect),!1);o.email=h}var y=e.find("[name=pw]").val();if(y.length<6||y.length>16)return y.length===0?(lhx.dialog.toast.show(config.error.pwEmpty),!1):(lhx.dialog.toast.show(config.error.pwCorrect),!1);o.pw=y,lhx.dialog.loading.show("Submitting...");var I={param:lhx.AESUtils.encrypt(JSON.stringify(o))};$.ajax({type:"POST",url:e.attr("action"),dataType:"json",data:JSON.stringify(I),contentType:"application/json;charset=utf-8",success:function(A){if(A.code==="success"){try{lhx.favouritesPage.parse(A.favorite)}catch(v){console.log("CalmLuo: favourites\u540C\u6B65\u5931\u8D25")}try{lhx.myPlaylists.parse(A.myPlaylists)}catch(v){console.log("CalmLuo: myPlaylists\u540C\u6B65\u5931\u8D25")}lhx.login.bcoinsToLogin&&lhx.login.getBcoins(),setTimeout(function(){location.reload()},200)}else A.code=="1001"?lhx.dialog.confirm.show(window.config.msg.banTips,null,null,null,"Got it",null,!0):lhx.dialog.toast.show(A.desc||""),lhx.dialog.loading.close()},error:function(A){lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},autoLogin:function(e){var a={};lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:e.attr("data-src")||config.basePath+"/autoLogin",dataType:"json",data:JSON.stringify(a),contentType:"application/json;charset=utf-8",success:function(o){if(o.code==="success"){try{lhx.favouritesPage.parse(o.favorite)}catch(s){console.log("CalmLuo: favourites\u540C\u6B65\u5931\u8D25")}try{lhx.myPlaylists.parse(o.myPlaylists)}catch(s){console.log("CalmLuo: myPlaylists\u540C\u6B65\u5931\u8D25")}}else o.code=="1001"?lhx.dialog.confirm.show(window.config.msg.banTips,null,null,null,"Got it",null,!0):lhx.dialog.toast.show(o.desc||"");setTimeout(function(){location.reload()},200)},error:function(o){console.log(o),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},otherLogin:function(e,a){var o={accountType:e,identityToken:a},s={param:lhx.AESUtils.encrypt(JSON.stringify(o))};lhx.dialog.loading.show(),$.ajax({url:config.basePath+"/snsAuthV1",type:"post",data:JSON.stringify(s),dataType:"json",contentType:"application/json;charset=utf-8",success:function(l){if(l.code==="success"){lhx.favouritesPage.parse(l.favorite),lhx.myPlaylists.parse(l.myPlaylists);try{lhx.login.bcoinsToLogin&&lhx.login.getBcoins()}catch(h){}location.reload()}else l.code=="1001"?lhx.dialog.confirm.show(window.config.msg.banTips,null,null,null,"Got it",null,!0):lhx.dialog.toast.show(l.desc||""),lhx.dialog.loading.close()},error:function(){lhx.dialog.loading.close(),lhx.dialog.toast.show(config.error.network)}})},twitterOauth:{authorize:function(){var e="/twitter_login",a=window.open(e,"bpToTwitter",lhx.openCenter(960,600));a.focus&&a.focus()},twitter_callback:function(e){if(console.log(e),e.oauth_token){lhx.login.otherLogin("byTW",JSON.stringify({accessToken:e.oauth_token,accessTokenSecret:e.oauth_token_secret}));return}lhx.dialog.toast.show(e.desc||"Failed!")}},google_init:function(){google.accounts.id.initialize({client_id:config.other.googleId,callback:function(e,a){console.log(e,a,22),lhx.login.otherLogin("byGO",e.credential)}}),this.google_initIcon_needBtn&&this.google_initIcon(this.google_initIcon_needBtn)},google_initIcon:function(e){if(!(!e||$.trim(e.innerHTML))){if(console.log("init g"),!window.google){this.google_initIcon_needBtn=e;return}console.log("init g ed"),this.google_initIcon_needBtn=null,google.accounts.id.renderButton(e,{type:"icon",shape:"circle",theme:"outline",text:"signin",size:"large"})}}};$(document).on({click:function(){lhx.login.bcoinsToLogin=!1,lhx.login.open()}},".logIn_event");$(document).on({click:function(){FB.login(function(e){if(!e.authResponse){lhx.dialog.toast.show("Failed!");return}lhx.login.otherLogin("byFK",e.authResponse.accessToken)})}},".pop_logInSignUp .facebook");$(document).on({click:function(){lhx.login.twitterOauth.authorize()}},".pop_logInSignUp .twitter");$(document).on({click:function(){lhx.logUtils.newLog("ACT","CLICK","LIVEBCOINS_CLICK"),lhx.login.getBcoins()}},".getBcoins");$(document).on({click:function(){lhx.login.close()}},".pop_logInSignUp .close");$(document).on({submit:function(){return lhx.login.phoneLogin($(this)),!1}},".logInForm");$(document).on({click:function(){var e=$(this),a=e.val()==="phone"?"email":"phone";e.parents("form").removeClass("type-"+a).addClass("type-"+e.val())}},"input[name=phoneEmailType]");$(document).on({click:function(){var e=$(this);lhx.login.autoLogin(e)}},".autoLogin_event");$(document).on({click:function(){var e=$(this);lhx.dialog.loading.show("Log out..."),$.ajax({type:"POST",url:e.attr("data-href"),dataType:"json",data:"",contentType:"application/json;charset=utf-8",success:function(a){if(a.code==="success")try{lhx.favouritesPage.clearFavorite(),lhx.myPlaylists.clearMyPlaylists(),setTimeout(function(){location.reload()},200)}catch(o){location.reload()}else lhx.dialog.toast.show(a.desc||""),lhx.dialog.loading.close()},error:function(a){console.log(a),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})}},".logout_event");lhx.signUp={open:function(){lhx.pop_switch.change($(".pop_logInSignUp .pop_switch button").eq(1)),$(".pop_logInSignUp_mask,.pop_logInSignUp").addClass("show")},close:function(){$(".pop_logInSignUp_mask,.pop_logInSignUp").removeClass("show")},continueAnimal:function(){var e=Math.floor((new Date().getTime()-lhx.storageUtils.timestamp_signUp_get())/1e3);e<60&&this.verifyCode.startRun(60-e)},verifyCode:{timeId:null,num:61,$getCode:null,startRun:function(e){clearTimeout(this.timeId),this.num=e||61,(this.num>61||this.num<2)&&(this.num=2),this.$getCode=$(".getCode"),this.$getCode.addClass("disabled"),this.animal()},animal:function(){var e=this;if(--this.num<=0){this.$getCode.text("Get Code"),this.$getCode.removeClass("disabled");return}else this.$getCode.text(this.num+" s");this.timeId=setTimeout(function(){e.animal()},1e3)},sendSuccess:function(e){lhx.storageUtils.timestamp_signUp_put(),this.$getCode=e,this.startRun(60)}}};lhx.signUp.continueAnimal();$(document).on({click:function(){var e=$(this);if(!e.hasClass("disabled")){var a=$(".signUpForm"),o=a.find("[name=email]").val();if(o.length<6||o.length>100||!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(o))return o.length===0?(lhx.dialog.toast.show(config.error.emailEmpty),!1):(lhx.dialog.toast.show(config.error.emailCorrect),!1);var s={email:o};lhx.dialog.loading.show("Loading...");var l={param:lhx.AESUtils.encrypt(JSON.stringify(s))};$.ajax({type:"POST",url:e.attr("data-href"),dataType:"json",data:JSON.stringify(l),contentType:"application/json;charset=utf-8",success:function(h){h.code==="success"?(lhx.signUp.verifyCode.sendSuccess(e),lhx.dialog.toast.show(h.desc||"")):h.code==="2030"?lhx.dialog.recaptcha.show(function(){lhx.dialog.recaptcha.close()}):h.code=="1001"?lhx.dialog.confirm.show(window.config.msg.banTips,null,null,null,"Got it",null,!0):lhx.dialog.toast.show(h.desc||""),lhx.dialog.loading.close()},error:function(h){console.log(h),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})}}},".signUpForm .getCode");$(document).on({submit:function(){var e=$(this),a=$.trim(e.find("[name=email]").val());if(a.length<6||a.length>100||!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(a))return a.length===0?(lhx.dialog.toast.show(config.error.emailEmpty),!1):(lhx.dialog.toast.show(config.error.emailCorrect),!1);var o=e.find("[name=verifyCode]").val();if(o.length!==6)return o.length===0?(lhx.dialog.toast.show(config.error.codeEmpty),!1):(lhx.dialog.toast.show(config.error.codeCorrect),!1);var s=e.find("[name=username]").val();if(s.length===0)return lhx.dialog.toast.show(config.error.usernameEmpty),!1;if(s.length>50)return lhx.dialog.toast.show(config.error.usernameCorrect),!1;var l=e.find("[name=pw]").val();if(l.length<6||l.length>16)return l.length===0?(lhx.dialog.toast.show(config.error.pwEmpty),!1):(lhx.dialog.toast.show(config.error.pwCorrect),!1);var h=e.find("[name=rePw]").val();if(h.length===0)return lhx.dialog.toast.show(config.error.pwReEmpty),!1;if(h!==l)return lhx.dialog.toast.show(config.error.pwReCorrect),!1;var y=e.find("[name=sex]:checked").val(),I=e.find("[name=accept]:checked").val();if(I!=="T")return lhx.dialog.toast.show(config.error.acceptEmpty),!1;var A={email:a,verifyCode:o,name:s,pw:l,sex:y};lhx.dialog.loading.show("Loading...");var v={param:lhx.AESUtils.encrypt(JSON.stringify(A))};return $.ajax({type:"POST",url:e.attr("action"),dataType:"json",data:JSON.stringify(v),contentType:"application/json;charset=utf-8",success:function(k){k.code==="success"?(lhx.storageUtils.sessionIdValid_put(""),setTimeout(function(){location.reload()},200)):(lhx.dialog.toast.show(k.desc||""),lhx.dialog.loading.close())},error:function(k){console.log(k),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}}),!1}},".signUpForm");$(document).on({click:function(){lhx.signUp.open()}},".signUp_event");lhx.findPassword={open:function(){this.continueAnimal(),$(".pop_logInSignUp_mask,.pop_logInSignUp").addClass("show"),$(".pop_logInSignUp .pop_switch").fadeOut(0),$(".pop_logInSignUp .findPassword_title").fadeIn(0),$(".pop_logInSignUp form").removeClass("current"),$(".findPasswordForm").addClass("current")},back:function(){lhx.pop_switch.change($(".pop_logInSignUp .pop_switch button").eq(0))},close:function(){$(".pop_logInSignUp_mask,.pop_logInSignUp").removeClass("show")},continueAnimal:function(){var e=Math.floor((new Date().getTime()-lhx.storageUtils.timestamp_findPassword_get())/1e3);e<60&&this.verifyCode.startRun(60-e)},verifyCode:{timeId:null,num:61,$getCode:null,startRun:function(e){clearTimeout(this.timeId),this.num=e||61,(this.num>61||this.num<2)&&(this.num=2),this.$getCode=$(".findPasswordForm .getCode"),this.$getCode.addClass("disabled"),this.animal()},animal:function(){var e=this;if(--this.num<=0){this.$getCode.text("Get Code"),this.$getCode.removeClass("disabled");return}else this.$getCode.text(this.num+" s");this.timeId=setTimeout(function(){e.animal()},1e3)},sendSuccess:function(e){lhx.storageUtils.timestamp_findPassword_put(),this.$getCode=e,this.startRun(60)}},getCode:function(e){var a=e.parents("form"),o=a.find("[name=phoneEmailType]:checked").val(),s={};if(o==="phone"){var l=a.find("[name=phoneCountryCode]").val(),h=$.trim(a.find("[name=phone]").val());if(h.length<6||h.length>20)return h.length===0?(lhx.dialog.toast.show(config.error.phoneEmpty),!1):(lhx.dialog.toast.show(config.error.phoneCorrect),!1);s.phoneCountryCode=l,s.phone=h}else{var y=$.trim(a.find("[name=email]").val());if(y.length<6||y.length>100||!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(y))return y.length===0?(lhx.dialog.toast.show(config.error.emailEmpty),!1):(lhx.dialog.toast.show(config.error.emailCorrect),!1);s.email=y}lhx.dialog.loading.show("Loading...");var I={param:lhx.AESUtils.encrypt(JSON.stringify(s))};$.ajax({type:"POST",url:e.attr("data-href"),dataType:"json",data:JSON.stringify(I),contentType:"application/json;charset=utf-8",success:function(A){A.code==="success"?(lhx.findPassword.verifyCode.sendSuccess(e),lhx.dialog.toast.show(A.desc||"")):A.code==="2030"?lhx.dialog.recaptcha.show(function(){lhx.dialog.recaptcha.close()}):A.code=="1001"?lhx.dialog.confirm.show(window.config.msg.banTips,null,null,null,"Got it",null,!0):lhx.dialog.toast.show(A.desc||""),lhx.dialog.loading.close()},error:function(A){console.log(A),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})}};$(document).on({click:function(){var e=$(this);e.hasClass("disabled")||lhx.findPassword.getCode(e)}},".findPasswordForm .getCode");$(document).on({submit:function(){var e=$(this),a=e.find("[name=phoneEmailType]:checked").val(),o={};if(a==="phone"){var s=e.find("[name=phoneCountryCode]").val(),l=$.trim(e.find("[name=phone]").val());if(l.length<6||l.length>20)return l.length===0?(lhx.dialog.toast.show(config.error.phoneEmpty),!1):(lhx.dialog.toast.show(config.error.phoneCorrect),!1);o.phoneCountryCode=s,o.phone=l}else{var h=$.trim(e.find("[name=email]").val());if(h.length<6||h.length>100||!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(h))return h.length===0?(lhx.dialog.toast.show(config.error.emailEmpty),!1):(lhx.dialog.toast.show(config.error.emailCorrect),!1);o.email=h}var y=e.find("[name=verifyCode]").val();if(y.length!==6)return y.length===0?(lhx.dialog.toast.show(config.error.codeEmpty),!1):(lhx.dialog.toast.show(config.error.codeCorrect),!1);var I=e.find("[name=pw]").val();if(I.length<6||I.length>16)return I.length===0?(lhx.dialog.toast.show(config.error.pwEmpty),!1):(lhx.dialog.toast.show(config.error.pwCorrect),!1);var A=e.find("[name=rePw]").val();if(A.length===0)return lhx.dialog.toast.show(config.error.pwReEmpty),!1;if(A!==I)return lhx.dialog.toast.show(config.error.pwReCorrect),!1;o.verifyCode=y,o.newPw=I,lhx.dialog.loading.show("Loading...");var v={param:lhx.AESUtils.encrypt(JSON.stringify(o))};return $.ajax({type:"POST",url:e.attr("action"),dataType:"json",data:JSON.stringify(v),contentType:"application/json;charset=utf-8",success:function(k){k.code==="success"&&lhx.findPassword.back(),lhx.dialog.toast.show(k.desc||""),lhx.dialog.loading.close()},error:function(k){console.log(k),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}}),!1}},".findPasswordForm");$(document).on({click:function(){lhx.findPassword.open()}},".forgetPassword_event");$(document).on({click:function(){lhx.findPassword.back()}},".findPassword_title button");lhx.profileEdit={birthday:{isOpen:!1,$birthdayWrap:null,init:function(){var e=this.$birthdayWrap=$(".birthdayWrap");if(!!e.length){var a=new Date,o=e.attr("data-minYear")||1920,s=e.attr("data-maxYear")||a.getFullYear(),l={year:null,month:null,day:null},h=$.trim($(".birthday").val());if(h){var y=h.split("-");l.year=parseInt(y[0]),l.month=parseInt(y[1]),l.day=parseInt(y[2])}this.createYear(o,s,l.year),this.createMonth(l.month),this.createDay(l.year,l.month,l.day)}},createYear:function(e,a,o){for(var s="",l=this.$birthdayWrap.find(".birthday_year"),h=e;h<=a;h++){var y="";h===o&&(y="data-selected=selected",l.find(".selectModel-input").val(h)),s+="<li "+y+' data-value="'+h+'">'+h+"</li>"}l.find("ol").html(s)},createMonth:function(e){for(var a="",o=this.$birthdayWrap.find(".birthday_month"),s=1;s<=12;s++){var l="";s===e&&(l="data-selected=selected",o.find(".selectModel-input").val(s)),a+="<li "+l+' data-value="'+s+'">'+s+"</li>"}o.find("ol").html(a)},createDay:function(e,a,o){if(e&&a){var s=new Date(e,a,0),l=s.getDate();o=o&&Math.min(o,l)}for(var h=1,y=l||31,I="",A=this.$birthdayWrap.find(".birthday_date"),v=h;v<=y;v++){var k="";v===o&&(k="data-selected=selected",A.find(".selectModel-input").val(v)),I+="<li "+k+' data-value="'+v+'">'+v+"</li>"}A.find("ol").html(I)},change:function(){var e=parseInt(this.$birthdayWrap.find(".birthday_year input").val()),a=parseInt(this.$birthdayWrap.find(".birthday_month input").val()),o=parseInt(this.$birthdayWrap.find(".birthday_date input").val());this.createDay(e,a,o)}},submit:function(e){var a=e.find("[name=name]").val(),o=e.find("[name=sex]:checked").val(),s=e.find(".countryModel_val").val(),l=e.find("[name=sign]").val(),h=e.find(".birthday_year input").val(),y=e.find(".birthday_month input").val(),I=e.find(".birthday_date input").val(),A="";h&&y&&I&&(A=h+"-"+lhx.addZero(y)+"-"+lhx.addZero(I));var v={name:a,sex:o,birthday:A,country:s,sign:l};lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:e.attr("action"),dataType:"json",data:JSON.stringify(v),contentType:"application/json;charset=utf-8",success:function(k){lhx.dialog.loading.close(),k.code==="success"?(o==="F"?$(".userInfo .default_user_icon").addClass("female_icon"):$(".userInfo .default_user_icon").removeClass("female_icon"),history.back()):(lhx.dialog.toast.show(k.desc||""),(k.code==="2005"||k.code==="2000")&&lhx.login.autoLoginCan())},error:function(k){console.log(k),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})}};$(document).on({click:function(){var e=$(this).siblings("ol");if(e.hasClass("show"))lhx.profileEdit.birthday.isOpen=!1,$(".birthdayWrap .selectModel ol").removeClass("show");else{lhx.profileEdit.birthday.isOpen=!0,$(".birthdayWrap .selectModel ol").removeClass("show"),e.addClass("show");var a=e.find("li[data-selected=selected]").position();e.animate({scrollTop:e.scrollTop()+(a?a.top:0)-e.height()/2+"px"},0)}}},".birthdayWrap .selectModel-input");$(document).on({click:function(){var e=$(this),a=e.parents("ol");a.removeClass("show"),a.siblings(".selectModel-input").val(e.attr("data-value")),e.attr("data-selected","selected").siblings("li").removeAttr("data-selected"),lhx.profileEdit.birthday.change()}},".birthdayWrap ol li");$(document).on({click:function(){var e=$(event.target);lhx.profileEdit.birthday.isOpen&&!e.closest(".selectModel").length&&$(".selectModel ol").removeClass("show")}});$(document).on({submit:function(){return lhx.profileEdit.submit($(this)),!1}},".profileForm");$(document).on({click:function(){lhx.dialog.confirm.show(config.msg.saveProfile,function(){},function(){history.back()},"Cancel","Yes")}},".profileForm .cancel");$(document).on({change:function(){var e=$(".uploadAvatarForm"),a=e[0],o=new FormData(a);lhx.dialog.loading.show("Loading..."),$.ajax({url:e.attr("action"),type:"POST",data:o,contentType:!1,processData:!1,success:function(s){lhx.dialog.loading.close(),lhx.dialog.toast.show(s.desc||config.error.network),s.code==="success"?$(".changeAvatar").css({backgroundImage:"url('"+config.staticAddr+lhx.getWebP(s.resultData.iconMagicUrl,s.resultData.avatar,320)+"')"}):(s.code==="2005"||s.code==="2000"||s.code==="1")&&(location.href="/library")},error:function(){lhx.dialog.toast.show(config.error.network),lhx.dialog.loading.close()}})}},".uploadAvatar_file");lhx.myPlaylists={newPlaylist:{open:function(){$(".pop_addANewPlaylist_mask,.pop_addANewPlaylist").addClass("show")},close:function(){$(".pop_addANewPlaylist_mask,.pop_addANewPlaylist").removeClass("show")},ajax:function(e){var a=$(".pop_addANewPlaylist form"),o=a.find("[name=title]"),s=lhx.xss.escapeXml(o.val().trim());if(s.length===0)return lhx.dialog.toast.show(config.error.titleEmpty),!1;var l=a.find("[name=isPrivate]:checked").val(),h={name:s,isPrivate:l,musics:lhx.myPlaylists.musics};lhx.dialog.loading.show("loading..."),$.ajax({type:"POST",url:a.attr("action"),dataType:"json",data:JSON.stringify(h),contentType:"application/json;charset=utf-8",success:function(y){if(y.code==="success"){lhx.myPlaylists.newPlaylist.close(),o.val(""),lhx.dialog.toast.show(config.msg.newPlaylistsSucc,!0,!1);var I=location.href;if(I.indexOf("/myPlaylists")!==-1)lhx.pajax.pajaxTo(I);else if(I.indexOf("/addAPlaylist")!==-1){var A=config.basePath+(config.fromGoogle?"/myPlaylists?from=google":"/myPlaylists");history.replaceState({href:A},"",A),lhx.pajax.getData(I)}var v=y.info;lhx.myPlaylists.addOnePlaylist({colID:v.colID,localColID:v.localColID,name:h.name,iconMagicUrl:v.iconMagicUrl,smIconID:v.smIconID}),lhx.myPlaylists.addToPlaylist.close()}else(y.code==="2005"||y.code==="2000")&&(lhx.login.autoLoginCan(),lhx.myPlaylists.newPlaylist.close()),lhx.dialog.toast.show(y.desc||"");lhx.dialog.loading.close()},error:function(y){console.log(y),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})}},musics:[],addToPlaylist:{isCreate:!1,open:function(){$(".pop_addToPlaylist_mask,.pop_addToPlaylist").addClass("show"),!this.isCreate&&(this.isCreate=!0,lhx.myPlaylists.createPop())},close:function(){lhx.myPlaylists.musics=[],$(".pop_addToPlaylist_mask,.pop_addToPlaylist").removeClass("show")},ajax:function(e){var a=lhx.myPlaylists.getTwoId(e);a.musics=lhx.myPlaylists.musics,lhx.dialog.loading.show("loading..."),$.ajax({type:"POST",url:config.basePath+"/addToPlaylists",dataType:"json",data:JSON.stringify(a),contentType:"application/json;charset=utf-8",success:function(o){if(o.code==="success"){lhx.dialog.toast.show(config.msg.addToMyPlaylistsSucc),lhx.myPlaylists.addToPlaylist.close();var s=o.smIconID;s=lhx.getWebP(o.iconMagicUrl,s,80),e.find(".img").css({backgroundImage:"url('"+config.staticAddr+s+"')"}),lhx.myPlaylists.changeSmIconIDWithColID(a.colID,s)}else lhx.dialog.toast.show(o.desc||"");lhx.dialog.loading.close()},error:function(o){console.log(o),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})}},createPop:function(){for(var e='<li class="newPlaylist_event">    <div class="default icon_addANewPlaylist"></div>    <strong>Add New Playlist</strong></li>',a=this.myPlaylists,o=0,s=a.length;o<s;o++){var l=a[o];e+='<li data-colID="'+l.colID+'" data-localColID="'+l.localColID+'">    <div class="default default_playlist">        <div class="img" style="background-image: url('+config.staticAddr+lhx.getWebP(l.iconMagicUrl,l.smIconID,80)+')"></div>    </div>    <strong>'+lhx.xss.escapeXml(l.name)+"</strong></li>"}$(".pop_addToPlaylist ul").html(e)},myPlaylists:[],clearMyPlaylists:function(){this.set([])},parse:function(e){var a=[],o=e.cols;if(!o){console.log("\u672A\u8BBE\u7F6EmyPlaylists");return}for(var s=0,l=o.length;s<l;s++){var h=o[s];a.push({colID:h.colID,localColID:h.localColID,name:h.name,iconMagicUrl:h.iconMagicUrl,smIconID:h.smIconID})}this.myPlaylists=a,this.put()},changeSmIconIDWithColID:function(e,a){for(var o=this.myPlaylists,s=0,l=o.length;s<l;s++){var h=o[s];if(h.colID==e){h.smIconID=a,this.put();return}}},removeWithColID:function(e){for(var a=this.myPlaylists,o=0,s=a.length;o<s;o++){var l=a[o];if(l.colID==e){a.splice(o,1),this.put(),this.createPop();return}}},addOnePlaylist:function(e){this.myPlaylists.unshift(e),this.put(),lhx.myPlaylists.createPop()},getTwoId:function(e){return{localColID:e.attr("data-localColID"),colID:e.attr("data-colID")}},set:function(e){this.myPlaylists=e,this.put()},put:function(){lhx.storageUtils.setObject(lhx.storageUtils.myPlaylists,this.myPlaylists)},init:function(){var e=lhx.storageUtils.getObject(lhx.storageUtils.myPlaylists);return e?this.myPlaylists=e:this.myPlaylists=[],this.myPlaylists},update:function(){$.ajax({type:"POST",url:"/updateMyPlaylists",dataType:"json",data:JSON.stringify({}),contentType:"application/json;charset=utf-8",success:function(e){try{lhx.myPlaylists.parse(e)}catch(a){console.log("CalmLuo: myPlaylists\u540C\u6B65\u5931\u8D25")}},error:function(e){}})}};$(document).on({click:function(){lhx.myPlaylists.newPlaylist.open()}},".newPlaylist_event");$(document).on({click:function(){lhx.myPlaylists.newPlaylist.close()}},".pop_addANewPlaylist .close");$(document).on({click:function(){return lhx.myPlaylists.newPlaylist.ajax(),!1}},".pop_addANewPlaylist .submit");$(document).on({click:function(e){e.stopPropagation();var a=$(this);if(!lhx.login.isLogin()){lhx.login.open();return}if(a.hasClass("btn_addToPlaylist")){for(var o=[],s=$(".songsMenu .play_one"),l=0,h=Math.min(s.length,999);l<h;l++){var y=s.eq(l);o.push({musicID:parseInt(y.attr("data-id"))})}lhx.myPlaylists.musics=o}else lhx.myPlaylists.musics=[{musicID:parseInt(a.attr("data-id"))}];lhx.myPlaylists.addToPlaylist.open()}},".addPlaylist_event");$(document).on({click:function(){var e=$(this);lhx.myPlaylists.addToPlaylist.ajax(e)}},".pop_addToPlaylist ul li:not(.newPlaylist_event)");$(document).on({click:function(){lhx.myPlaylists.addToPlaylist.close()}},".pop_addToPlaylist .close");lhx.sliderNav={init:function(){},change:function(e){e.addClass("current").siblings("button").removeClass("current");var a=$(".sliderNav button").index(e);$(".sliderNav_content .sliderNav_item").eq(a).addClass("current").siblings(".sliderNav_item").removeClass("current");var o=e.attr("data-href"),s=config.fromGoogle?o.lmx_addURLParamBatch({from:"google"},/[?&]from=/.test(o)):o;history.replaceState({href:s},"",s),e.parents(".sliderNav").hasClass("favorites_sliderNav")&&pageJS.logVisit_favourites()}};$(document).on({click:function(){lhx.sliderNav.change($(this))}},".sliderNav button");$(document).on({click:function(e){e.stopPropagation(),e.preventDefault();var a=$(this);lhx.dialog.confirm.show(config.msg.deletePlaylists,function(){},function(){var o=lhx.myPlaylists.getTwoId(a);lhx.dialog.loading.show("loading..."),$.ajax({type:"POST",url:a.attr("data-href"),dataType:"json",data:JSON.stringify(o),contentType:"application/json;charset=utf-8",success:function(s){if(s.code==="success"){lhx.dialog.toast.show(config.msg.deletePlaylistsSucc),lhx.myPlaylists.removeWithColID(o.colID);var l=a.parents(".display").eq(0);if(a.parents("li").remove(),!l.find("li").length){var h='<div class="noData">   <div class="imgBg"></div>   <div class="text">You haven\'t created any playlists. Create your own playlists here.</div>   <button class="button newPlaylist_event">Add a Playlist</button></div>';l.html(h)}}else lhx.dialog.toast.show(s.desc||"");lhx.dialog.loading.close()},error:function(s){console.log(s),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},"No","Yes")}},".deletePlaylist");function getEmptyFavoriteData(){return{musics:[],albums:[],playlists:[],artists:[],videos:[],oldCount:{musics:0,albums:0,playlists:0,artists:0,videos:0}}}lhx.favouritesPage={favorite:getEmptyFavoriteData(),clearFavorite:function(){this.set(getEmptyFavoriteData())},parse:function(e,a){a||lhx.storageUtils.sessionIdValid_put(""),this.parseMusics(e),this.parseVideos(e),this.parseCols(e),this.put()},parseMusics:function(e){var a=[],o=e.musics;if(!o){console.log("\u672A\u8BBE\u7F6Efavorite");return}for(var s=0,l=o.length;s<l;s++){var h=o[s],y={id:h.musicID};a.push(y)}this.favorite.musics=a,this.favorite.oldCount.musics=this.favorite.musics.length},parseVideos:function(e){var a=[],o=e.videos;if(!o){console.log("\u672A\u8BBE\u7F6Efavorite");return}for(var s=0,l=o.length;s<l;s++){var h=o[s],y={id:h.videoID};a.push(y)}this.favorite.videos=a,this.favorite.oldCount.videos=this.favorite.videos.length},parseCols:function(e){var a=[],o=[],s=[],l=e.cols;if(!l){console.log("\u672A\u8BBE\u7F6Efavorite");return}for(var h=0,y=l.length;h<y;h++){var I=l[h],A={id:I.colID};I.colType===1?a.push(A):I.colType===2?s.push(A):I.colType===5&&o.push(A)}this.favorite.playlists=a,this.favorite.artists=s,this.favorite.albums=o,this.favorite.oldCount.playlists=a.length,this.favorite.oldCount.artists=s.length,this.favorite.oldCount.albums=o.length},getItemObj:function(e){var a=parseInt(e.attr("data-itemID")),o=e.attr("data-itemType"),s="musics";return o==="VIDEO"?s="videos":o==="1"?s="playlists":o==="2"?s="artists":o==="5"&&(s="albums"),{itemID:a,itemType:o,key:s}},addItem:function(e){var a=this.getItemObj(e),o=lhx.favouritesPage.favorite[a.key];o.unshift({id:a.itemID}),this.put()},removeItem:function(e){for(var a=this.getItemObj(e),o=a.itemID,s=lhx.favouritesPage.favorite[a.key],l=0,h=s.length;l<h;l++)if(s[l].id===o){s.splice(l,1),this.put();return}},set:function(e){this.favorite=e,this.put()},put:function(){lhx.storageUtils.setObject(lhx.storageUtils.favorite,this.favorite)},init:function(){var e=lhx.storageUtils.getObject(lhx.storageUtils.favorite);return e?this.favorite=e:this.favorite=getEmptyFavoriteData(),this.favorite},initLoveStatus:function(){for(var e=$(".favorite_event:not(.audioOperation_favorite)"),a=0,o=e.length;a<o;a++)this.isInFavourite(e.eq(a))},isInFavourite:function(e){for(var a=this.getItemObj(e),o=a.itemID,s=lhx.favouritesPage.favorite[a.key],l=0,h=s.length;l<h;l++)if(s[l].id==o){e.addClass("isLove");return}e.removeClass("isLove")},getResultData:function(e){var a=e.attr("data-itemID"),o=e.attr("data-itemType");return(o==1||o==2||o==5)&&(o="COL"),{itemID:a,itemType:o}},love:function(e){var a=this,o=this.getResultData(e);lhx.dialog.loading.show("loading..."),$.ajax({type:"POST",url:e.attr("data-href")+"love",dataType:"json",data:JSON.stringify(o),contentType:"application/json;charset=utf-8",success:function(s){s.code==="success"?(a.addItem(e),lhx.dialog.toast.show(config.msg.love,!0),e.addClass("isLove"),a.changeAllStatus_love(e,o.itemID),lhx.changeCount(e,!0)):lhx.dialog.toast.show(s.desc||""),lhx.dialog.loading.close()},error:function(s){console.log(s),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},isNoData:function(){var e="",a=$(".sliderNav_item").eq(0);this.favorite.musics.length===0&&(e='<div class="noData">    <div class="imgBg"></div>    <div class="text">'+config.msg.favouritesNoSong+'</div>    <a class="button" href="/">'+config.msg.discover+"</a></div>",a.html(e))},changeAllStatus_love:function(e,a){var o=location.href;e.hasClass("audioOperation_favorite")?o.indexOf("/favourites")!==-1?lhx.pajax.pajaxTo(o):$(".isSongPage.favorite_event[data-itemID="+a+"]").addClass("isLove"):e.hasClass("isSongPage")&&$(".audioOperation_favorite[data-itemID="+a+"]").addClass("isLove")},changeAllStatus_unlove:function(e,a,o){if(o)e.parents(".unloveByDeleteWrap").remove(),this.isNoData(),$(".audioOperation_favorite.isLove[data-itemID="+a+"]").removeClass("isLove");else if(e.hasClass("audioOperation_favorite")){var s=location.href;s.indexOf("/favourites")!==-1?($(".unloveByDeleteWrap[data-id="+a+"]").remove(),this.isNoData()):(s.indexOf("/songs/")!==-1||s.indexOf("/lyrics/")!==-1)&&$(".dataAction .favorite_event[data-itemID="+a+"]").removeClass("isLove")}else e.hasClass("isSongPage")&&$(".audioOperation_favorite[data-itemID="+a+"]").removeClass("isLove")},unlove:function(e,a){var o=this,s=this.getResultData(e);lhx.dialog.loading.show("loading..."),$.ajax({type:"POST",url:e.attr("data-href")+"unlove",dataType:"json",data:JSON.stringify(s),contentType:"application/json;charset=utf-8",success:function(l){l.code==="success"?(o.removeItem(e),lhx.dialog.toast.show(config.msg.unlove),e.removeClass("isLove"),o.changeAllStatus_unlove(e,s.itemID,a),lhx.changeCount(e,!1)):lhx.dialog.toast.show(l.desc||""),lhx.dialog.loading.close()},error:function(l){console.log(l),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},update:function(){$.ajax({type:"POST",url:"/updateFavorite",dataType:"json",data:JSON.stringify({}),contentType:"application/json;charset=utf-8",success:function(e){try{lhx.favouritesPage.parse(e,!0)}catch(a){console.log("CalmLuo: favourites\u540C\u6B65\u5931\u8D25")}},error:function(e){}})}};$(document).on({click:function(e){e.stopPropagation();var a=$(this);if(!lhx.login.isLogin()){lhx.login.open();return}a.hasClass("isLove")?lhx.favouritesPage.unlove(a):lhx.favouritesPage.love(a)}},".favorite_event");$(document).on({click:function(e){e.stopPropagation();var a=$(this);if(!lhx.login.isLogin()){lhx.login.open();return}lhx.favouritesPage.unlove(a,!0)}},".unloveByDelete_event");lhx.search={timeId:null,searchAjax:null,searchAbort:function(){this.searchAjax&&this.searchAjax.abort()},cache:{maxLength:10,keyArr:[],dataArr:[],set:function(e,a){this.keyArr.unshift(e),this.dataArr.unshift(a),this.keyArr.length=Math.min(this.keyArr.length,this.maxLength),this.dataArr.length=Math.min(this.dataArr.length,this.maxLength)},get:function(e){var a=this.keyArr.indexOf(e);return a===-1?null:this.dataArr[a]}},isClick:!1,input:function(e){var a=this,o=$.trim(e.val());if(o=lhx.xss.escapePath(o),a.searchAbort(),clearTimeout(this.timeId),o===""){$(".search_event").removeClass("hasValue"),$(".searchPop ol").html("");return}$(".search_event").addClass("hasValue");var s=this.cache.get(o);if(s){this.update(o,s,!0);return}this.timeId=setTimeout(function(){a.ajax(o,e)},200)},update:function(e,a,o){for(var s=a.length,l="",h=0;h<s;h++)l+="<li><cite>"+(h+1)+'</cite><strong data-itemType="'+a[h].itemType+'">'+a[h].item+"</strong></li>";l?o||this.cache.set(e,a):l="",$(".searchPop ol").html(l)},ajax:function(e,a){var o=this,s={content:e};this.searchAjax=$.ajax({type:"POST",url:a.attr("data-src"),dataType:"json",data:JSON.stringify(s),contentType:"application/json;charset=utf-8",success:function(l){l.code==="success"?o.update(e,l.info.keywords):lhx.dialog.toast.show(l.desc||"")},error:function(l){console.log(l)}})},searchTo:function(e){var a=lhx.xss.escapePath($.trim(e.find("strong").text())),o=e.find("strong").attr("data-itemType"),s=$(".search_event").addClass("hasValue").val(a).attr("data-href")+o.toLowerCase()+"/"+encodeURIComponent(a);lhx.pajax.pajaxTo(s)},submit:function(){var e=$(".search_event"),a=$.trim(e.addClass("hasValue").val());if(a=lhx.xss.escapePath(a),a===""){lhx.dialog.toast.show(config.msg.searchEmpty);return}var o=e.attr("data-href")+"default/"+encodeURIComponent(a);lhx.pajax.pajaxTo(o)},init:function(){var e=decodeURIComponent(lhx.pajax.getLastUrl(location.pathname));$(".search_event").addClass("hasValue").val(e)},open:function(){lhx.search.isClick=!1,$(".searchPop").addClass("show")},close:function(){$(".searchPop").removeClass("show")}};$(document).on({input:function(){lhx.search.input($(this))},focus:function(){lhx.search.input($(this)),lhx.search.open()},blur:function(){lhx.search.isClick||lhx.search.close()},click:function(){lhx.logUtils.newLog("ACT","CLICK","SEARCH_CLICK")}},".search_event");$(document).on({submit:function(){return lhx.search.submit($(this)),$(".search_event").blur(),!1}},".search");$(document).on({mousedown:function(){lhx.search.isClick=!0,lhx.search.searchTo($(this)),lhx.search.isClick=!1,lhx.search.close()}},".searchPop ol li:not(.none)");$(document).on({click:function(){lhx.comment.face.toggle($(this))}},".openFace");$(document).on({click:function(e){var a=$(e.target);lhx.comment.face.isOpen&&!a.closest(".openFace").length&&!a.closest(".pop_face").length&&lhx.comment.face.close(),lhx.contryModel.isOpen&&!a.closest(".countryModel").length&&lhx.contryModel.close($(".countryModel"))}});$(document).on({click:function(){lhx.comment.face.close()}},".pop_face .close");$(document).on({mouseup:function(){var e=$(this),a=e.attr("data-imgSrc"),o=e.attr("data-value"),s='<img class="emoji" data-value="'+o+'" src="'+a+'" alt="Emoji - Boomplay" />',l=e.parents(".createReplayWrap");lhx.comment.createComment.insert(l,s)},focus:function(){var e=$(this).parents(".createReplayWrap");lhx.comment.createComment.focus(e)}},".pop_face li button");$(document).on({click:function(){var e=$(this),a=e.siblings(".createReplay_dynamic");$(".createReplay_dynamic").not(a).remove(),a.length?a.hasClass("hidden")?a.removeClass("hidden").slideDown(300):a.addClass("hidden").slideUp(300):lhx.comment.createReplay_dynamic(e)}},".openReply");$(document).on({click:function(){var e=$(this);lhx.comment.submitComment(e)}},".submitComment");$(document).on({click:function(){lhx.comment.agreeOrDisagree($(this))}},".agree_event");lhx.embed={open:function(){lhx.share.close();var e=lhx.share[lhx.share.currentData];lhx.logUtils.clickLog(e,"byEB");var a=e.itemType,o=e.itemID,s=$(".pop_embed");if(a+o===s.attr("data-only")){this.openUI();return}var l=s.find("iframe").eq(0);l.attr("src","about:blank");var h=420,y="";a==="COL"?h=600:y="?colType="+e.colType+"&colID="+e.colID;var I=config.shareBaseUrl.embed+o+"/"+a+y,A='<iframe src="'+I+'" width="100%" height="'+h+'" frameborder="0"></iframe>';s.attr("data-only",a+o),s.find("textarea").val(A),s.find("strong").text("Embed:"+e.title),this.openUI(),setTimeout(function(){l.attr("src",I.lmx_addURLParamBatch({setSession:"true"}))},200)},openUI:function(){$(".pop_embed,.pop_embed_mask").addClass("show")},close:function(){$(".pop_embed,.pop_embed_mask").removeClass("show")}};lhx.share={isOpen:!1,open:function(e){e?$(".pop_share .embed").fadeOut(0):$(".pop_share .embed").fadeIn(0),$(".pop_share,.pop_share_mask").addClass("show"),this.isOpen=!0},close:function(){$(".pop_share,.pop_share_mask").removeClass("show"),this.isOpen=!1},$this:null,currentData:"shareData_MUSIC",shareData_MUSIC:{content:"",itemID:"",itemType:"MUSIC",title:"",desc:config.msg.default_shareSong,pic:"",colType:"",colID:""},setSongWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_MUSIC={content:a[0],itemID:a[1],itemType:"MUSIC",title:a[2],desc:a[2]+" - Listen on Boomplay For Free",pic:a[4],colType:a[5],colID:a[6]},this.currentData="shareData_MUSIC"}},setSongWithPlayOne:function(e){this.setSongWithSongMsg(lhx.audioUtils.parseMsg(e))},setSongWithSongMsg:function(e){lhx.share.shareData_MUSIC={content:config.shareBaseUrl.song+e.id,itemID:e.id,itemType:"MUSIC",title:e.name,desc:e.name+" - Listen on Boomplay For Free",pic:e.cover,colType:e.colType,colID:e.colID},lhx.share.currentData="shareData_MUSIC"},setEpisodeWithMsg:function(e){lhx.share.shareData_Episode={content:config.shareBaseUrl.episode+e.id,itemID:e.id,itemType:"EPISODE",title:e.name,desc:e.name,pic:e.cover,colType:e.colType,colID:e.colID},lhx.share.currentData="shareData_Episode"},setEpisodeWithPlayOne:function(e){this.setEpisodeWithMsg(lhx.audioUtils.parseMsg(e))},setEpisodeWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_Episode={content:a[0],itemID:a[1],itemType:"EPISODE",title:a[2],desc:a[2],pic:a[4],colType:a[5],colID:a[6]},this.currentData="shareData_Episode"}},setPodcastWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_Podcast={content:a[0],itemID:a[1],itemType:"SHOW",title:a[2],desc:a[2],pic:a[4],colType:a[5],colID:a[6]},this.currentData="shareData_Podcast"}},shareData_COL:{content:"",itemID:"",itemType:"COL",title:"",desc:config.msg.default_shareCOl,pic:""},setColWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_COL={content:a[0],itemID:a[1],itemType:"COL",title:a[2],desc:a[2]+" | Boomplay Music",pic:a[4]},this.currentData="shareData_COL"}},shareData_buzz:{content:"",itemID:"",itemType:"EXCLUSIVE",title:"",desc:config.msg.default_shareBuzz,pic:""},setBuzzWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_buzz={content:a[0],itemID:a[1],itemType:"EXCLUSIVE",title:a[2],desc:a[2]+" | Boomplay Music",pic:a[4]},this.currentData="shareData_buzz"}},setStoriesArticleWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_storiesArticle={content:a[0],itemID:a[1],itemType:"",title:a[2],desc:a[2]+" | Boomplay",pic:a[4]},this.currentData="shareData_storiesArticle"}},shareData_video:{content:"",itemID:"",itemType:"VIDEO",title:"",desc:config.msg.default_shareVideo,pic:""},setVideoWithData:function(e){if(!!e){e=decodeURIComponent(e);var a=e.split("@+#");this.shareData_video={content:a[0],itemID:a[1],itemType:"VIDEO",title:a[2],desc:a[2]+" - Listen on Boomplay For Free",pic:a[4]},this.currentData="shareData_video"}},toCopyLink:function(){var e=this;this.close();var a=this[this.currentData],o=a.content;o=(o+"").lmx_addURLParamBatch({srModel:"COPYLINK",srList:"WEB"},!0),e.copy(o,function(){e.close(),lhx.dialog.toast.show("Copied.",!0,!1),lhx.logUtils.clickLog(a,"byCL")})},toWhatsapp:function(){this.close();var e=this[this.currentData],a=e.content,o="https://api.whatsapp.com/send?text="+encodeURIComponent(e.desc+" \n"+(a+"").lmx_addURLParamBatch({srModel:"WHATSAPP",srList:"WEB"},!0));lhx.logUtils.clickLog(e,"byWH",!0);var s=window.open(o,"bpToWhatsapp",lhx.openCenter(960,600));s.focus&&s.focus()},toFacebook:function(){this.close();var e=this[this.currentData],a=e.content;FB.ui({method:"feed",caption:"www.boomplay.com",name:e.title,description:e.desc,picture:e.pic,link:a.lmx_addURLParamBatch({srModel:"FACEBOOK",srList:"WEB"},!0)},function(o){o&&(lhx.dialog.toast.show("Shared"),lhx.logUtils.clickLog(e,"byFK",!0))})},copy:function(e,a){var o=document.getElementById("lmxCopy");o||(o=document.createElement("text"),o.id="lmxCopy",o.style="position:absolute;left:-100px;top:-100px;height:100px;width:100px;overflow:auto;",document.body.appendChild(o)),o.innerText=e;var s=document.createRange();s.selectNode(o);var l=document.getSelection();l.selectAllChildren(o);try{var h=document.execCommand("copy",!1,null);h&&typeof a=="function"&&a()}catch(y){}},shareToWithType:function(e){e==="facebook"?this.toFacebook():e==="twitter"?this.toTwitter():e==="whatsApp"&&this.toWhatsapp()}};$(document).on({click:function(e){e.stopPropagation();var a=$(this);switch(lhx.share.$this=a,!0){case a.hasClass("audioOperation_share"):if(lhx.audioUtils.songList.length){if(lhx.audioUtils.currentMsg.colType==="podcast")return lhx.share.open(!0),lhx.share.setEpisodeWithMsg(lhx.audioUtils.currentMsg);lhx.share.open(),lhx.share.setSongWithSongMsg(lhx.audioUtils.currentMsg)}else lhx.dialog.toast.show(config.error.playlistEmpty);return;case a.hasClass("isEpisode"):lhx.share.open(!0),lhx.share.setEpisodeWithData(a.attr("data-data"));return;case a.hasClass("isPodcast"):lhx.share.open(!0),lhx.share.setPodcastWithData(a.attr("data-data"));return;case a.hasClass("isPlayOne_episode"):lhx.share.open(!0),lhx.share.setEpisodeWithPlayOne(a.parents("li").find(".play_one").attr("data-data"));return;case a.hasClass("isSong"):lhx.share.open(),lhx.share.setSongWithData(a.attr("data-data"));return;case a.hasClass("isPlayOne"):lhx.share.open(),lhx.share.setSongWithPlayOne(a.parents(".play_one").attr("data-data"));return;case a.hasClass("isPlayOne_inSongList"):lhx.share.open(),lhx.share.setSongWithPlayOne(lhx.audioUtils.songList[$(".songList li").index(a.parents("li"))]);return;case a.hasClass("isCol"):a.hasClass("noEmbed")?lhx.share.open(!0):lhx.share.open(),lhx.share.setColWithData(a.attr("data-data"));return;case a.hasClass("isBuzz"):lhx.share.open(!0),lhx.share.setBuzzWithData(a.attr("data-data"));return;case a.hasClass("isVideo"):lhx.share.open(!0),lhx.share.setVideoWithData(a.attr("data-data"));return;case a.hasClass("isStoriesArticle"):lhx.share.setStoriesArticleWithData(a.parents(".shareData").attr("data-data")),lhx.share.shareToWithType(a.attr("data-shareType"));return;default:return}}},".share_event");$(document).on({click:function(){lhx.share.close()}},".pop_share .close");$(document).on({click:function(){lhx.share.toCopyLink()}},".pop_share .copyLink");$(document).on({click:function(){lhx.share.toFacebook()}},".pop_share .facebook");$(document).on({click:function(){lhx.share.toWhatsapp()}},".pop_share .whatsapp");$(document).on({click:function(){lhx.embed.open()}},".pop_share .embed");$(document).on({click:function(){lhx.embed.close()}},".pop_embed .close");$(document).on({click:function(){var e=$(".pop_embed .code").val(),a=$(".pop_embed .is_radio"),o=a.find("li").index(a.find("li.current"));o===1?e=e.replace('width="100%"','width="300"').replace('height="420"','height="600"').replace('height="600"','height="600"'):o===2&&(e=e.replace('width="100%"','width="300"').replace('height="420"','height="250"').replace('height="600"','height="250"')),lhx.share.copy(e,function(){lhx.dialog.toast.show("Copied. Go and insert the code into pages or posts of your website.",!0,!1),lhx.embed.close()})}},".pop_embed .copy");$(document).on({click:function(){$(this).addClass("current").siblings("li").removeClass("current")}},".pop_embed .is_radio li");$(document).on({click:function(){lhx.buzz.agreeOrDisagree($(this))}},".agree_event_buzz");$(window).on({resize:function(){lhx.readMore.init()}});$(document).on({click:function(){lhx.readMore.close()}},".pop_descriptionReadMore_mask");$(document).on({click:function(){lhx.readMore.close()}},".pop_descriptionReadMore .close");$(document).on({click:function(){lhx.readMore.open()}},".readMoreBtn");$(document).on({click:function(){var e=$(this).attr("data-name"),a=$("."+e).position().top,o=$("main");o.animate({scrollTop:a+o.scrollTop()},300)}},".goto_tips");lhx.tabWrap={init:function(){var e=this;$(document).on({click:function(){e.change($(this)),e.scrollToTop()}},".tabWrap .tab_label li")},change:function(e){var a=e.parents(".tabWrap"),o=a.find(".tab_label li"),s=o.index(e);o.removeClass("current"),e.addClass("current"),a.find(".tab_pane").removeClass("show"),a.find(".tab_pane[data-id="+s+"]").addClass("show");var l=a.attr("data-show-clazz");l&&(e.attr("data-show")==="T"?$(l).removeClass("hidden"):$(l).addClass("hidden"))},changeFormUrl:function(){},addScroll:function(){var e=this,a=this.$scrollEvent=$("main");a.scroll(e.scroll)},scroll:function(){var e=$(".header"),a=e.height(),o=$(".tabWrap");if(o.length){var s=o.find(".tab_label");o.offset().top<=a&&$(".desc_give").offset().top>=a?s.addClass("fixed"):s.removeClass("fixed")}},scrollToTop:function(){var e=$(".tabWrap"),a=e.find(".tab_label.fixed");if(a.length){var o=$("main");o.animate({scrollTop:2+e.position().top+o.scrollTop()-$(".header").height()+"px"},300)}},destroy:function(){this.$scrollEvent&&this.$scrollEvent.off("scroll",this.scroll)}};lhx.checkUserInfo={openLogin:function(){var e=lhx.getCookie("sessionID"),a=lhx.getCookie("valid");this.updateInfo(),!e&&a==="T"&&lhx.storageUtils.sessionIdValid_get()!=="T"&&(lhx.login.open(),lhx.storageUtils.sessionIdValid_put("T"))},updateInfo:function(){var e=$(".sidebar .userInfo"),a=lhx.getCookie("allEndTime"),o=$(".sidebar .userInfo .login_info .text");a?o.addClass("hasEndTime").find(".subInfo_allEndTime span").text(lhx.getDateWithTimestamp(a)):o.removeClass("hasEndTime").find(".subInfo_allEndTime span").text("");var s=$(".sidebar .userInfo .icon_vip");if(s.length){var l=s.hasClass("isVip"),h=lhx.login.isVip();l!==h&&(h?s.addClass("isVip"):s.removeClass("isVip"))}var y=lhx.getCookie("avatar"),I=lhx.getCookie("iconMagicUrl"),A=lhx.getCookie("vipType"),v=lhx.getCookie("sex"),k="";y&&(k="background-image: url("+config.staticAddr+lhx.getWebP(I,y,320)+");");var S=decodeURIComponent((lhx.getCookie("userName")||"").replace(/\+/ig,"%20"));S||(S=decodeURIComponent((lhx.getCookie("name")||"").replace(/\+/ig,"%20")));var t=e.find(".default_user_icon"),i=e.find(".imgReal"),n=e.find(".default_authentic_icon");if(t.length&&(v==="F"?t.addClass("female_icon"):t.removeClass("female_icon")),i.length&&i.attr("style")!==k&&i.attr("style",k),n.length&&(A==="P"?(n.removeClass("icon_organization"),n.addClass("icon_personal")):A==="O"?(n.removeClass("icon_personal"),n.addClass("icon_organization")):n.removeClass("icon_personal").removeClass("icon_organization")),s.length){var r=s.html();r!==S&&s.html(S)}},initTime:function(){for(var e=$(".needParseTime"),a=0,o=e.length;a<o;a++){var s=e.eq(a),l=Number(s.attr("data-time"));s.text(lhx.getDateWithTimestamp(l)).removeAttr("data-time")}}};$(document).on({click:function(){lhx.openBp.toAppStoreAndGooglePlay()}},".toAppStoreAndGoogleBtn");$(document).on({click:function(){var e=$(this);e.attr("data-partTo")&&($("main").animate({scrollTop:0},300),e.parents("li").addClass("current").siblings("li").removeClass("current"))}},".headTab.isPartTo a");lhx.aside={$benefitsSupport:null,$scrollEvent:null,isScrolling:!1,init:function(){var e=this;$(document).on({click:function(){var a=$(this),o=a.attr("data-to");if(!!o){a.addClass("current").siblings("li").removeClass("current");var s=$(".benefits-support [data-to-id="+o+"]");lhx.aside.isScrolling=!0;var l=$(".benefits-support-content");o>9?(l.find(".showGroup2").removeClass("hidden"),l.find(".showGroup1").addClass("hidden")):(l.find(".showGroup2").addClass("hidden"),l.find(".showGroup1").removeClass("hidden")),e.scrollToEle(s)}}},".benefits-support aside li")},positionTo:function(){var e=location.hash||"",a=e.replace("#","?").lmx_parseToObjWithURL(),o=(a.position||"").replace("id","");$(".benefits-support aside li[data-to='"+o+"']").click()},addScroll:function(){var e=this,a=this.$scrollEvent=$("main");this.$benefitsSupport=$(".benefits-support"),this.$benefitsSupport.length&&(a.scroll(e.scroll),this.positionTo())},scroll:function(){var e=lhx.aside.$benefitsSupport;if(!(!e||e.length<1)){var a=e.find("aside");if(-20+e.offset().top-$(".header").height()<0){var o=$(".benefits-foot");if(!o.length)return;o.offset().top<502?(a.removeClass("fixed"),a.addClass("bottomPosition")):(a.addClass("fixed"),a.removeClass("bottomPosition"))}else a.removeClass("fixed"),a.removeClass("bottomPosition");if(!lhx.aside.isScrolling)for(var s=$(".benefits-support-content section"),l=0,h=s.length;l<h;l++){var y=s.eq(l);if(y.offset().top>86){$(".benefits-support [data-to="+y.attr("data-to-id")+"]").addClass("current").siblings("li").removeClass("current");return}}}},scrollToEle:function(e){var a=$("main");a.animate({scrollTop:-60+e.offset().top+a.scrollTop()-$(".header").height()+"px"},300,function(){lhx.aside.isScrolling=!1})},destroy:function(){this.$scrollEvent&&this.$scrollEvent.off("scroll",this.scroll)}};lhx.pop_premium={payArray:[],payData:null,straightToChannel:"",channelList:["flutterwave","palmpay","m-pesa","pesapal","tigoPesa","googlePay","applePay"],straightTo:function(){var e=location.hash.replace("#","?"),a=e.lmx_parseToObjWithURL(),o=a.pay;if(!!o&&!!this.channelList.includes(o)){if(this.straightToChannel=o,a.token)return this.checkLoginInfoWithApp(a.token);this.open()}},checkLoginInfoWithApp_failed:function(){lhx.delCookieWithName("sessionID"),lhx.delCookieWithName("tmpPw"),lhx.delCookieWithName("phone"),location.hash="pay="+this.straightToChannel,lhx.login.loginOut(!0),lhx.login.open()},checkLoginInfoWithApp:function(e){var a=this,o={token:e,trackPoint:JSON.stringify({evtID:"USER_LOGIN",signLogSource:"SUB"})},s={param:lhx.AESUtils.encrypt(JSON.stringify(o))};lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:"/authByTempToken",dataType:"json",data:JSON.stringify(s),contentType:"application/json;charset=utf-8",success:function(l){if(location.hash="pay="+a.straightToChannel,console.log(l),l.code==="success"){try{lhx.favouritesPage.parse(l.favorite)}catch(h){console.log("CalmLuo: favourites\u540C\u6B65\u5931\u8D25")}try{lhx.myPlaylists.parse(l.myPlaylists)}catch(h){console.log("CalmLuo: myPlaylists\u540C\u6B65\u5931\u8D25")}setTimeout(function(){location.reload()},200)}else{if(lhx.dialog.loading.close(),l.code==="2040")return a.open();a.checkLoginInfoWithApp_failed()}},error:function(l){this.checkLoginInfoWithApp_failed(),lhx.dialog.toast.show(config.error.network,!0,!0),lhx.dialog.loading.close()}})},setPayData:function(e){var a=this.payData=this.payArray[e],o=$(".pop_premiumWrap .step_2"),s=a.name;o.find(".for_payMethod").text(s),$(".popPay_countdown .for_payMethod").text(s),o.find(".reviewAndPay_date").text(lhx.formatDate(new Date().getTime())),o.find(".reviewAndPay_price").text(a.price+" "+a.currency),$(".pop_premiumWrap .step_3 .h1").text(s)},open:function(){if(!lhx.login.isLogin()){lhx.login.open();return}this.straightToChannel&&(location.hash="end"),this.getPayChannel()},close:function(){$(".pop_premiumWrap_mask").removeClass("show"),$(".pop_premiumWrap").removeClass("show")},show:function(){this.toStep1(!0),$(".pop_premiumWrap_mask").addClass("show"),$(".pop_premiumWrap").addClass("show"),this.straightToChannel&&this.toStep2(!0)},getPayChannel:function(){var e=this,a={};if(this.payData&&!this.straightToChannel){e.show();return}lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:"/json/getSubPayChannel",dataType:"json",data:JSON.stringify(a),contentType:"application/json;charset=utf-8",success:function(o){if(lhx.dialog.loading.close(),o.code!==0){lhx.dialog.toast.show(o.msg||o.desc||config.error.network),(o.code==="2005"||o.code==="2000")&&lhx.login.autoLoginCan();return}var s=e.payArray=o.data||[],l=0;if(e.straightToChannel)for(var h=0,y=s.length;h<y;h++){var I=s[h];if(I&&e.straightToChannel===I.channel){l=h;break}}e.setPayData(l),e.openOneMonthCheck()},error:function(){lhx.dialog.loading.close(),lhx.dialog.toast.show(config.error.network,!0,!0)}})},openOneMonthCheck:function(){var e=this.payData,a=e.currency,o=e.price,s=o.toFixed(2),l='<section class="oneMonthCheck">   <div class="left">Billed 1 Month</div>   <div class="right">                    <strong>'+o+"</strong> <span>"+a+'</span>                    <p>/ member for 1 month</p>                </div>            </section>            <section class="oneMonthDesc">       <div class="h3">Order Summary</div>                <div class="desc">                    One Month Premium <span class="right">'+s+" "+a+"</span>                    <p>"+s+' / month x 1 member</p>                </div>                <div class="due">                    Due Today                    <span>'+s+" "+a+"</span>                </div>            </section>";$(".oneMonthCheckWrap").html(l),this.show()},toStep1:function(e){e&&this.createPayWith(),$(".pop_premiumWrap").removeClass("four"),$(".pop_premiumWrap .step_1").addClass("show"),$(".pop_premiumWrap .step_2").removeClass("show"),$(".pop_premiumWrap .step_3").removeClass("show")},createPayWith:function(){for(var e="",a=this.payData,o=this.payArray,s=0,l=o.length;s<l;s++){var h=o[s],y=h.channel;e+='<li class="show">   <div class="payWith_'+y+" "+(a.channel===y?"current":"")+'" data-index="'+s+'">       <img src="/pc/img/subscription/payWith_'+y+'.jpg" alt="'+h.name+'">   </div></li>'}$(".payWith_ul").html(e)},toStep2:function(e){e&&lhx.pop_premium.log.step1_complete_order(),$(".pop_premiumWrap").removeClass("four"),$(".pop_premiumWrap .step_1").removeClass("show"),$(".pop_premiumWrap .step_2").addClass("show"),$(".pop_premiumWrap .step_3").removeClass("show"),this.straightToChannel&&this.straightToChannel===(this.payData&&this.payData.channel)&&this.toStep3(!0)},toStep3:function(e){e&&lhx.pop_premium.log.step2_submit();var a=this.payData;if(!a.isNeedExtraArgs){this.pay();return}$(".pop_premiumWrap .step_1").removeClass("show"),$(".pop_premiumWrap .step_2").removeClass("show"),$(".pop_premiumWrap .step_3").addClass("show");for(var o=a.extraArgs,s="",l=0,h=o.length;l<h;l++){var y=o[l];s+=this.extraForm[y].get()}h<=3?($(".pop_premiumWrap .payForm").removeClass("four"),$(".pop_premiumWrap").removeClass("four")):($(".pop_premiumWrap .payForm").addClass("four"),$(".pop_premiumWrap").addClass("four")),$(".pop_premiumWrap .payForm ul").html(s),this.checkedInformation()},extraForm:{phoneNum:{get:function(){return'<li>    <label for="payForm_phoneNum">Phone</label>    <input name="phoneNum" id="payForm_phoneNum"           data-pattern="[^0-9]" data-flags="g" maxlength="20" type="tel"           autocomplete="off"           placeholder="Type your phone number here"/></li>'}},email:{get:function(){return'<li>    <label for="payForm_email">Email</label>    <input name="email" id="payForm_email" type="text"           autocomplete="off"           maxlength="100"           placeholder="Email address"/></li>'}},firstName:{get:function(){return'<li>   <label for="payForm_firstName">First Name</label>   <input name="firstName" id="payForm_firstName" type="text"       autocomplete="off"       maxlength="50"       placeholder="Type your first name here"/></li>'}},lastName:{get:function(){return'<li>    <label for="payForm_lastName">Last name</label>    <input name="lastName" id="payForm_lastName" type="text"           autocomplete="off"           maxlength="50"           placeholder="Type your last name here"/></li>'}}},information:{firstName:"",lastName:"",email:"",phoneNum:""},checkedInformation:function(e){var a=$(".pop_premiumWrap .payForm")[0],o=$(".pop_premiumWrap .step_3 .pay"),s=a.firstName,l=a.lastName,h=a.email,y=a.phoneNum;if(o.addClass("disabled"),y){var I=$.trim(y.value);if(!I)return e&&y.focus(),y}if(h){var A=$.trim(h.value);if(!A||!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(A))return e&&h.focus(),h}if(s){var v=$.trim(s.value);if(!v)return e&&s.focus(),s}if(l){var k=$.trim(l.value);if(!k)return e&&l.focus(),l}lhx.pop_premium.information={firstName:v,lastName:k,email:A,phoneNum:I},o.removeClass("disabled")},pay:function(e){var a=this,o=e||{},s=this.payData;o.payChannel=s.channel,o.price=s.price,o.currency=s.currency,lhx.dialog.loading.show("Loading..."),$.ajax({type:"POST",url:"/json/subDoPayOrder",dataType:"json",data:JSON.stringify(o),contentType:"application/json;charset=utf-8",success:function(l){if(lhx.dialog.loading.close(),l.code!==0){lhx.dialog.toast.show(l.msg||l.desc||config.error.network),(l.code==="2005"||l.code==="2000")&&lhx.login.autoLoginCan();return}a.close(),a.toStep1(),a.thirdPartyPay.to(l.data)},error:function(){lhx.dialog.loading.close(),lhx.dialog.toast.show(config.error.network,!0,!0)}})},payForGoogle:function(){var e={apiVersion:2,apiVersionMinor:0},a={type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}},o=["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","MIR","VISA"],s=["PAN_ONLY","CRYPTOGRAM_3DS"],l={type:"CARD",parameters:{allowedAuthMethods:s,allowedCardNetworks:o}},h=Object.assign({tokenizationSpecification:a},l),y=new google.payments.api.PaymentsClient({environment:"TEST"}),I=Object.assign({},e);I.allowedPaymentMethods=[l],y.isReadyToPay(I).then(function(A){if(A.result){var v=y.createButton({onClick:function(){console.log("TODO: click handler")},allowedPaymentMethods:[]});document.getElementById("container").appendChild(v)}})},thirdPartyPay:{to:function(e){var a=this;if(this.cleanAllPre(),lhx.pop_premium.orderNo=e.orderNo,!e.isNeedToJumpPay){lhx.pop_premium.popPay_countdown.open();return}this.openWin(e.payUrl)},cleanAllPre:function(){lhx.pop_premium.popPay_countdown.clearTimeId(),lhx.pop_premium.checkOrderStatusLoading.end(),this.forceCloseWin()},bpToThirdPartyPay:null,timeId:null,openWin:function(e){var a=this;try{var o=a.bpToThirdPartyPay=window.open(e,"bpToThirdPartyPay");o?(o.focus&&o.focus(),lhx.pop_premium.popPay_countdown.open(),a.timeId=setInterval(function(){o&&o.closed&&(clearInterval(a.timeId),a.cancel())},1e3)):(lhx.dialog.loading.show("Loading..."),location.href=e,setTimeout(function(){lhx.dialog.loading.close()},2e3))}catch(s){lhx.dialog.loading.show("Loading..."),location.href=e,setTimeout(function(){lhx.dialog.loading.close()},2e3)}},successCloseWin:function(){clearInterval(this.timeId),this.bpToThirdPartyPay&&this.bpToThirdPartyPay.close&&this.bpToThirdPartyPay.close()},forceCloseWin:function(){this.successCloseWin()},cancel:function(){clearInterval(this.timeId),console.log("\u652F\u4ED8\u53EF\u80FD\u5DF2\u88AB\u53D6\u6D88"),lhx.dialog.loading.show("Loading..."),lhx.pop_premium.checkOrderStatus(function(e){lhx.dialog.loading.close(),e==="success"?lhx.pop_premium.paySuccess():e==="failed"?lhx.pop_premium.payFailed():lhx.pop_premium.paying()})}},paySuccess:function(){this.thirdPartyPay.successCloseWin(),this.popPay_countdown.close(),this.popPay_ing.close(),this.popPay_success.open(),this.checkOrderStatusLoading.end()},payFailed:function(){clearInterval(this.thirdPartyPay.timeId),this.popPay_countdown.close(),this.popPay_ing.close(),this.popPay_fail.open(),this.checkOrderStatusLoading.end()},paying:function(){clearInterval(this.thirdPartyPay.timeId),this.popPay_countdown.close(),this.popPay_ing.open()},checkPayStatus:function(){var e=location.href.lmx_parseToObjWithURL(),a=e.payStatus;!a||(a==="completed"?this.paySuccess():a==="failed"?this.payFailed():a==="processing"&&this.paying())},checkOrderStatusLoading:{currentTime:0,duration:5*60*1e3,intervalTime:5*1e3,sending:!1,IntervalId:null,end:function(){clearInterval(this.IntervalId)},begin:function(){var e=this;this.currentTime=0,this.sending=!1,this.intervalFun(),this.IntervalId=setInterval(function(){e.intervalFun()},this.intervalTime)},intervalFun:function(){if(this.currentTime+=this.intervalTime,this.currentTime>=this.duration){this.end();return}this.sending||lhx.pop_premium.checkOrderStatus()}},checkOrderStatus:function(e){var a={};a.orderNo=this.orderNo,a.payChannel=this.payData.channel,lhx.pop_premium.checkOrderStatusLoading.sending=!0,$.ajax({type:"POST",url:"/json/checkOrderStatus",dataType:"json",data:JSON.stringify(a),contentType:"application/json;charset=utf-8",success:function(o){if(lhx.pop_premium.checkOrderStatusLoading.sending=!1,o.code!==0){e&&e();return}var s=o.data.status;if(s===3)return lhx.pop_premium.paySuccess(),e&&e("success");(s===4||s===5)&&(lhx.pop_premium.payFailed(),e&&e("failed")),e&&e()},error:function(){e&&e(),lhx.pop_premium.checkOrderStatusLoading.sending=!1}})},popPay_countdown:{intervalId:null,clearTimeId:function(){clearInterval(this.intervalId)},open:function(){var e=this,a=$(".popPay_countdown .countDownNum"),o=10;$(".popPay_mask").addClass("show"),$(".popPay_countdown").addClass("show"),a.text(o),this.intervalId=setInterval(function(){if(o-- >0){a.text(o);return}e.close(),lhx.pop_premium.popPay_ing.open()},1e3),lhx.pop_premium.checkOrderStatusLoading.begin()},close:function(){this.clearTimeId(),$(".popPay_mask").removeClass("show"),$(".popPay_countdown").removeClass("show")}},popPay_ing:{open:function(){$(".popPay_mask").addClass("show"),$(".popPay_ing").addClass("show")},close:function(){$(".popPay_mask").removeClass("show"),$(".popPay_ing").removeClass("show")}},popPay_fail:{open:function(){$(".popPay_mask").addClass("show"),$(".popPay_fail").addClass("show")},close:function(){$(".popPay_mask").removeClass("show"),$(".popPay_fail").removeClass("show")}},popPay_success:{open:function(){$(".popPay_mask").addClass("show"),$(".popPay_success").addClass("show")},close:function(){$(".popPay_mask").removeClass("show"),$(".popPay_success").removeClass("show"),lhx.pajax.pajaxTo("/userCenter/profile")}},popPay_status:{open:function(){$(".popPay_mask").addClass("show"),$(".popPay_status").addClass("show")},close:function(){$(".popPay_mask").removeClass("show"),$(".popPay_status").removeClass("show")}},log:{step1_complete_order:function(){lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_ONE_BTN_COMPLETEORDER_CLICK")},step2_submit:function(){lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_TWO_BTN_SUBMIT_CLICK")},methodMap:{flutterwave:"FLUTTER",palmpay:"PALM","m-pesa":"MPESA",pesapal:"PESAPAL",tigoPesa:"TIGO",googlePay:"GOOGLEPAY",applePay:"APPLEPAY"},step2_payWith_select:function(){lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_TWO_BTN_"+this.methodMap[lhx.pop_premium.payData.channel]+"_CLICK")},step3_pay:function(){lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_THREE_BTN_"+this.methodMap[lhx.pop_premium.payData.channel]+"PAY_CLICK")},step_close:function(){var e=$(".pop_premiumWrap");e.find(".step_1").hasClass("show")?lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_ONE_BTN_CLOSE_CLICK"):e.find(".step_2").hasClass("show")?lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_TWO_BTN_CLOSE_CLICK"):e.find(".step_3").hasClass("show")&&lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_THREE_BTN_"+this.methodMap[lhx.pop_premium.payData.channel]+"_CLOSE_CLICK")},popPay_close:function(e){e.hasClass("popPay_success")?lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_FOUR_BTN_ENJOY_CLOSE_CLICK"):e.hasClass("popPay_ing")?lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_FOUR_BTN_USERCENTER_CLOSE_CLICK"):e.hasClass("popPay_fail")&&lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_FOUR_BTN_PAYAGAIN_CLOSE_CLICK")},failed_payAgain:function(){lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_FOUR_BTN_PAYAGAIN_CLICK")},process_userCenter:function(){lhx.logUtils.newLog("ACT","CLICK","WEB_PAYMENT_FOUR_BTN_USERCENTER_CLICK")}}};window.addEventListener("hashchange",function(){var e=location.hash.replace("#","?"),a=e.lmx_parseToObjWithURL();a.pay&&a.token&&lhx.pop_premium.straightTo()},!1);$(document).on({click:function(){lhx.pop_premium.log.step_close(),lhx.pop_premium.close(),lhx.pop_premium.straightToChannel=""}},".pop_premiumWrap .close");$(document).on({click:function(){lhx.pop_premium.open()}},".subscribeNowTo_event");$(document).on({click:function(){lhx.pop_premium.toStep2(!0)}},".pop_premiumWrap .completedOrder");$(document).on({click:function(){lhx.pop_premium.toStep3(!0)}},".pop_premiumWrap .submit");$(document).on({input:function(){lhx.pop_premium.checkedInformation()}},".pop_premiumWrap .payForm input");$(document).on({click:function(){if(lhx.pop_premium.log.step3_pay(),$(this).hasClass("disabled")){var e=lhx.pop_premium.checkedInformation(!0);e&&lhx.dialog.inputTip.show("Please enter valid information",$(e).parents("li"));return}lhx.pop_premium.pay(lhx.pop_premium.information)}},".pop_premiumWrap .pay");$(document).on({click:function(){var e=$(this);lhx.pop_premium.straightToChannel="",e.hasClass("step2Back")?lhx.pop_premium.toStep1():lhx.pop_premium.toStep2()}},".pop_premiumWrap .stepBack");$(document).on({click:function(){var e=$(this);$(".step_2 .payWith li div").removeClass("current"),e.addClass("current"),lhx.pop_premium.setPayData(e.attr("data-index")),lhx.pop_premium.log.step2_payWith_select()}},".step_2 .payWith li div");$(document).on({click:function(){var e=$(this).parents(".popPay");if(lhx.pop_premium.log.popPay_close(e),e.hasClass("popPay_success"))return lhx.pop_premium.popPay_success.close();e.removeClass("show"),$(".popPay_mask").removeClass("show"),e.hasClass("popPay_ing")&&lhx.pop_premium.checkOrderStatusLoading.end()}},".popPay .close");$(document).on({click:function(){$(this).parents(".popPay").removeClass("show"),$(".popPay_mask").removeClass("show"),lhx.pop_premium.open(),lhx.pop_premium.log.failed_payAgain()}},".popPay .payAgain");$(document).on({click:function(){var e=$(this).parents(".popPay");e.removeClass("show"),$(".popPay_mask").removeClass("show"),lhx.pajax.pajaxTo("/userCenter/profile"),e.hasClass("popPay_ing")&&lhx.pop_premium.checkOrderStatusLoading.end(),lhx.pop_premium.log.process_userCenter()}},".popPay .goToUserCenter");$(document).on({click:function(){lhx.pop_premium.popPay_status.open()}},".openPayStatus");$(document).on({click:function(){var e=$(this);e.parents("li").find("input").focus(),e.remove()}},".inputTip");$(document).on({click:function(){var e=$(this),a=e.parents(".episodesSortSelect_wrap");a.hasClass("show")?a.removeClass("show"):a.addClass("show")}},".episodesSortSelect");$(document).on({click:function(){lhx.dialog.loading.show("Loading...");var e=$(this),a=e.parents(".episodesSortSelect_wrap"),o=a.find(".episodesSortSelect"),s=a.parents(".episodesMenu"),l=s.find("ol"),h=e.attr("data-value");if(e.addClass("selected").siblings("span").removeClass("selected"),a.removeClass("show"),o.text(e.text()),h===l.attr("data-value")){lhx.dialog.loading.close();return}l.attr("data-value",h),setTimeout(function(){for(var y=l.find("li"),I=document.createDocumentFragment(),A=y.length-1;A>=0;A--)I.appendChild(y[A]);l.html(I),lhx.lazyImg.scroll(),lhx.dialog.loading.close()},1)}},".episodesSortSelect_options span");lhx.distribute={send:function(e){if(!!e){var a=e.actionKey,o=e.actionArgs;if(!!a){if(this[a]&&o)return this[a](o);this.ddToBp(e)}}},AK_GoToURL:function(e){var a=e.url;a&&window.open(a,"adRAWin")},AK_PlayMusicAndGoToMusicPlayHome:function(e){var a=e.musicID;a&&window.open("/songs/"+a,"adRAWin")},AK_GoToColDetail:function(e){var a=e.colID;a&&window.open("/"+(e.colType==="playlist"?"playlists":"albums")+"/"+a,"adRAWin")},AK_GoToArtistDetail:function(e){var a=e.colID;a&&window.open("/artists/"+a,"adRAWin")},AK_GoToBuzzDetail:function(e){var a=e.buzzID;a&&window.open("/buzz/"+a,"adRAWin")},AK_GoToPhoneDialing:function(e){var a=e.phoneNumber;if(!!a){var o=document.createElement("a");o.href="tel:"+a,o.click()}},AK_GoToPhoneMessage:function(e){var a=e.phoneNumber;if(!!a){var o=document.createElement("a");o.href="sms:"+a,o.click()}},AK_GoToWhatsApp:function(e){var a=e.account;!a||this.tryOpenWithLanding("whatsapp://send?phone="+a,e.alternativeLandingPage)},AK_GoToFBMessenger:function(e){var a=e.account;if(!!a){var o="http://m.me/";this.tryOpenWithLanding(o+a,e.alternativeLandingPage)}},AK_GoToDeeplink:function(e){var a="",o=e.androidPackageName,s=e.appstoreUrl;o?a="https://play.google.com/store/apps/details?id="+o:s&&(a=s),this.tryOpenWithLanding(e.deeplink,a)},isHidden:function(){return document.hidden||document.webkitHidden||document.msHidden||document.mozHidden},visibility:function(){var e=this,a,o;typeof document.hidden!="undefined"?(a="hidden",o="visibilitychange"):typeof document.webkitHidden!="undefined"&&(a="webkitHidden",o="webkitvisibilitychange"),document.removeEventListener(o,e.handleVisibilityChange,!1),this.handleVisibilityChange=function(){document[a]&&(e.hadOpenApp=!0,clearTimeout(e.tryOpenWithLandingID),lhx.dialog.loading.close())},document.addEventListener(o,this.handleVisibilityChange,!1),this.handleVisibilityChange()},tryOpenWithLanding:function(e,a){var o=this;if(lhx.dialog.loading.show("Loading..."),this.hadOpenApp=!1,this.visibility(),e)location.href=e;else if(a){if(lhx.openBp.isiOS){location.href=a;return}window.open(a,"adRAWin");return}!a||(clearTimeout(this.tryOpenWithLandingID),this.tryOpenWithLandingID=setTimeout(function(){if(lhx.dialog.loading.close(),!(o.isHidden()||o.hadOpenApp)){if(lhx.openBp.isiOS){location.href=a;return}window.open(a,"adRAWin")}},6e3))},ddToBp:function(e){var a="bpmain://main/";e&&(a="bpmain://ra?srModel=WEB&srList=WEB&actionKey="+e.actionKey+"&actionArgs="+JSON.stringify(e.actionArgs)),lhx.openBp.isAndroid?lhx.openBp.tryToAndroidBp(a):lhx.openBp.isiOS&&lhx.openBp.tryToIosBp(a)}};$(function(){lhx.serviceWorker.init(),lhx.dialog.pageLoading.close(),lhx.versionControl(),lhx.audioUtils.initPresetSongList(),lhx.scrollChange(),lhx.favouritesPage.init(),lhx.myPlaylists.init(),lhx.audioUtils.init(),lhx.pajax.init(),lhx.eyes.initAll(),lhx.analog.radio.init(),lhx.analog.checkbox.init(),lhx.contryModel.countryModelSelected_init(),lhx.profileEdit.birthday.init(),lhx.storageUtils.initCookie(),lhx.tabWrap.init(),lhx.aside.init(),lhx.logUtils.newLog("ACT","ACT","USER_ACT"),lhx.mainGotoTop.init(),lhx.checkUserInfo.openLogin(),lhx.audioUtils.episodesStateList_init(),lhx.pop_premium.checkPayStatus(),lhx.hearMore.init(),lhx.pop_premium.straightTo(),lhx.setFBJs(),lhx.setGoogleJs();var e=location.href.lmx_parseToObjWithURL();config.fromGoogle=e.from==="google"})});he();})();
